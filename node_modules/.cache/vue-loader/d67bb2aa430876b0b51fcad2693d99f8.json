{"remainingRequest":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/guest-webapp/src/views/OdTemplates.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vignesh/DIVRT/guest-webapp/src/views/OdTemplates.vue","mtime":1688372853737},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gIkAvbGliL0V2ZW50QnVzIjsKaW1wb3J0ICJwcmltZXZ1ZS9yZXNvdXJjZXMvdGhlbWVzL3NhZ2EtYmx1ZS90aGVtZS5jc3MiICAgICAgIC8vdGhlbWUKaW1wb3J0ICJwcmltZXZ1ZS9yZXNvdXJjZXMvcHJpbWV2dWUubWluLmNzcyIgICAgICAgICAgICAgICAgIC8vY29yZSBjc3MKaW1wb3J0ICJwcmltZWljb25zL3ByaW1laWNvbnMuY3NzIiAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWNvbnMKaW1wb3J0IENhbGVuZGFyIGZyb20gJy4uL3VpQ29tcG9uZW50cy9DYWxlbmRhci9DYWxlbmRhci52dWUnCmltcG9ydCB7IGFkZE1pbnV0ZXMgfSBmcm9tICJkYXRlLWZucyI7CmltcG9ydCB7IGZvcm1hdCwgaXNWYWxpZCB9IGZyb20gImRhdGUtZm5zIjsKaW1wb3J0IHsgZGF0ZVRvVGltZVpvbmVEYXRlIH0gZnJvbSAiQC91dGlscy9mb3JtYXREYXRlVGltZSI7Ci8vIGltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBBUElIZWxwZXIgZnJvbSAiLi4vYXBpSGVscGVyIjsKLy8gaW1wb3J0IFZ1ZVRpbWVQaWNrZXIgZnJvbSAnQC91aUNvbXBvbmVudHMvVnVlVGltZVBpY2tlcic7CmltcG9ydCBWdWVQaG9uZU51bWJlcklucHV0IGZyb20gInZ1ZS1waG9uZS1udW1iZXItaW5wdXQiOwppbXBvcnQgInZ1ZS1waG9uZS1udW1iZXItaW5wdXQvZGlzdC92dWUtcGhvbmUtbnVtYmVyLWlucHV0LmNzcyI7Ci8vIGltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKLy8gVnVlLnVzZShtb21lbnQpOwppbXBvcnQgcnVsZXMgZnJvbSAiQC91dGlscy9ydWxlcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgc2hvdzogZmFsc2UsCiAgICBhbGVydERpYWxvZzogZmFsc2UsCiAgICB0aW1lVmFsdWU6IG51bGwsCiAgICBhbGVydE1zZzogIiIsCiAgICBzdG9wVGltZTogIiIsCiAgICBvcGVuVGltZVBpY2tlcjogZmFsc2UsCiAgICBvcGVuRGF0ZVBpY2tlcjogZmFsc2UsCiAgICBkYXRlOiAiIiwKICAgIHRpbWU6ICIiLAogICAgZXhpdFRpbWVTZWxlY3RlZDoge30sCiAgICB0aW1lUGlja2VySHJSYW5nZTogbnVsbCwKICAgIHRpbWVFeGNlZWRlZDogZmFsc2UsCiAgICB0aW1lUGlja2VyTWluUmFuZ2U6IG51bGwsCiAgICBtaW5EYXRlOiBudWxsLAogICAgbWluVGltZURhdGU6IG51bGwsCiAgICBtYXhEYXRlOiBudWxsLAogICAgbWF4VGltZURhdGU6IG51bGwsCiAgICBkaXNhYmxlQWRkUGF5bWVudEJ0bjogZmFsc2UsCiAgICBtYXhEYXRlVGltZTogbnVsbCwKICAgIGdldFJhdGVDYWxsOiBmYWxzZSwKICAgIGdldFJhdGVUZXh0OiAiIiwKICAgIFRpbWVtZW51OiBmYWxzZSwKICAgIHN0YXJ0RGF0ZTogIiIsCiAgICBlc3RpbWF0ZTogbnVsbCwKICAgIERhdGVtZW51OiBmYWxzZSwKICAgIGV4aXREYXRlOiBudWxsLAogICAgZGF0ZUZvcm1hdHRlZDogbnVsbCwKICAgIHJ1bGVzOiBydWxlcywKICAgIGlzQ29udGFjdFZhbGlkOiB0cnVlLAogICAgbGljZW5jZVBsYXRlOiAiIiwKICAgIGNvbnRhY3RPYmo6IHt9LAogICAgbG9hZGluZzogZmFsc2UsCiAgICBjb250YWN0T3B0aW9uczogewogICAgICBjb2xvcjogIiMwMjg4RDEiLAogICAgICB2YWxpZENvbG9yOiAiIzAyODhEMSIsCiAgICAgIGNvbnRhY3RCb3JkZXJSYWRpdXM6IDAsCiAgICAgIGVycm9yQ29sb3I6ICIjRkY1MjUyIiwKICAgICAgZGVmYXVsdENvdW50cnk6ICJVUyIsCiAgICAgIHRyYW5zbGF0aW9uczogewogICAgICAgIHBob25lTnVtYmVyTGFiZWw6ICJDb250YWN0IE5vIiwKICAgICAgfSwKICAgIH0sCiAgICBhZGRQYXltZW50QnRuTG9hZGluZzogZmFsc2UsCiAgfSksCiAgY29tcG9uZW50czogewogICAgVnVlUGhvbmVOdW1iZXJJbnB1dCwKICAgIENhbGVuZGFyCiAgICAvLyBWdWVUaW1lUGlja2VyLAogIH0sCiAgYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgbmV4dChhc3luYyAodm0pID0+IHsKICAgICAgaWYgKGZyb20ucGF0aCA9PT0gIi9vbmRlbWFuZC9tYWtlcGF5bWVudCIpIHsKICAgICAgICBzd2l0Y2ggKHZtLnRlbXBsYXRlRmxhZ3MpIHsKICAgICAgICAgIGNhc2UgJ29uZGVtYW5kLWZsYWcnOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgdm0uY29udGFjdE9iaiA9CiAgICAgICAgICAgICAgICB2bS5vZERldGFpbHMgIT0gbnVsbCAmJgogICAgICAgICAgICAgICAgICBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh2bS5vZERldGFpbHMsICJ1c2VyRGV0YWlsIikgJiYKICAgICAgICAgICAgICAgICAgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodm0ub2REZXRhaWxzPy51c2VyRGV0YWlsLCAiY29udGFjdCIpICYmCiAgICAgICAgICAgICAgICAgIHZtLm9kRGV0YWlscz8udXNlckRldGFpbD8uY29udGFjdCAhPSB1bmRlZmluZWQgJiYKICAgICAgICAgICAgICAgICAgdm0ub2REZXRhaWxzPy51c2VyRGV0YWlsPy5jb250YWN0ICE9IG51bGwKICAgICAgICAgICAgICAgICAgPyBPYmplY3QuYXNzaWduKHZtLmNvbnRhY3RPYmosIHsKICAgICAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZToKICAgICAgICAgICAgICAgICAgICAgIHZtLm9kRGV0YWlscz8udXNlckRldGFpbD8uY29udGFjdC5zbGljZSgwLCAtMTApID09ICIrOTEiCiAgICAgICAgICAgICAgICAgICAgICAgID8gIklOIgogICAgICAgICAgICAgICAgICAgICAgICA6IHZtLm9kRGV0YWlscz8udXNlckRldGFpbD8uY29udGFjdC5zbGljZSgwLCAtMTApID09ICIrMSIKICAgICAgICAgICAgICAgICAgICAgICAgICA/ICJVUyIKICAgICAgICAgICAgICAgICAgICAgICAgICA6ICIiLAogICAgICAgICAgICAgICAgICAgIHBob25lTnVtYmVyOiB2bS5vZERldGFpbHM/LnVzZXJEZXRhaWw/LmNvbnRhY3QsCiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVkTnVtYmVyOiAiKyIgKyB2bS5vZERldGFpbHMudXNlckRldGFpbC5jb250YWN0LAogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgICA6IHt9OwogICAgICAgICAgICAgIHZtLmxpY2VuY2VQbGF0ZSA9IHZtLm9kRGV0YWlscz8udXNlckRldGFpbC5wbGF0ZQogICAgICAgICAgICAgICAgPyB2bS5vZERldGFpbHM/LnVzZXJEZXRhaWwucGxhdGUKICAgICAgICAgICAgICAgIDogIiI7CiAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgIH0KCiAgICAgICAgfQoKICAgICAgfQogICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ29kRGV0YWlscycpKSB7CiAgICAgICAgbGV0IG9kRGV0YWlscyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvZERldGFpbHMnKTsKICAgICAgICBvZERldGFpbHMgPSBvZERldGFpbHMgPyBKU09OLnBhcnNlKG9kRGV0YWlscykgOiB7fTsKICAgICAgICB2bS5jb250YWN0T2JqID0gb2REZXRhaWxzPy5jb250YWN0ID8gT2JqZWN0LmFzc2lnbih7fSwgb2REZXRhaWxzLmNvbnRhY3QpIDogdm0uY29udGFjdE9iajsKICAgICAgICB2bS5saWNlbmNlUGxhdGUgPSBvZERldGFpbHM/LmxpY2VuY2VQbGF0ZSA/IG9kRGV0YWlscy5saWNlbmNlUGxhdGUgOiB2bS5saWNlbmNlUGxhdGU7CiAgICAgIH0KICAgICAgbGV0IHNlYXJjaFBhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoIj0iKTsKICAgICAgbGV0IHNlYXJjaFBhcmFtS2V5ID0gc2VhcmNoUGFyYW1zLmxlbmd0aCA+IDAgPyBzZWFyY2hQYXJhbXNbMF0gOiAiIjsKICAgICAgbGV0IHNlYXJjaFBhcmFtVmFsdWUgPSBzZWFyY2hQYXJhbXMubGVuZ3RoID4gMCA/IHNlYXJjaFBhcmFtc1sxXSA6ICIiOwogICAgICBpZiAod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoIm9uZGVtYW5kIikpIHsKICAgICAgICB2bS4kc3RvcmUuY29tbWl0KCdTRVRfVEVNUExBVEVfRkxBR1MnLCAnb25kZW1hbmQtZmxhZycpCiAgICAgIH0KICAgICAgc3dpdGNoIChzZWFyY2hQYXJhbUtleSkgewogICAgICAgIGNhc2UgIj96Y29kZSI6CiAgICAgICAgICBhd2FpdCB2bS5nZXRab25lRGV0YWlscyhzZWFyY2hQYXJhbUtleSwgc2VhcmNoUGFyYW1WYWx1ZSk7CiAgICAgICAgICBhd2FpdCB2bS5nZXRPbkRlbWFuZFpvbmVEZXRhaWxzKHNlYXJjaFBhcmFtVmFsdWUpOwogICAgICAgICAgdm0uc2V0RGVmYXVsdERhdGUoKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIj9nYXRlaWQiOgogICAgICAgICAgLy9hd2FpdCBzZWxmLmdldFpvbmVEZXRhaWxzKHNlYXJjaFBhcmFtS2V5LCBzZWFyY2hQYXJhbVZhbHVlKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9KTsKICB9LAogIHdhdGNoOiB7CiAgICAvLyBleGl0RGF0ZShuZXdWYWwsIG9sZFZhbCkgewogICAgLy8gICBsZXQgZGF0ZSA9IGZvcm1hdCgKICAgIC8vICAgICBhZGRNaW51dGVzKG5ldyBEYXRlKHRoaXMuZXhpdERhdGUpLCAxNSksCiAgICAvLyAgICAgInl5eXktTU0tZGQiCiAgICAvLyAgICkKICAgIC8vICAgdGhpcy5kYXRlRm9ybWF0dGVkID0gdGhpcy5mb3JtYXREYXRlKGRhdGUpOwogICAgLy8gICBpZiAob2xkVmFsICE9IG5ld1ZhbCAmJiB0aGlzLmV4aXREYXRlID09IGZvcm1hdCgKICAgIC8vICAgICBkYXRlVG9UaW1lWm9uZURhdGUoYWRkTWludXRlcyhuZXcgRGF0ZSgpLCAxNSksCiAgICAvLyAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgIC8vICAgICApLAogICAgLy8gICAgICJ5eXl5LU1NLWRkIgogICAgLy8gICApKSB7CiAgICAvLyAgICAgdGhpcy5nZXRSYXRlQ2FsbCA9IHRydWU7CiAgICAvLyAgICAgdGhpcy5zZXREZWZhdWx0RGF0ZSgpOwogICAgLy8gICB9CiAgICAvLyAgIGVsc2UgewogICAgLy8gICAgIHRoaXMuZ2V0UmF0ZUNhbGwgPSBmYWxzZQogICAgLy8gICB9CiAgICAvLyB9LAogICAgdGltZShuZXdWYWwsIG9sZFZhbCkgewogICAgICBpZiAob2xkVmFsICE9IG51bGwgJiYgbmV3VmFsICE9IG51bGwgJiYgb2xkVmFsICE9IG5ld1ZhbCAmJiBvbGRWYWwgIT0gIiIgJiYgbmV3VmFsICE9ICIiICYmIChpc1ZhbGlkKG5ld1ZhbCkpKSB7CiAgICAgICAgdGhpcy5yb3VuZChuZXdWYWwpOwogICAgICB9CiAgICAgIC8vIHRoaXMuc2V0VGltZVBpY2tlcihuZXdWYWwpOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNldERlZmF1bHREYXRlKCk7CiAgICAvLyB0aGlzLnNldERhdGVQaWNrZXIoKQogICAgRXZlbnRCdXMuJG9uKCdTRVRfVElNRScsICgpID0+IHsKICAgICAgdGhpcy5vblRpbWVQaWNrZXJDaGFuZ2UoKTsKICAgIH0pCiAgICAvLyB0aGlzLnNldFRpbWVQaWNrZXIoKTsgLy9tb21lbnQobmV3IERhdGUoKSkuZm9ybWF0KCJZWVlZLU1NLUREIGhoOm1tIGEiKS50b1N0cmluZygpOwogIH0sCiAgbWV0aG9kczogewogICAgc2V0RGVmYXVsdERhdGUoKSB7CiAgICAgIHRoaXMuZGF0ZUZvcm1hdHRlZCA9IHRoaXMuem9uZURldGFpbHMudGltZXpvbmUKICAgICAgICA/IGZvcm1hdCgKICAgICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZShhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwKICAgICAgICAgICAgdGhpcy56b25lRGV0YWlscy50aW1lem9uZQogICAgICAgICAgKSwKICAgICAgICAgICJNTS9kZC95eXl5IgogICAgICAgICkKICAgICAgICA6IGZvcm1hdChhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwgIk1NL2RkL3l5eXkiKTsKICAgICAgdGhpcy50aW1lID0gdGhpcy56b25lRGV0YWlscy50aW1lem9uZQogICAgICAgID8KICAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAgICAgICBhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwKICAgICAgICAgIHRoaXMuem9uZURldGFpbHMudGltZXpvbmUKICAgICAgICApCiAgICAgICAgOiBhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KTsKICAgICAgLy8gdGhpcy50aW1lID0gYWRkTWludXRlcyhuZXcgRGF0ZSgpLCAxNSkKCiAgICAgIGxldCBmaWZ0ZWVuVGltZSA9IHRoaXMudGltZTsKICAgICAgdGhpcy50aW1lID0gZm9ybWF0KHRoaXMudGltZSwgJ21tJykgPT09ICcxNScgfHwgZm9ybWF0KHRoaXMudGltZSwgJ21tJykgPT09ICczMCcgfHwgZm9ybWF0KHRoaXMudGltZSwgJ21tJykgPT09ICc0NScgfHwgZm9ybWF0KHRoaXMudGltZSwgJ21tJykgPT09ICcwMCcgPyBmaWZ0ZWVuVGltZSA6IHRoaXMucm91bmQodGhpcy50aW1lKTsKICAgICAgdGhpcy56b25lRGV0YWlscz8udGltZVBpY2tlckNvbmZpZ3VyYXRpb24gPT0gJzAnID8gdGhpcy5kYXRlVGltZUNoYW5nZSgpIDogIiIKICAgIH0sCiAgICByb3VuZCh0aW1lKSB7CiAgICAgIGxldCBleGl0ZGF0ZSA9IHRpbWUgIT09IG51bGwgJiYgdGltZSAhPT0gJycgPyBmb3JtYXQodGltZSwgJ3l5eXkvTU0vZGQnKSA6IG5ldyBEYXRlKCk7CgogICAgICBsZXQgc2VsZWN0ZWRNaW5zID0gdGltZSAhPT0gbnVsbCAmJiB0aW1lICE9PSAnJyA/IGZvcm1hdCh0aW1lLCAnbW0nKSA6IG5ldyBEYXRlKCk7CiAgICAgIGxldCBzZWxlY3RlZEhvdXJzID0gdGltZSAhPT0gbnVsbCAmJiB0aW1lICE9PSAnJyA/IGZvcm1hdCh0aW1lLCAnaGgnKSA6IG5ldyBEYXRlKCk7CiAgICAgIGxldCBzZWxlY3RlZEFNUE0gPSB0aW1lICE9PSBudWxsICYmIHRpbWUgIT09ICcnID8gZm9ybWF0KHRpbWUsICdhYWEnKSA6IG5ldyBEYXRlKCk7CiAgICAgIGlmIChleGl0ZGF0ZSAhPSBudWxsICYmIHNlbGVjdGVkTWlucyAhPSAnMTUnICYmIHNlbGVjdGVkTWlucyAhPSAnMzAnICYmIHNlbGVjdGVkTWlucyAhPSAnNDUnICYmIHNlbGVjdGVkTWlucyAhPSAnMDAnICYmIHNlbGVjdGVkTWlucyAhPSBudWxsICYmIHNlbGVjdGVkTWlucyAhPSAiIiAmJiBzZWxlY3RlZEhvdXJzICE9IG51bGwgJiYgc2VsZWN0ZWRIb3VycyAhPSAiIiAmJiBzZWxlY3RlZEFNUE0gIT0gbnVsbCAmJiBzZWxlY3RlZEFNUE0gIT0gIiIpIHsKICAgICAgICBsZXQgaW50ZXJ2YWxNaWxsaXNlY29uZHMgPSA5MDAwMDAKICAgICAgICBsZXQgZGF0ZXRpbWUgPSBuZXcgRGF0ZShleGl0ZGF0ZSArICIgIiArIHNlbGVjdGVkSG91cnMgKyAiOiIgKyBzZWxlY3RlZE1pbnMgKyAiICIgKyBzZWxlY3RlZEFNUE0pCiAgICAgICAgbGV0IGludGVydmFsID0gZGF0ZXRpbWUuZ2V0VGltZSgpICUgaW50ZXJ2YWxNaWxsaXNlY29uZHM7CiAgICAgICAgbGV0IGRlbHRhID0gaW50ZXJ2YWwgPT09IDAgPyAwIDogZGF0ZXRpbWUuZ2V0VGltZSgpIC0gaW50ZXJ2YWw7CiAgICAgICAgZGVsdGEgKz0gaW50ZXJ2YWxNaWxsaXNlY29uZHM7CiAgICAgICAgLy8gdGhpcy5leGl0VGltZVNlbGVjdGVkID0gT2JqZWN0LmFzc2lnbih0aGlzLmV4aXRUaW1lU2VsZWN0ZWQsIHsgaGg6IGZvcm1hdChuZXcgRGF0ZShkZWx0YSksICdoaCcpLCBtbTogZm9ybWF0KG5ldyBEYXRlKGRlbHRhKSwgJ21tJyksIGE6IGZvcm1hdChuZXcgRGF0ZShkZWx0YSksICdhJyksIH0pCiAgICAgICAgcmV0dXJuIGludGVydmFsICE9PSAwID8gbmV3IERhdGUoZGVsdGEpIDogZGF0ZXRpbWU7CiAgICAgIH0KICAgIH0sCiAgICAvLyBvcGVuVGltZVBpY2tlcigpIHsKICAgIC8vICAgdGhpcy5zZXRUaW1lUGlja2VyKHRoaXMuZXhpdFRpbWVTZWxlY3RlZCk7CiAgICAvLyB9LAogICAgb25UaW1lUGlja2VyQ2hhbmdlKCkgewogICAgICBsZXQgZXhpdGRhdGUgPSB0aGlzLnRpbWUgIT09IG51bGwgJiYgdGhpcy50aW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy50aW1lICE9PSAiIiA/IGZvcm1hdCh0aGlzLnRpbWUsICd5eXl5L01NL2RkJykgOiAiIjsKICAgICAgbGV0IHNlbGVjdGVkTWlucyA9IHRoaXMudGltZSAhPT0gbnVsbCAmJiB0aGlzLnRpbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRpbWUgIT09ICIiID8gZm9ybWF0KHRoaXMudGltZSwgJ21tJykgOiAiIjsKICAgICAgbGV0IHNlbGVjdGVkSG91cnMgPSB0aGlzLnRpbWUgIT09IG51bGwgJiYgdGhpcy50aW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy50aW1lICE9PSAiIiA/IGZvcm1hdCh0aGlzLnRpbWUsICdoaCcpIDogIiI7CiAgICAgIGxldCBzZWxlY3RlZEFNUE0gPSB0aGlzLnRpbWUgIT09IG51bGwgJiYgdGhpcy50aW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy50aW1lICE9PSAiIiA/IGZvcm1hdCh0aGlzLnRpbWUsICdhJykgOiAiIjsKICAgICAgaWYgKHNlbGVjdGVkQU1QTSA9PSAiUE0iICYmIE51bWJlcihzZWxlY3RlZEhvdXJzKSA8IDEyKSB7CiAgICAgICAgc2VsZWN0ZWRIb3VycyA9IChOdW1iZXIoc2VsZWN0ZWRIb3VycykgKyAxMikudG9TdHJpbmcoKTsKICAgICAgICBzZWxlY3RlZEhvdXJzID0gc2VsZWN0ZWRIb3VycyA9PT0gJzAnID8gc2VsZWN0ZWRIb3VycyA9ICcwMCcgOiBzZWxlY3RlZEhvdXJzOwoKICAgICAgfQogICAgICBpZiAoc2VsZWN0ZWRBTVBNID09ICJBTSIgJiYgTnVtYmVyKHNlbGVjdGVkSG91cnMpID09IDEyKSB7CiAgICAgICAgc2VsZWN0ZWRIb3VycyA9IChOdW1iZXIoc2VsZWN0ZWRIb3VycykgLSAxMikudG9TdHJpbmcoKQogICAgICAgIHNlbGVjdGVkSG91cnMgPSBzZWxlY3RlZEhvdXJzID09PSAnMCcgPyBzZWxlY3RlZEhvdXJzID0gJzAwJyA6IHNlbGVjdGVkSG91cnM7CiAgICAgIH0KICAgICAgdGhpcy5zdG9wVGltZSA9IHNlbGVjdGVkTWlucyAhPSBudWxsICYmIHNlbGVjdGVkTWlucyAhPSAiIiAmJiBzZWxlY3RlZEhvdXJzICE9IG51bGwgJiYgc2VsZWN0ZWRIb3VycyAhPSAiIiAmJiBzZWxlY3RlZEFNUE0gIT0gbnVsbCAmJiBzZWxlY3RlZEFNUE0gIT0gIiIgPyBzZWxlY3RlZEhvdXJzICsgIjoiICsgc2VsZWN0ZWRNaW5zICsgIjoiICsgIjAwIiA6ICIiOwogICAgICBsZXQgY3VycmVuVGltZSA9IHRoaXMuem9uZURldGFpbHMudGltZXpvbmUKICAgICAgICA/IGZvcm1hdCgKICAgICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZShuZXcgRGF0ZSgpLAogICAgICAgICAgICB0aGlzLnpvbmVEZXRhaWxzLnRpbWV6b25lCiAgICAgICAgICApLAogICAgICAgICAgInl5eXktTU0tZGQgSEg6bW06c3MiCiAgICAgICAgKQogICAgICAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJ5eXl5LU1NLWRkICBISDptbTpzcyIpOwogICAgICBpZiAoCiAgICAgICAgc2VsZWN0ZWRNaW5zICE9IG51bGwgJiYgc2VsZWN0ZWRNaW5zICE9ICIiICYmIHNlbGVjdGVkSG91cnMgIT0gbnVsbCAmJiBzZWxlY3RlZEhvdXJzICE9ICIiICYmIHNlbGVjdGVkQU1QTSAhPSBudWxsICYmIHNlbGVjdGVkQU1QTSAhPSAiIiAmJgogICAgICAgIG5ldyBEYXRlKGV4aXRkYXRlICsgIiAiICsgdGhpcy5zdG9wVGltZSkuZ2V0VGltZSgpID4KICAgICAgICBuZXcgRGF0ZShjdXJyZW5UaW1lKS5nZXRUaW1lKCkKICAgICAgKSB7CiAgICAgICAgdGhpcy5kYXRlVGltZUNoYW5nZSgpOwogICAgICB9CiAgICB9LAogICAgc2V0RGF0ZVBpY2tlcigpIHsKICAgICAgLy9zZXQgdGhlIG1pbmltdW0gZGF0ZSB0byB0b2RheSBkYXRlKHpvbmUgdGltZSB6b25lIGRhdGUpCiAgICAgIHRoaXMubWluVGltZURhdGUgPSB0aGlzLnpvbmVEZXRhaWxzLnRpbWV6b25lID8gdGhpcy5yb3VuZCh0aGlzLnpvbmVEZXRhaWxzLnRpbWV6b25lCiAgICAgICAgPwogICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZShhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwKICAgICAgICAgIHRoaXMuem9uZURldGFpbHMudGltZXpvbmUKICAgICAgICApCiAgICAgICAgOiBhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSkgOiB0aGlzLnpvbmVEZXRhaWxzLnRpbWV6b25lCiAgICAgICAgPwogICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZShhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwKICAgICAgICAgIHRoaXMuem9uZURldGFpbHMudGltZXpvbmUKICAgICAgICApCiAgICAgICAgOiBhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KTsKICAgICAgLy9jYWxjdWxhdGUgbWF4IHBhcmtpZ24gdGltZSBpbiBzZWNvbmRzCiAgICAgIGxldCBtYXhQYXJraW5nVGltZSA9CiAgICAgICAgdGhpcy56b25lRGV0YWlscyAhPSBudWxsCiAgICAgICAgICA/IE51bWJlcih0aGlzLnpvbmVEZXRhaWxzPy5tYXhQYXJraW5nVGltZT8uZGF5cykgKgogICAgICAgICAgMjQgKgogICAgICAgICAgNjAgKgogICAgICAgICAgNjAgKwogICAgICAgICAgTnVtYmVyKHRoaXMuem9uZURldGFpbHM/Lm1heFBhcmtpbmdUaW1lPy5ob3VycykgKiA2MCAqIDYwICsKICAgICAgICAgIE51bWJlcih0aGlzLnpvbmVEZXRhaWxzPy5tYXhQYXJraW5nVGltZT8ubWludXRlcykgKiA2MAogICAgICAgICAgOiBudWxsOwogICAgICBsZXQgY3VycmVudERhdGVUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7CgogICAgICAvL2dldCBtYXggZGF0ZSBpbiBzZWNvbmRzIGJhc2VkIG9uIG1heCBwYXJraW5nIHRpbWUKICAgICAgbGV0IG1heFpvbmVEYXRlID0KICAgICAgICBtYXhQYXJraW5nVGltZSAhPSBudWxsID8gY3VycmVudERhdGVUaW1lICsgbWF4UGFya2luZ1RpbWUgKiAxMDAwIDogbnVsbDsKICAgICAgdGhpcy5tYXhUaW1lRGF0ZSA9IHRoaXMuem9uZURldGFpbHMudGltZXpvbmUKICAgICAgICA/CiAgICAgICAgZGF0ZVRvVGltZVpvbmVEYXRlKAogICAgICAgICAgbmV3IERhdGUobWF4Wm9uZURhdGUpLAogICAgICAgICAgdGhpcy56b25lRGV0YWlscy50aW1lem9uZQogICAgICAgICkKICAgICAgICA6IG5ldyBEYXRlKG1heFpvbmVEYXRlKTsKICAgICAgLy9nZXQgbWF4IGRhdGUgd2l0aCB0aW1lIGFuZCBzZXQgaXQgdG8gbWF4RGF0ZVRpbWUKICAgICAgdGhpcy5tYXhEYXRlVGltZSA9IHRoaXMuem9uZURldGFpbHMudGltZXpvbmUKICAgICAgICA/IGZvcm1hdCgKICAgICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZSgKICAgICAgICAgICAgbmV3IERhdGUobWF4Wm9uZURhdGUpLAogICAgICAgICAgICB0aGlzLnpvbmVEZXRhaWxzLnRpbWV6b25lCiAgICAgICAgICApLAogICAgICAgICAgInl5eXktTU0tZGQgaGg6bW0gYWFhYWEiCiAgICAgICAgKQogICAgICAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJ5eXl5LU1NLWRkIGhoOm1tIGFhYWFhIik7CiAgICB9LAogICAgLy8gc2V0VGltZVBpY2tlcih2YWwpIHsKICAgIC8vICAgLy8gbGV0IGN1cnJlbnRUaW1lTWVyaWRpYW4gPSB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgIC8vICAgLy8gICA/IGZvcm1hdCgKICAgIC8vICAgLy8gICAgICAgZGF0ZVRvVGltZVpvbmVEYXRlKAogICAgLy8gICAvLyAgICAgICAgIGFkZE1pbnV0ZXMobmV3IERhdGUoKSwgMTUpLAogICAgLy8gICAvLyAgICAgICAgIHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZQogICAgLy8gICAvLyAgICAgICApLAogICAgLy8gICAvLyAgICAgICAiYWFhIgogICAgLy8gICAvLyAgICAgKQogICAgLy8gICAvLyAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJhYWEiKTsKICAgIC8vICAgLy8gbGV0IGN1cnJlbnRIciA9IHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZQogICAgLy8gICAvLyAgID8gZm9ybWF0KAogICAgLy8gICAvLyAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAvLyAgIC8vICAgICAgICAgYWRkTWludXRlcyhuZXcgRGF0ZSgpLCAxNSksCiAgICAvLyAgIC8vICAgICAgICAgdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAvLyAgIC8vICAgICAgICksCiAgICAvLyAgIC8vICAgICAgICJoIgogICAgLy8gICAvLyAgICAgKQogICAgLy8gICAvLyAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJoIik7CiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKGN1cnJlbnRIcikKCiAgICAvLyAgIC8vZ2V0IHRoZSB0b2RheXMgY3VycmVudCB6b25lIHRpbWUKCiAgICAvLyAgIGxldCBjdXJyZW50VGltZSA9IHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZQogICAgLy8gICAgID8gZm9ybWF0KAogICAgLy8gICAgICAgZGF0ZVRvVGltZVpvbmVEYXRlKAogICAgLy8gICAgICAgICBhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwKICAgIC8vICAgICAgICAgdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAvLyAgICAgICApLCAiaGFhYWFhIgogICAgLy8gICAgICkKICAgIC8vICAgICA6IGZvcm1hdChhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwgImhhYWFhYSIpOwogICAgLy8gICAvL3NldCB0aGUgaHIgcmFuZ2UKICAgIC8vICAgaWYgKAogICAgLy8gICAgIHRoaXMuZXhpdERhdGUgPT0KICAgIC8vICAgICBmb3JtYXQoCiAgICAvLyAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAvLyAgICAgICAgIGFkZE1pbnV0ZXMobmV3IERhdGUoKSwgMTUpLAogICAgLy8gICAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgIC8vICAgICAgICksCiAgICAvLyAgICAgICAieXl5eS1NTS1kZCIKICAgIC8vICAgICApCiAgICAvLyAgICkgewogICAgLy8gICAgIHRoaXMudGltZVBpY2tlckhyUmFuZ2UgPSBbCiAgICAvLyAgICAgICBbY3VycmVudFRpbWUgPT0gIjEyYSIgPyAiMGEiIDogY3VycmVudFRpbWUsICIxMXAiXSwKICAgIC8vICAgICBdOwogICAgLy8gICB9CiAgICAvLyAgIC8vIGlmIG1heGRhdGUgPT0gZXhpdCBkYXRlCiAgICAvLyAgIGVsc2UgaWYgKAogICAgLy8gICAgIHRoaXMubWF4RGF0ZVRpbWUgIT0gbnVsbCAmJgogICAgLy8gICAgIHRoaXMubWF4RGF0ZVRpbWUuc3BsaXQoIiAiKVswXSA9PSB0aGlzLmV4aXREYXRlCiAgICAvLyAgICkgewogICAgLy8gICAgIGxldCB0aW1lID0gdGhpcy5tYXhEYXRlVGltZS5zcGxpdCgiICIpWzFdOwogICAgLy8gICAgIGxldCBociA9IHRpbWUuc3BsaXQoIjoiKVswXSArIHRoaXMubWF4RGF0ZVRpbWUuc3BsaXQoIiAiKVsyXTsKICAgIC8vICAgICBociA9PSAiMTJhIgogICAgLy8gICAgICAgPyAiMGEiCiAgICAvLyAgICAgICA6IHRpbWUuc3BsaXQoIjoiKVswXSArIHRoaXMubWF4RGF0ZVRpbWUuc3BsaXQoIiAiKVsyXTsKICAgIC8vICAgICB0aGlzLnRpbWVQaWNrZXJIclJhbmdlID0gW1siMGEiLCBocl1dOwogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIHRoaXMudGltZVBpY2tlckhyUmFuZ2UgPSBudWxsOwogICAgLy8gICB9CgogICAgLy8gICBsZXQgaHJJblBNID0gdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAvLyAgICAgPyBmb3JtYXQoCiAgICAvLyAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAvLyAgICAgICAgIGFkZE1pbnV0ZXMobmV3IERhdGUoKSwgMTUpLAogICAgLy8gICAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgIC8vICAgICAgICksCiAgICAvLyAgICAgICAiaGhhYWEiCiAgICAvLyAgICAgKQogICAgLy8gICAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJoaGFhYSIpOwogICAgLy8gICAvL3NldCB0aGUgbWluIHJhbmdlCiAgICAvLyAgIGlmICgKICAgIC8vICAgICB0aGlzLmV4aXREYXRlID09CiAgICAvLyAgICAgZm9ybWF0KAogICAgLy8gICAgICAgZGF0ZVRvVGltZVpvbmVEYXRlKAogICAgLy8gICAgICAgICBhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwKICAgIC8vICAgICAgICAgdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAvLyAgICAgICApLAogICAgLy8gICAgICAgInl5eXktTU0tZGQiCiAgICAvLyAgICAgKSAmJgogICAgLy8gICAgIHZhbCAhPSBudWxsICYmCiAgICAvLyAgICAgaHJJblBNID09IHZhbD8uaGggKyB2YWwuYQogICAgLy8gICApIHsKICAgIC8vICAgICB0aGlzLnRpbWVQaWNrZXJNaW5SYW5nZSA9IFsKICAgIC8vICAgICAgIFsKICAgIC8vICAgICAgICAgdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAvLyAgICAgICAgICAgPyBOdW1iZXIoCiAgICAvLyAgICAgICAgICAgICBmb3JtYXQoCiAgICAvLyAgICAgICAgICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZSgKICAgIC8vICAgICAgICAgICAgICAgICBhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwKICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgIC8vICAgICAgICAgICAgICAgKSwKICAgIC8vICAgICAgICAgICAgICAgIm1tIgogICAgLy8gICAgICAgICAgICAgKQogICAgLy8gICAgICAgICAgICkKICAgIC8vICAgICAgICAgICA6IE51bWJlcihmb3JtYXQoYWRkTWludXRlcyhuZXcgRGF0ZSgpLCAxNSksICJtbSIpKSwKICAgIC8vICAgICAgICAgNTksCiAgICAvLyAgICAgICBdLAogICAgLy8gICAgIF07CiAgICAvLyAgIH0gZWxzZSBpZiAoCiAgICAvLyAgICAgdGhpcy5tYXhEYXRlVGltZSAhPSBudWxsICYmCiAgICAvLyAgICAgdGhpcy5tYXhEYXRlVGltZS5zcGxpdCgiICIpWzBdID09IHRoaXMuZXhpdERhdGUKICAgIC8vICAgKSB7CiAgICAvLyAgICAgbGV0IHRpbWUgPSB0aGlzLm1heERhdGVUaW1lLnNwbGl0KCIgIilbMV07CiAgICAvLyAgICAgbGV0IGhyID0gdGltZS5zcGxpdCgiOiIpWzBdICsgdGhpcy5tYXhEYXRlVGltZS5zcGxpdCgiICIpWzJdOwogICAgLy8gICAgIGlmICh2YWwgIT0gbnVsbCAmJiBociA9PSB2YWw/LmhoICsgdmFsLmFbMF0pIHsKICAgIC8vICAgICAgIGxldCBtaW4gPSB0aW1lLnNwbGl0KCI6IilbMV07CiAgICAvLyAgICAgICB0aGlzLnRpbWVQaWNrZXJNaW5SYW5nZSA9IFtbMCwgbWluXV07CiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIHRoaXMudGltZVBpY2tlck1pblJhbmdlID0gW1swLCA1OV1dOwogICAgLy8gICAgIH0KICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICB0aGlzLnRpbWVQaWNrZXJNaW5SYW5nZSA9IFtbMCwgNTldXTsKICAgIC8vICAgfQogICAgLy8gICBpZiAoCiAgICAvLyAgICAgdGhpcy5leGl0VGltZVNlbGVjdGVkID09IG51bGwgJiYKICAgIC8vICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHM/LnRpbWVab25lICE9IHVuZGVmaW5lZAogICAgLy8gICApIHsKICAgIC8vICAgICB0aGlzLnRpbWVQaWNrZXJIclJhbmdlID0gW107CiAgICAvLyAgICAgdGhpcy50aW1lUGlja2VyTWluUmFuZ2UgPSBbXTsKICAgIC8vICAgICByZXR1cm47CiAgICAvLyAgIH0gZWxzZSBpZiAodGhpcy5leGl0VGltZVNlbGVjdGVkPy5oaCA9PSAiIikgewogICAgLy8gICAgIHRoaXMudGltZVBpY2tlck1pblJhbmdlID0gW107CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvKiogQG1ldGhvZHMgdG8gZmluZCB0aGUgZXN0aW1hdGUgcmF0ZSAKICAgICBAcGFyYW1zIHN0YXJ0RGF0ZSAsIHN0b3BEYXRlLHpjb2RlLCB0eXBlICwgZW52X292ZXJSaWRlCiAgICAgKi8KCiAgICBhc3luYyBkYXRlVGltZUNoYW5nZSgpIHsKICAgICAgdHJ5IHsKICAgICAgICAvL2Zvcm1hdChuZXcgRGF0ZSh0aGlzLmNoZWNraW5EYXRlKSwgInl5eXktTU0tZGQnVCdISDptbTpzcyIpOwogICAgICAgIC8vIHRoaXMuc2V0VGltZVBpY2tlcigpOwogICAgICAgIGlmICh0aGlzLnN0b3BUaW1lICE9IG51bGwgJiYgdGhpcy5zdG9wVGltZSAhPSAiIikgewogICAgICAgICAgdGhpcy5zdGFydERhdGUgPSB0aGlzLnpvbmVEZXRhaWxzLnRpbWV6b25lCiAgICAgICAgICAgID8gZm9ybWF0KAogICAgICAgICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZSgKICAgICAgICAgICAgICAgIG5ldyBEYXRlKCksCiAgICAgICAgICAgICAgICB0aGlzLnpvbmVEZXRhaWxzLnRpbWV6b25lCiAgICAgICAgICAgICAgKSwKICAgICAgICAgICAgICAieXl5eS1NTS1kZCdUJ0hIOm1tOnNzIgogICAgICAgICAgICApCiAgICAgICAgICAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJ5eXl5LU1NLWRkJ1QnSEg6bW06c3MiKTsKICAgICAgICAgIGxldCBzdG9wVGltZSA9IE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRoaXMuem9uZURldGFpbHMsICd0aW1lUGlja2VyQ29uZmlndXJhdGlvbicpICYmIHRoaXMuem9uZURldGFpbHMudGltZVBpY2tlckNvbmZpZ3VyYXRpb24gPT0gJzAnID8gJzIzOjU5OjAwJyA6IHRoaXMuc3RvcFRpbWU7IC8vPy5oaCsiOiIrdGhpcy5leGl0VGltZVNlbGVjdGVkLm1tKyI6MDAiLy9mb3JtYXQodGhpcy5jaGVja291dERhdGUsICJ5eXl5LU1NLWRkJ1QnSEg6bW06c3MiKQogICAgICAgICAgbGV0IGV4aXRkYXRlID0gdGhpcy50aW1lICE9PSBudWxsICYmIHRoaXMudGltZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMudGltZSAhPT0gIiIgPyBmb3JtYXQodGhpcy50aW1lLCAneXl5eS1NTS1kZCcpIDogIiI7CiAgICAgICAgICBsZXQgc3RvcERhdGUgPSBleGl0ZGF0ZSArICdUJyArIHN0b3BUaW1lOwogICAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICAgIHN0YXJ0QXQ6IHRoaXMuc3RhcnREYXRlLAogICAgICAgICAgICBzdG9wQXQ6IHN0b3BEYXRlLAogICAgICAgICAgICB6Y29kZTogdGhpcy56b25lRGV0YWlscy56Y29kZSwKICAgICAgICAgIH07CiAgICAgICAgICB0aGlzLmFkZFBheW1lbnRCdG5Mb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIHZhciBnZXRSYXRlID0gYXdhaXQgQVBJSGVscGVyKCJQT1NUIiwgIi9hcGkvdjIvZ2V0UmF0ZSIsIGRhdGEpOwogICAgICAgICAgLy9jb25kaXRpb24gdG8gY2hlY2sgaWYgdGhlIGRhdGUgdGltZSBzZWxlY3RlZCBpcyBsZXNzZXIgdGhhbiBjdXJyZW50IHRpbWUKICAgICAgICAgIGlmICghZ2V0UmF0ZT8uZGF0YT8uc3RhdHVzKSB7CiAgICAgICAgICAgIHRoaXMuZGlzYWJsZUFkZFBheW1lbnRCdG4gPSB0cnVlOwogICAgICAgICAgICB0aGlzLmFsZXJ0RGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5hbGVydE1zZyA9IGdldFJhdGU/LmRhdGE/Lm1lc3NhZ2UgfHwgIkVycm9yIGluIGdldHRpbmcgcmF0ZSBkZXRhaWxzIjsKICAgICAgICAgICAgRXZlbnRCdXMuJGVtaXQoJ2RhdGV0aW1lLXNldCcpOwoKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLmRpc2FibGVBZGRQYXltZW50QnRuID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMub3BlbkRhdGVQaWNrZXIgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5vcGVuVGltZVBpY2tlciA9IGZhbHNlOwogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZGF0ZXRpbWUtc2V0Jyk7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmVzdGltYXRlID0gT2JqZWN0LmFzc2lnbih7fSwgZ2V0UmF0ZT8uZGF0YT8uZGF0YSk7CiAgICAgICAgICAvLyBlc3RpbWF0ZWRWYWwgIT0gIiIgJiYKICAgICAgICAgIC8vIGVzdGltYXRlZFZhbCAhPSBudWxsICYmCiAgICAgICAgICAvLyBlc3RpbWF0ZWRWYWwgIT0gdW5kZWZpbmVkCiAgICAgICAgICAvLyAgID8gTnVtYmVyKGVzdGltYXRlZFZhbCkudG9GaXhlZCgyKQogICAgICAgICAgLy8gICA6IGVzdGltYXRlZFZhbDsKICAgICAgICAgIHRoaXMuYWRkUGF5bWVudEJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy5hZGRQYXltZW50QnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGZvcm1hdERhdGUoZGF0ZSkgewogICAgICBsZXQgc3RyaW5nZGF0ZSA9IGRhdGUudG9TdHJpbmcoKTsKICAgICAgaWYgKCFkYXRlKSByZXR1cm4gbnVsbDsKCiAgICAgIGNvbnN0IFt5ZWFyLCBtb250aCwgZGF5XSA9IHN0cmluZ2RhdGUuc3BsaXQoIi0iKTsKICAgICAgcmV0dXJuIGAke21vbnRofS8ke2RheX0vJHt5ZWFyfWA7CiAgICB9LAogICAgcGFyc2VEYXRlKGRhdGUpIHsKICAgICAgaWYgKCFkYXRlKSByZXR1cm4gbnVsbDsKCiAgICAgIGNvbnN0IFttb250aCwgZGF5LCB5ZWFyXSA9IGRhdGUuc3BsaXQoIi8iKTsKICAgICAgcmV0dXJuIGAke3llYXJ9LSR7bW9udGgucGFkU3RhcnQoMiwgIjAiKX0tJHtkYXkucGFkU3RhcnQoMiwgIjAiKX1gOwogICAgfSwKICAgIGFzeW5jIGFkZFBheW1lbnQoKSB7CiAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJvZERldGFpbHMiLCBKU09OLnN0cmluZ2lmeSh7IGNvbnRhY3Q6IHRoaXMuY29udGFjdE9iaiwgbGljZW5jZVBsYXRlOiB0aGlzLmxpY2VuY2VQbGF0ZSB9KSk7CiAgICAgIGxldCBleGl0RGF0ZVRpbWUgPSB0aGlzLnRpbWUgIT0gbnVsbCB8fCB0aGlzLnRpbWUgIT09IHVuZGVmaW5lZCB8fCB0aGlzLnRpbWUgIT0gIiIgPwogICAgICAgIGZvcm1hdCh0aGlzLnRpbWUsICd5eXl5LU1NLWRkJykKICAgICAgICArCiAgICAgICAgIiAiICsKICAgICAgICAodGhpcy56b25lRGV0YWlscz8udGltZVBpY2tlckNvbmZpZ3VyYXRpb24gPT0gJzAnID8gJzExOjU5IFBNJyA6IGZvcm1hdCh0aGlzLnRpbWUsICdoaDptbSBhJykpIDogIiIKICAgICAgbGV0IGVudHJ5RGF0ZVRpbWUgPSB0aGlzLnpvbmVEZXRhaWxzLnRpbWV6b25lCiAgICAgICAgPyBmb3JtYXQoCiAgICAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUobmV3IERhdGUoKSwKICAgICAgICAgICAgdGhpcy56b25lRGV0YWlscy50aW1lem9uZQogICAgICAgICAgKSwKICAgICAgICAgICJ5eXl5LU1NLWRkIGhoOm1tIGEiCiAgICAgICAgKQogICAgICAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJ5eXl5LU1NLWRkJ1QnSEg6bW0gYSIpOwogICAgICBsZXQgY29tbWl0RGF0YSA9IHsKICAgICAgICBwbGF0ZTogdGhpcy5saWNlbmNlUGxhdGUsCiAgICAgICAgY29udGFjdDogdGhpcy5jb250YWN0T2JqLmZvcm1hdHRlZE51bWJlciwKICAgICAgICBlbnRyeVRpbWU6IGVudHJ5RGF0ZVRpbWUsCiAgICAgICAgZXhpdFRpbWU6IGV4aXREYXRlVGltZSwKICAgICAgICBlc3RpbWF0ZTogdGhpcy5lc3RpbWF0ZSwKICAgICAgfTsKICAgICAgc3dpdGNoICh0aGlzLnRlbXBsYXRlRmxhZ3MpIHsKICAgICAgICBjYXNlICdvbmRlbWFuZC1mbGFnJzogewogICAgICAgICAgbGV0IGRldGFpbHMgPSBhd2FpdCBBUElIZWxwZXIoIlBPU1QiLCAiL2FwaS92MS9wcmVwYWlkL29wZW5UcmFuc2FjdGlvbiIsIHsKICAgICAgICAgICAgdmVoaWNsZU5vOiB0aGlzLmxpY2VuY2VQbGF0ZSwKICAgICAgICAgICAgY29udGFjdDogdGhpcy5jb250YWN0T2JqLmZvcm1hdHRlZE51bWJlciwKICAgICAgICAgICAgZW50cnlUaW1lOiBlbnRyeURhdGVUaW1lLAogICAgICAgICAgICBleGl0VGltZTogZXhpdERhdGVUaW1lLAogICAgICAgICAgICB6Y29kZTogdGhpcy56b25lRGV0YWlscz8uemNvZGUsCiAgICAgICAgICB9KTsKICAgICAgICAgIGlmIChkZXRhaWxzPy5kYXRhPy5zdGF0dXMpIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfT05ERU1BTkRfVVNFUkRFVEFJTFMiLCBjb21taXREYXRhKTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiAiL29uZGVtYW5kL21ha2VwYXltZW50IiB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLmFsZXJ0TXNnID0gZGV0YWlscz8uZGF0YT8ubWVzc2FnZSA/IGRldGFpbHM/LmRhdGE/Lm1lc3NhZ2UgOiAiIjsKICAgICAgICAgICAgdGhpcy5hbGVydERpYWxvZyA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgICAgY2FzZSAnYXRsYW50aWMtZmxhZyc6IHsKICAgICAgICAgIGxldCBkZXRhaWxzID0gYXdhaXQgQVBJSGVscGVyKCJQT1NUIiwgIi9hcGkvdjEvcHJlcGFpZC9vcGVuVHJhbnNhY3Rpb24iLCB7CiAgICAgICAgICAgIHZlaGljbGVObzogdGhpcy5saWNlbmNlUGxhdGUsCiAgICAgICAgICAgIGNvbnRhY3Q6IHRoaXMuY29udGFjdE9iai5mb3JtYXR0ZWROdW1iZXIsCiAgICAgICAgICAgIGVudHJ5VGltZTogZW50cnlEYXRlVGltZSwKICAgICAgICAgICAgZXhpdFRpbWU6IGV4aXREYXRlVGltZSwKICAgICAgICAgICAgemNvZGU6IHRoaXMuem9uZURldGFpbHM/Lnpjb2RlLAogICAgICAgICAgICBtaWQ6IHRoaXMuem9uZURldGFpbHM/Lm1pZCwKICAgICAgICAgICAgZXZlbnRUeXBlOiAnUGFpZEhvc3RQYXNzJwogICAgICAgICAgfSk7CgogICAgICAgICAgaWYgKGRldGFpbHM/LmRhdGE/LnN0YXR1cykgewogICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIlNFVF9DQVNJTk9fVVNFUkRFVEFJTFMiLCBjb21taXREYXRhKTsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiAiL3ByZXBhaWRob3N0L21ha2VwYXltZW50IiB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGlmIChkZXRhaWxzPy5kYXRhPy5tZXNzYWdlID09ICJCb29raW5nIEFscmVhZHkgRXhpc3RzIikgewogICAgICAgICAgICAgIGxldCB1cmwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgIi9nLyIgKyBkZXRhaWxzPy5kYXRhPy5kYXRhPy5iaWQ7CiAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UodXJsKQogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMuYWxlcnRNc2cgPSBkZXRhaWxzPy5kYXRhPy5tZXNzYWdlID8gZGV0YWlscz8uZGF0YT8ubWVzc2FnZSA6ICIiOwoKICAgICAgICAgICAgdGhpcy5hbGVydERpYWxvZyA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgfSwKCiAgICB1cHBlcmNhc2UoKSB7CiAgICAgIGlmIChydWxlcy5hbHBoYU51bWVyaWModGhpcy5saWNlbmNlUGxhdGUpID09PSAiTXVzdCBiZSBhbHBoYW51bWVyaWMiKSB7CiAgICAgICAgdGhpcy5saWNlbmNlUGxhdGUgPSB0aGlzLmxpY2VuY2VQbGF0ZS5yZXBsYWNlKC9bXlx3XHNdL2dpLCAnJykKICAgICAgfQogICAgICB0aGlzLmxpY2VuY2VQbGF0ZSA9IHRoaXMubGljZW5jZVBsYXRlLnRyaW0oKQogICAgICB0aGlzLmxpY2VuY2VQbGF0ZSA9IHRoaXMubGljZW5jZVBsYXRlLnRvVXBwZXJDYXNlKCk7CiAgICB9LAogICAgLyoqCiAgICAgKiBAbWV0aG9kIGdldFpvbmVEZXRhaWxzIGZldGNoIHRoZSB6b25lIGRldGFpbHMgYW5kIGNvbW1pdCBTRVRfWk9ORV9ERVRBSUxTIG11dGF0aW9uLgogICAgICovCiAgICBhc3luYyBnZXRab25lRGV0YWlscyhzZWFyY2hQYXJhbUtleSwgc2VhcmNoUGFyYW1WYWx1ZSkgewogICAgICB0cnkgewogICAgICAgIHZhciB6b25lRGV0YWlscyA9IGF3YWl0IEFQSUhlbHBlcigKICAgICAgICAgICJHRVQiLAogICAgICAgICAgIi9hcGkvdjEvdXNlci9jb25maWciICsgc2VhcmNoUGFyYW1LZXkgKyAiPSIgKyBzZWFyY2hQYXJhbVZhbHVlCiAgICAgICAgKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIlNFVF9aT05FX0RFVEFJTFMiLCB6b25lRGV0YWlscy5kYXRhPy56b25lKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICAvKioKICAgICAqIEBtZXRob2QgZ2V0T25EZW1hbmRab25lRGV0YWlscyBmZXRjaCB0aGUgb25kZW1hbmQgem9uZSBkZXRhaWxzIGZyb20gUGNvbSBhbmQgY29tbWl0IFNFVF9aT05FX0RFVEFJTFMgbXV0YXRpb24uCiAgICAgKi8KICAgIGFzeW5jIGdldE9uRGVtYW5kWm9uZURldGFpbHMoc2VhcmNoUGFyYW1WYWx1ZSkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIHZhciB6b25lRGV0YWlscyA9IGF3YWl0IEFQSUhlbHBlcigKICAgICAgICAgICJHRVQiLAogICAgICAgICAgIi9hcGkvdjEvZ2V0T25EZW1hbmQvIiArIHNlYXJjaFBhcmFtVmFsdWUKICAgICAgICApOwogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIGlmICh6b25lRGV0YWlscy5kYXRhPy5sb3QpIHsKICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgKICAgICAgICAgICAgIlNFVF9PTl9ERU1BTkRfWk9ORV9ERVRBSUxTIiwKICAgICAgICAgICAgem9uZURldGFpbHMuZGF0YT8ubG90CiAgICAgICAgICApOwogICAgICAgICAgdGhpcy5zZXREYXRlUGlja2VyKCk7CiAgICAgICAgICB0aGlzLnNldERlZmF1bHREYXRlKCk7CiAgICAgICAgICAvLyB0aGlzLnNldFRpbWVQaWNrZXIoKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5hbGVydE1zZyA9CiAgICAgICAgICAgIHpvbmVEZXRhaWxzPy5kYXRhPy5tZXNzYWdlIHx8ICJFcnJvciBpbiBsb2FkaW5nIGxvY2F0aW9uIGRldGFpbHMuIjsKICAgICAgICAgIHRoaXMuYWxlcnREaWFsb2cgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBvbkNvbnRhY3RJbnB1dChjb250YWN0RGV0YWlscykgewogICAgICB0aGlzLmlzQ29udGFjdFZhbGlkID0gY29udGFjdERldGFpbHM/LmlzVmFsaWQ7CiAgICAgIHRoaXMuY29udGFjdE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGNvbnRhY3REZXRhaWxzKTsKICAgIH0sCiAgfSwKCiAgY29tcHV0ZWQ6IHsKICAgIGZvcm1hdHRlZERhdGVUaW1lKCkgewogICAgICByZXR1cm4gdGhpcy50aW1lICE9PSBudWxsICYmIHRoaXMudGltZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMudGltZSAhPT0gIiIgPyBmb3JtYXQodGhpcy50aW1lLCAnaWlpLCBMTEwgZGQnKSA6ICIiCiAgICB9LAogICAgZm9ybWF0dGVkWWVhcigpIHsKICAgICAgcmV0dXJuIHRoaXMudGltZSAhPT0gbnVsbCAmJiB0aGlzLnRpbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRpbWUgIT09ICIiID8gZm9ybWF0KHRoaXMudGltZSwgJ3l5eXknKSA6ICIiCiAgICB9LAogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIG9kRGV0YWlsczogImdldHRlck9kRGV0YWlscyIsCiAgICAgIGNhc2lub0RldGFpbHM6ICdnZXR0ZXJDYXNpbm9EZXRhaWxzJywKICAgICAgem9uZURldGFpbHM6ICJnZXR0ZXJab25lRGV0YWlscyIsCiAgICAgIG9uRGVtYW5kWm9uZURldGFpbHM6ICJnZXR0ZXJPbkRlbWFuZFpvbmVEZXRhaWxzIiwKICAgICAgdGVtcGxhdGVGbGFnczogJ2dldHRlclRlbXBsYXRlRmxhZ3MnCiAgICB9KSwKICAgIGZvcm1hdHRlZFRpbWUoKSB7CiAgICAgIHJldHVybiB0aGlzLnRpbWUgIT09IG51bGwgJiYgdGhpcy50aW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy50aW1lICE9PSAiIiA/IGZvcm1hdCh0aGlzLnRpbWUsICdoaDptbSBhYScpIDogIiIKICAgIH0sCiAgICBpbmZvRmxhZygpIHsKICAgICAgcmV0dXJuIHRoaXMuY29udGFjdE9iaiA9PSBudWxsIHx8CiAgICAgICAgIXRoaXMuY29udGFjdE9iai5pc1ZhbGlkIHx8CiAgICAgICAgdGhpcy5jb250YWN0T2JqLnBob25lTnVtYmVyID09ICIiIHx8CiAgICAgICAgdGhpcy5jb250YWN0T2JqLnBob25lTnVtYmVyID09IG51bGwgfHwKICAgICAgICB0aGlzLmxpY2VuY2VQbGF0ZSA9PT0gIiIgfHwKICAgICAgICB0aGlzLmxpY2VuY2VQbGF0ZSA9PT0gbnVsbCA/IGZhbHNlIDogdHJ1ZQogICAgfSwKICAgIHRpbWVGbGFnKCkgewogICAgICByZXR1cm4gdGhpcy50aW1lID09PSBudWxsIHx8IHRoaXMuZGlzYWJsZUFkZFBheW1lbnRCdG4gfHwgdGhpcy5lc3RpbWF0ZSA9PT0gbnVsbCB8fCB0aGlzLmVzdGltYXRlID09PSAnJyB8fAogICAgICAgIHRoaXMudGltZSA9PT0gIiIgfHwgdGhpcy50aW1lID09PSB1bmRlZmluZWQgPyBmYWxzZSA6IHRydWU7CiAgICB9LAogICAgcGF5bWVudEZsYWcoKSB7CiAgICAgIHJldHVybiB0aGlzLmVzdGltYXRlID09PSBudWxsIHx8IHRoaXMuZXN0aW1hdGUgPT09ICcnIHx8IHRoaXMuZXN0aW1hdGUuaGFzT3duUHJvcGVydHkuY2FsbCgnZ3JhbmRUb3RhbCcpIHx8IHRoaXMuZXN0aW1hdGUuaGFzT3duUHJvcGVydHkuY2FsbCgndG90YWxQcmljZScpIHx8IHRoaXMuZXN0aW1hdGUuaGFzT3duUHJvcGVydHkuY2FsbCgndG90YWxGZWUnKSB8fCB0aGlzLmVzdGltYXRlLmhhc093blByb3BlcnR5LmNhbGwoJ3RvdGFsVGF4JykgPyBmYWxzZSA6IHRydWUKICAgIH0sCiAgICBkYXRlVGV4dEZvcm1hdCgpIHsKICAgICAgdmFyIGV2ZW50ID0gbmV3IERhdGUodGhpcy5leGl0RGF0ZSk7CiAgICAgIHJldHVybiBldmVudC50b0xvY2FsZURhdGVTdHJpbmcoImVuLVVTIiwgewogICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICBtb250aDogInNob3J0IiwKICAgICAgICBkYXk6ICJudW1lcmljIiwKICAgICAgfSk7CiAgICB9LAogICAgY29tcHV0ZWREYXRlRm9ybWF0dGVkKCkgewogICAgICByZXR1cm4gdGhpcy50aW1lICE9IG51bGwgJiYgdGhpcy50aW1lICE9ICIiICYmIHRoaXMudGltZSAhPSB1bmRlZmluZWQgPyBmb3JtYXQodGhpcy50aW1lLCAnTU0vZGQveXl5eScpIDogIiIKICAgIH0sCiAgICBkaXNhYmxlU3VibWl0QnRuKCkgewogICAgICBsZXQgZGlzYWJsZWQgPQogICAgICAgIHRoaXMuY29udGFjdE9iaiA9PSBudWxsIHx8CiAgICAgICAgIXRoaXMuY29udGFjdE9iai5pc1ZhbGlkIHx8CiAgICAgICAgdGhpcy5jb250YWN0T2JqLnBob25lTnVtYmVyID09ICIiIHx8CiAgICAgICAgdGhpcy5jb250YWN0T2JqLnBob25lTnVtYmVyID09IG51bGwgfHwKICAgICAgICB0aGlzLmxpY2VuY2VQbGF0ZSA9PT0gIiIgfHwKICAgICAgICB0aGlzLmxpY2VuY2VQbGF0ZSA9PT0gbnVsbCB8fAogICAgICAgIHRoaXMudGltZSA9PT0gbnVsbCB8fCB0aGlzLmRpc2FibGVBZGRQYXltZW50QnRuIHx8IHRoaXMuZXN0aW1hdGUgPT09IG51bGwgfHwgdGhpcy5lc3RpbWF0ZSA9PT0gJycKICAgICAgdGhpcy50aW1lID09PSAiIiB8fCB0aGlzLnRpbWUgPT0gdW5kZWZpbmVkOwogICAgICBkaXNhYmxlZCA9CiAgICAgICAgdGhpcy5saWNlbmNlUGxhdGUgIT0gIiIgJiYgdGhpcy5saWNlbmNlUGxhdGUgIT0gbnVsbAogICAgICAgICAgPyBkaXNhYmxlZCB8fCAvXlthLXowLTldKyQvaS50ZXN0KHRoaXMubGljZW5jZVBsYXRlKSA9PT0gZmFsc2UKICAgICAgICAgIDogZGlzYWJsZWQ7CiAgICAgIGxldCBzZWxlY3RlZE1pbnMgPSB0aGlzLnRpbWUgIT09IG51bGwgJiYgdGhpcy50aW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy50aW1lICE9PSAiIiA/IGZvcm1hdCh0aGlzLnRpbWUsICdtbScpIDogbmV3IERhdGUoKTsKICAgICAgbGV0IHNlbGVjdGVkSG91cnMgPSB0aGlzLnRpbWUgIT09IG51bGwgJiYgdGhpcy50aW1lICE9PSB1bmRlZmluZWQgJiYgdGhpcy50aW1lICE9PSAiIiA/IGZvcm1hdCh0aGlzLnRpbWUsICdoaCcpIDogbmV3IERhdGUoKTsKICAgICAgbGV0IHNlbGVjdGVkQU1QTSA9IHRoaXMudGltZSAhPT0gbnVsbCAmJiB0aGlzLnRpbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRpbWUgIT09ICIiID8gZm9ybWF0KHRoaXMudGltZSwgJ2FhYScpIDogbmV3IERhdGUoKTsKICAgICAgZGlzYWJsZWQgPQogICAgICAgIGRpc2FibGVkIHx8CiAgICAgICAgc2VsZWN0ZWRNaW5zID09IG51bGwgfHwKICAgICAgICBzZWxlY3RlZE1pbnMgPT09ICIiIHx8CiAgICAgICAgc2VsZWN0ZWRNaW5zID09IHVuZGVmaW5lZCB8fAogICAgICAgIHNlbGVjdGVkSG91cnMgPT0gbnVsbCB8fAogICAgICAgIHNlbGVjdGVkSG91cnMgPT09ICIiIHx8CiAgICAgICAgc2VsZWN0ZWRIb3VycyA9PSB1bmRlZmluZWQgfHwgc2VsZWN0ZWRBTVBNID09IG51bGwgfHwKICAgICAgICBzZWxlY3RlZEFNUE0gPT09ICIiIHx8CiAgICAgICAgc2VsZWN0ZWRBTVBNID09IHVuZGVmaW5lZCB8fCB0aGlzLnRpbWUgPT09IG51bGwgfHwgdGhpcy50aW1lID09PSAiIiB8fCB0aGlzLnRpbWUgPT09IHVuZGVmaW5lZAogICAgICByZXR1cm4gZGlzYWJsZWQ7CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["OdTemplates.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"OdTemplates.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container class=\"pa-\" fluid v-if=\"!loading\">\n    <v-row class=\"text-center\" no-gutters>\n      <v-col cols=\"12\">\n        <v-img alt=\"PARKING.COM\" class=\"my-3\" height=\"42\" contain src=\"../assets/logo_huge_drk.png\" />\n      </v-col>\n    </v-row>\n    <v-row no-gutters>\n      <v-col>\n        <v-card class=\"mx-auto rounded-lg\" max-width=\"374\">\n          <v-dialog v-model=\"loading\" persistent>\n            <v-card class=\"pa-4\">\n              <v-progress-circular indeterminate color=\"red\"></v-progress-circular>\n              <span class=\"ml-4\" style=\"font-size: 14px\">Please wait...</span>\n            </v-card>\n          </v-dialog>\n          <template slot=\"progress\">\n            <v-progress-linear color=\"red\" height=\"10\" indeterminate></v-progress-linear>\n          </template>\n          <div style=\"position: relative\">\n            <!-- <v-skeleton-loader\n                                      v-show=\"!zoneDetails.hasOwnProperty('image')\"\n                                        height=\"260px\"\n                                          class=\"rounded-t-lg\"\n                                            type=\"image\"\n                                              ></v-skeleton-loader>-->\n            <v-img class=\"rounded-t-lg\" max-height=\"150px\" style=\"filter: brightness(50%)\" :src=\"zoneDetails.hasOwnProperty('image') &&\n              zoneDetails.image != '' &&\n              zoneDetails.image != null\n              ? zoneDetails.image\n              : zoneImgURL\n              \" :lazy-src=\"zoneDetails.hasOwnProperty('image') &&\n    zoneDetails.image != '' &&\n    zoneDetails.image != null\n    ? zoneDetails.image\n    : zoneImgURL\n    \" alt=\"Parking.com garage\">\n              <template v-slot:placeholder>\n                <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\" no-gutters>\n                  <v-progress-circular indeterminate color=\"grey lighten-5\"></v-progress-circular>\n                </v-row>\n              </template>\n            </v-img>\n            <div class=\"booking_header white--text text-left mr-4\">\n              Welcome to\n              {{\n                onDemandZoneDetails.hasOwnProperty(\"name\")\n                ? onDemandZoneDetails.name\n                : \"\"\n              }}\n            </div>\n          </div>\n          <v-card-text class=\"pa-0\">\n            <v-form ref=\"detailsForm\">\n              <v-container fluid pa-0>\n                <v-row no-gutters class=\"pt-2 information pa-0\">\n                  <v-col cols=\"2\" class=\"align-self-center\">\n                    <v-img src=\"../assets/list_divider_step.imageset/list_divider_step.png\" width=\"45px\" v-if=\"!infoFlag\">\n                      <div class=\"row text-center align-self-center pl-5\">\n                        <div class=\"col-12 text-center\">\n                          <span style=\"font-size:large;font-weight:bold;color:white\">1</span>\n                        </div>\n                      </div>\n                    </v-img>\n                    <v-img src=\"../assets/list_divider_step_completed.imageset/list_divider_step_completed.png\"\n                      width=\"45px\" v-if=\"infoFlag\">\n                      <div class=\"row text-center pl-5\">\n                        <div class=\"col-12 text-center\">\n                          <span style=\"font-size:larger;font-weight:bold;color:white\">✓</span>\n                        </div>\n                      </div>\n                    </v-img>\n                  </v-col>\n                  <v-col cols=\"10\" class=\"mt-3\">\n                    <p style=\"color:#F2555C;font-weight:bolder\">Your Information</p>\n                  </v-col>\n                </v-row>\n                <v-row no-gutters>\n                  <v-col cols=\"12\" class=\"px-4  text-center color-black\" style=\"font-size: 12px\">\n                    <v-row no-gutters class=\"py-2\">\n                      <v-col cols=\"1\" class=\"text-right align-self-center\">\n                        <v-icon class=\"material-icons-outlined\">send_to_mobile</v-icon>\n                      </v-col>\n                      <v-col cols=\"11\" class=\"px-2\">\n                        <VuePhoneNumberInput v-model=\"contactObj.phoneNumber\" size=\"md\" @update=\"onContactInput\"\n                          show-code-on-list :default-country-code=\"contactOptions.defaultCountry\"\n                          :color=\"contactOptions.color\" :valid-color=\"contactOptions.validColor\"\n                          :error-color=\"contactOptions.errorColor\" :border-radius=\"contactOptions.contactBorderRadius\"\n                          :error=\"!isContactValid\" required :translations=\"contactOptions.translations\" />\n                      </v-col>\n                    </v-row>\n                    <v-row no-gutters class=\"py-2\">\n                      <v-col cols=\"1\" class=\"text-right align-self-center\">\n                        <v-icon class=\"material-icons-outlined\">pin</v-icon>\n                      </v-col>\n                      <v-col cols=\"11\" class=\"px-2\">\n                        <v-text-field class=\"pt-0\" v-model=\"licencePlate\" hide-details=\"auto\" maxlength=\"8\"\n                          :rules=\"[rules.alphaNumeric]\" @keyup=\"uppercase\" label=\"License Plate *\"\n                          clearable></v-text-field>\n                      </v-col>\n                    </v-row>\n\n                    <v-row no-gutters class=\"pt-1\">\n                      <v-spacer></v-spacer>\n                      <v-col cols=\"11\" class=\"px-2 py-0 pb-3\">\n                        <p class=\"text-left mb-0\" style=\"font-size: 10px; line-height: 1.5\">\n                          Enter your full plate number to avoid citation. Max of\n                          8 characters. Do not include spaces or special\n                          characters.\n                        </p>\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                </v-row>\n                <v-row no-gutters class=\"pt-2 information pa-0\">\n                  <v-col cols=\"2\" class=\"align-self-center\">\n                    <v-img src=\"../assets/list_divider_step.imageset/list_divider_step.png\" width=\"45px\" v-if=\"!timeFlag\">\n                      <div class=\"row text-center align-self-center pl-5\">\n                        <div class=\"col-12 text-center\">\n                          <span style=\"font-size:large;font-weight:bold;color:white\">2</span>\n                        </div>\n                      </div>\n                    </v-img>\n                    <v-img src=\"../assets/list_divider_step_completed.imageset/list_divider_step_completed.png\"\n                      width=\"45px\" v-if=\"timeFlag\">\n                      <div class=\"row text-center pl-5\">\n                        <div class=\"col-12 text-center\">\n                          <span style=\"font-size:larger;font-weight:bold;color:white\">✓</span>\n                        </div>\n                      </div>\n                    </v-img>\n                  </v-col>\n                  <v-col cols=\"10\" class=\"mt-3\">\n                    <p style=\"color:#F2555C;font-weight:bolder\">Set Your Exit Date and Time</p>\n                  </v-col>\n                </v-row>\n                <v-row no-gutters class=\"pt-2 px-3 \">\n                  <v-spacer></v-spacer>\n                  <v-col cols=\"11\" class=\"px-2 py-0\">\n                    <p class=\"text-left ma-0\" v-if=\"templateFlags == 'atlantic-flag'\">If you're a hotel guest, this\n                      is\n                      your checkout date. </p>\n                  </v-col>\n                </v-row>\n                <v-row no-gutters>\n                  <v-col cols=\"12\" class=\"px-4  text-center color-black\" style=\"font-size: 12px\">\n                    <v-row no-gutters class=\"py-2\">\n                      <v-col cols=\"1\" class=\"text-right align-self-center\">\n                        <v-icon class=\"material-icons-outlined\">today</v-icon>\n                      </v-col>\n                      <v-col cols=\"11\" class=\"px-2\">\n                        <v-text-field v-model=\"computedDateFormatted\" @click=\"() => { openDatePicker = true }\"\n                          hide-details=\"auto\" readonly></v-text-field>\n                        <v-dialog v-model=\"openDatePicker\" max-width=\"450px\">\n                          <v-card style=\"background-color: #F2555C;color: white;\"><v-card-title>\n                              <v-row no-gutters>\n                                <v-col class=\"text-left\" cols=\"12\">\n                                  <span style=\"font-size:15px;color: #fabbbe;\">{{ time !== null && time !== \"\" ?\n                                    formattedYear : \"\" }}</span>\n                                </v-col>\n                                <v-col>\n                                  <span style=\"font-size:30px\"> {{ time !== null && time !== \"\" ? formattedDateTime : \"\"\n                                  }}</span>\n                                </v-col>\n                              </v-row>\n                            </v-card-title></v-card>\n                          <Calendar inline class=\"text-left\" value :stepMinute=\"15\" hourFormat=\"12\" :minDate=\"minTimeDate\"\n                            @date-select=\"onTimePickerChange\" :maxDate=\"maxTimeDate\" v-model=\"time\" />\n                        </v-dialog>\n                      </v-col>\n                    </v-row>\n                    <v-row no-gutters class=\"pt-2 pb-4\"\n                      v-if=\"Object.hasOwnProperty.call(zoneDetails, 'timePickerConfiguration') && zoneDetails.timePickerConfiguration == '1'\">\n                      <v-col cols=\"1\" class=\"text-right align-self-center\">\n                        <v-icon class=\"material-icons-outlined\">schedule</v-icon>\n                      </v-col>\n                      <v-col cols=\"11\">\n                        <v-row no-gutters class=\"pb-0\">\n                          <v-col class=\"pb-0 px-2\">\n                            <!-- <vue-time-picker auto-scroll :minute-interval=\"15\" hide-disabled-items\n                              v-model=\"exitTimeSelected\" @open=\"openTimePicker()\" hide-clear-button hour-label=\"Hour\"\n                              minute-label=\"Minute\" class=\"time-picker-input\" input-width=\"100%\" drop-direction=\"up\"\n                              placeholder=\"Choose Time *\" format=\"hh:mm a\" :hour-range=\"timePickerHrRange\"\n                              :minute-range=\"timePickerMinRange\" @change=\"onTimePickerChange\"></vue-time-picker> -->\n                            <v-text-field v-model=\"formattedTime\" @click=\"() => {\n                              openTimePicker = true;\n                            }\" readonly></v-text-field>\n                            <v-dialog v-model=\"openTimePicker\" max-width=\"300px\"\n                              @click:outside=\"() => { setDefaultDate(); onTimePickerChange() }\">\n                              <v-card style=\"background-color: #F2555C;color: white;\"><v-card-title>What time will you\n                                  exit?</v-card-title></v-card>\n                              <Calendar inline time-only show-time class=\"text-left \" value :stepMinute=\"15\"\n                                hourFormat=\"12\" :minDate=\"minTimeDate\" :maxDate=\"maxTimeDate\" v-model=\"time\" />\n                            </v-dialog>\n                          </v-col>\n                        </v-row>\n                      </v-col>\n                    </v-row>\n                    <v-row class=\"text-left mt-0 px-2 py-0 pb-3\">\n                      <v-col cols=\"1\"></v-col>\n                      <v-col class=\"pt-0\">\n                        <p style=\"\n                                                 color: #1976d2;\n                                          font-weight: bold;\n                                          line-height: 16px;\n                                              \" class=\"ma-0\">\n                          HOURS OF OPERATION\n                        </p>\n                        <p class=\"ma-0\">\n                          Today :\n                          {{\n                            onDemandZoneDetails.hasOwnProperty(\n                              \"todaysHoursOfOperation\"\n                            ) &&\n                            onDemandZoneDetails.todaysHoursOfOperation.hasOwnProperty(\n                              \"is24HourOpen\"\n                            ) &&\n                            onDemandZoneDetails.todaysHoursOfOperation\n                              .is24HourOpen == true\n                            ? \"Open 24 / 7\"\n                            : \"\"\n                          }}\n                        </p>\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                </v-row>\n\n                <v-row no-gutters class=\"pt-2 information pa-0\"\n                  v-if=\"estimate != null && Object.keys(estimate).length != 0\">\n                  <v-col cols=\"2\" class=\"align-self-center\">\n                    <v-img src=\"../assets/list_divider_step.imageset/list_divider_step.png\" width=\"45px\"\n                      v-if=\"!paymentFlag\">\n                      <div class=\"row text-center align-self-center pl-5\">\n                        <div class=\"col-12 text-center\">\n                          <span style=\"font-size:large;font-weight:bold;color:white\">3</span>\n                        </div>\n                      </div>\n                    </v-img>\n                    <v-img src=\"../assets/list_divider_step_completed.imageset/list_divider_step_completed.png\"\n                      width=\"45px\" v-if=\"paymentFlag\">\n                      <div class=\"row text-center pl-5\">\n                        <div class=\"col-12 text-center\">\n                          <span style=\"font-size:larger;font-weight:bold;color:white\">✓</span>\n                        </div>\n                      </div>\n                    </v-img>\n                  </v-col>\n                  <v-col cols=\"10\" class=\"mt-3\">\n                    <p style=\"color:#F2555C;font-weight:bolder\">Your Parking Fees</p>\n                  </v-col>\n                </v-row>\n                <v-row no-gutters v-if=\"estimate != null && Object.keys(estimate).length != 0\">\n                  <v-col cols=\"12\" class=\"px-10 text-center \" style=\"font-size: 12px\">\n                    <v-row no-gutters class=\"pt-2 px-3\">\n                      <v-col cols=\"4\" class=\"text-left\">\n                        <p style=\"font-size: small\" class=\"black--text\">\n                          Parking\n                        </p>\n                      </v-col>\n                      <v-spacer></v-spacer>\n                      <v-col cols=\"4\" class=\"text-left\">\n                        <p style=\"font-size: small\" class=\"black--text text-right\">\n                          {{ estimate.hasOwnProperty(\"totalPrice\") ? \"$ \" + estimate.totalPrice.toFixed(2) : \"-\" }}\n\n                        </p>\n                      </v-col>\n                    </v-row>\n                    <v-row no-gutters class=\"mt-0 px-3\">\n                      <v-col cols=\"4\" class=\"text-left\">\n                        <v-row no-gutters>\n                          <v-col cols=\"11\">\n                            <p style=\"font-size: small\" class=\"black--text\">\n                              Service Fee\n                            </p>\n                          </v-col>\n                          <v-col cols=\"1\">\n                            <v-tooltip bottom v-model=\"show\">\n                              <template v-slot:activator=\"{ on, attrs }\">\n                                <v-icon class=\"material-icons-outlined\" dark x-small color=\"primary\" v-bind=\"attrs\"\n                                  @click=\"show = !show\" v-on=\"on\">info</v-icon>\n                              </template>\n                              <span>This fee helps cover the use of the technology that provides a better parking\n                                experience.</span>\n                            </v-tooltip>\n                          </v-col>\n\n                        </v-row>\n                      </v-col>\n                      <v-spacer></v-spacer>\n                      <v-col cols=\"4\" class=\"text-left\">\n                        <p style=\"font-size: small\" class=\"black--text text-right\">\n                          {{ estimate.hasOwnProperty(\"totalFee\") ? \"$ \" + estimate.totalFee.toFixed(2) : \"-\" }}\n                        </p>\n                      </v-col>\n                    </v-row>\n                    <hr />\n                    <v-row no-gutters class=\"mt-2 px-3\">\n                      <v-col cols=\"6\" class=\"text-left\">\n                        <p style=\"font-weight: bold;color:#F2555C;font-size:15px\">\n                          Purchase Total <sup>*</sup>\n                        </p>\n                      </v-col>\n                      <v-spacer></v-spacer>\n                      <v-col cols=\"4\" class=\"text-left\">\n                        <p style=\"font-size: small;font-weight: bold;color:#F2555C\" class=\" text-right\">\n                          {{ estimate.hasOwnProperty(\"grandTotal\") ? \"$ \" + estimate.grandTotal.toFixed(2) : \"-\" }}\n\n                        </p>\n                      </v-col>\n                      <p>\n                        *Includes state and local taxes of {{ estimate.hasOwnProperty(\"totalTax\") ? \"$ \" +\n                          estimate.totalTax.toFixed(2) : \"-\" }}\n                      </p>\n                    </v-row>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-form>\n          </v-card-text>\n          <v-card-actions class=\"pt-0 mt-4 pb-10\">\n            <v-container class=\"pa-0 text-center\">\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"px-2\">\n                  <v-btn rounded elevation=\"20\" class=\"add_licence_plate_btn white--text\" :disabled=\"disableSubmitBtn\"\n                    :loading=\"addPaymentBtnLoading\" @click=\"addPayment\">Add Payment</v-btn>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n    <v-dialog v-model=\"alertDialog\" persistent max-width=\"290\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\" style=\"position: relative\">\n          <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">{{ alertMsg }}</span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"alertDialog = false\">Close</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n<script>\n// import Vue from \"vue\";\nimport { mapGetters } from \"vuex\";\nimport { EventBus } from \"@/lib/EventBus\";\nimport \"primevue/resources/themes/saga-blue/theme.css\"       //theme\nimport \"primevue/resources/primevue.min.css\"                 //core css\nimport \"primeicons/primeicons.css\"                           //icons\nimport Calendar from '../uiComponents/Calendar/Calendar.vue'\nimport { addMinutes } from \"date-fns\";\nimport { format, isValid } from \"date-fns\";\nimport { dateToTimeZoneDate } from \"@/utils/formatDateTime\";\n// import axios from \"axios\";\nimport APIHelper from \"../apiHelper\";\n// import VueTimePicker from '@/uiComponents/VueTimePicker';\nimport VuePhoneNumberInput from \"vue-phone-number-input\";\nimport \"vue-phone-number-input/dist/vue-phone-number-input.css\";\n// import moment from \"moment\";\n// Vue.use(moment);\nimport rules from \"@/utils/rules\";\nexport default {\n  data: () => ({\n    show: false,\n    alertDialog: false,\n    timeValue: null,\n    alertMsg: \"\",\n    stopTime: \"\",\n    openTimePicker: false,\n    openDatePicker: false,\n    date: \"\",\n    time: \"\",\n    exitTimeSelected: {},\n    timePickerHrRange: null,\n    timeExceeded: false,\n    timePickerMinRange: null,\n    minDate: null,\n    minTimeDate: null,\n    maxDate: null,\n    maxTimeDate: null,\n    disableAddPaymentBtn: false,\n    maxDateTime: null,\n    getRateCall: false,\n    getRateText: \"\",\n    Timemenu: false,\n    startDate: \"\",\n    estimate: null,\n    Datemenu: false,\n    exitDate: null,\n    dateFormatted: null,\n    rules: rules,\n    isContactValid: true,\n    licencePlate: \"\",\n    contactObj: {},\n    loading: false,\n    contactOptions: {\n      color: \"#0288D1\",\n      validColor: \"#0288D1\",\n      contactBorderRadius: 0,\n      errorColor: \"#FF5252\",\n      defaultCountry: \"US\",\n      translations: {\n        phoneNumberLabel: \"Contact No\",\n      },\n    },\n    addPaymentBtnLoading: false,\n  }),\n  components: {\n    VuePhoneNumberInput,\n    Calendar\n    // VueTimePicker,\n  },\n  beforeRouteEnter(to, from, next) {\n    next(async (vm) => {\n      if (from.path === \"/ondemand/makepayment\") {\n        switch (vm.templateFlags) {\n          case 'ondemand-flag':\n            {\n              vm.contactObj =\n                vm.odDetails != null &&\n                  Object.hasOwnProperty.call(vm.odDetails, \"userDetail\") &&\n                  Object.hasOwnProperty.call(vm.odDetails?.userDetail, \"contact\") &&\n                  vm.odDetails?.userDetail?.contact != undefined &&\n                  vm.odDetails?.userDetail?.contact != null\n                  ? Object.assign(vm.contactObj, {\n                    countryCode:\n                      vm.odDetails?.userDetail?.contact.slice(0, -10) == \"+91\"\n                        ? \"IN\"\n                        : vm.odDetails?.userDetail?.contact.slice(0, -10) == \"+1\"\n                          ? \"US\"\n                          : \"\",\n                    phoneNumber: vm.odDetails?.userDetail?.contact,\n                    formattedNumber: \"+\" + vm.odDetails.userDetail.contact,\n                  })\n                  : {};\n              vm.licencePlate = vm.odDetails?.userDetail.plate\n                ? vm.odDetails?.userDetail.plate\n                : \"\";\n              break;\n            }\n\n        }\n\n      }\n      if (localStorage.getItem('odDetails')) {\n        let odDetails = localStorage.getItem('odDetails');\n        odDetails = odDetails ? JSON.parse(odDetails) : {};\n        vm.contactObj = odDetails?.contact ? Object.assign({}, odDetails.contact) : vm.contactObj;\n        vm.licencePlate = odDetails?.licencePlate ? odDetails.licencePlate : vm.licencePlate;\n      }\n      let searchParams = window.location.search.split(\"=\");\n      let searchParamKey = searchParams.length > 0 ? searchParams[0] : \"\";\n      let searchParamValue = searchParams.length > 0 ? searchParams[1] : \"\";\n      if (window.location.href.includes(\"ondemand\")) {\n        vm.$store.commit('SET_TEMPLATE_FLAGS', 'ondemand-flag')\n      }\n      switch (searchParamKey) {\n        case \"?zcode\":\n          await vm.getZoneDetails(searchParamKey, searchParamValue);\n          await vm.getOnDemandZoneDetails(searchParamValue);\n          vm.setDefaultDate();\n          break;\n        case \"?gateid\":\n          //await self.getZoneDetails(searchParamKey, searchParamValue);\n          break;\n      }\n    });\n  },\n  watch: {\n    // exitDate(newVal, oldVal) {\n    //   let date = format(\n    //     addMinutes(new Date(this.exitDate), 15),\n    //     \"yyyy-MM-dd\"\n    //   )\n    //   this.dateFormatted = this.formatDate(date);\n    //   if (oldVal != newVal && this.exitDate == format(\n    //     dateToTimeZoneDate(addMinutes(new Date(), 15),\n    //       this.onDemandZoneDetails.timeZone\n    //     ),\n    //     \"yyyy-MM-dd\"\n    //   )) {\n    //     this.getRateCall = true;\n    //     this.setDefaultDate();\n    //   }\n    //   else {\n    //     this.getRateCall = false\n    //   }\n    // },\n    time(newVal, oldVal) {\n      if (oldVal != null && newVal != null && oldVal != newVal && oldVal != \"\" && newVal != \"\" && (isValid(newVal))) {\n        this.round(newVal);\n      }\n      // this.setTimePicker(newVal);\n    },\n  },\n  mounted() {\n    this.setDefaultDate();\n    // this.setDatePicker()\n    EventBus.$on('SET_TIME', () => {\n      this.onTimePickerChange();\n    })\n    // this.setTimePicker(); //moment(new Date()).format(\"YYYY-MM-DD hh:mm a\").toString();\n  },\n  methods: {\n    setDefaultDate() {\n      this.dateFormatted = this.zoneDetails.timezone\n        ? format(\n          dateToTimeZoneDate(addMinutes(new Date(), 15),\n            this.zoneDetails.timezone\n          ),\n          \"MM/dd/yyyy\"\n        )\n        : format(addMinutes(new Date(), 15), \"MM/dd/yyyy\");\n      this.time = this.zoneDetails.timezone\n        ?\n        dateToTimeZoneDate(\n          addMinutes(new Date(), 15),\n          this.zoneDetails.timezone\n        )\n        : addMinutes(new Date(), 15);\n      // this.time = addMinutes(new Date(), 15)\n\n      let fifteenTime = this.time;\n      this.time = format(this.time, 'mm') === '15' || format(this.time, 'mm') === '30' || format(this.time, 'mm') === '45' || format(this.time, 'mm') === '00' ? fifteenTime : this.round(this.time);\n      this.zoneDetails?.timePickerConfiguration == '0' ? this.dateTimeChange() : \"\"\n    },\n    round(time) {\n      let exitdate = time !== null && time !== '' ? format(time, 'yyyy/MM/dd') : new Date();\n\n      let selectedMins = time !== null && time !== '' ? format(time, 'mm') : new Date();\n      let selectedHours = time !== null && time !== '' ? format(time, 'hh') : new Date();\n      let selectedAMPM = time !== null && time !== '' ? format(time, 'aaa') : new Date();\n      if (exitdate != null && selectedMins != '15' && selectedMins != '30' && selectedMins != '45' && selectedMins != '00' && selectedMins != null && selectedMins != \"\" && selectedHours != null && selectedHours != \"\" && selectedAMPM != null && selectedAMPM != \"\") {\n        let intervalMilliseconds = 900000\n        let datetime = new Date(exitdate + \" \" + selectedHours + \":\" + selectedMins + \" \" + selectedAMPM)\n        let interval = datetime.getTime() % intervalMilliseconds;\n        let delta = interval === 0 ? 0 : datetime.getTime() - interval;\n        delta += intervalMilliseconds;\n        // this.exitTimeSelected = Object.assign(this.exitTimeSelected, { hh: format(new Date(delta), 'hh'), mm: format(new Date(delta), 'mm'), a: format(new Date(delta), 'a'), })\n        return interval !== 0 ? new Date(delta) : datetime;\n      }\n    },\n    // openTimePicker() {\n    //   this.setTimePicker(this.exitTimeSelected);\n    // },\n    onTimePickerChange() {\n      let exitdate = this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'yyyy/MM/dd') : \"\";\n      let selectedMins = this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'mm') : \"\";\n      let selectedHours = this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'hh') : \"\";\n      let selectedAMPM = this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'a') : \"\";\n      if (selectedAMPM == \"PM\" && Number(selectedHours) < 12) {\n        selectedHours = (Number(selectedHours) + 12).toString();\n        selectedHours = selectedHours === '0' ? selectedHours = '00' : selectedHours;\n\n      }\n      if (selectedAMPM == \"AM\" && Number(selectedHours) == 12) {\n        selectedHours = (Number(selectedHours) - 12).toString()\n        selectedHours = selectedHours === '0' ? selectedHours = '00' : selectedHours;\n      }\n      this.stopTime = selectedMins != null && selectedMins != \"\" && selectedHours != null && selectedHours != \"\" && selectedAMPM != null && selectedAMPM != \"\" ? selectedHours + \":\" + selectedMins + \":\" + \"00\" : \"\";\n      let currenTime = this.zoneDetails.timezone\n        ? format(\n          dateToTimeZoneDate(new Date(),\n            this.zoneDetails.timezone\n          ),\n          \"yyyy-MM-dd HH:mm:ss\"\n        )\n        : format(new Date(), \"yyyy-MM-dd  HH:mm:ss\");\n      if (\n        selectedMins != null && selectedMins != \"\" && selectedHours != null && selectedHours != \"\" && selectedAMPM != null && selectedAMPM != \"\" &&\n        new Date(exitdate + \" \" + this.stopTime).getTime() >\n        new Date(currenTime).getTime()\n      ) {\n        this.dateTimeChange();\n      }\n    },\n    setDatePicker() {\n      //set the minimum date to today date(zone time zone date)\n      this.minTimeDate = this.zoneDetails.timezone ? this.round(this.zoneDetails.timezone\n        ?\n        dateToTimeZoneDate(addMinutes(new Date(), 15),\n          this.zoneDetails.timezone\n        )\n        : addMinutes(new Date(), 15)) : this.zoneDetails.timezone\n        ?\n        dateToTimeZoneDate(addMinutes(new Date(), 15),\n          this.zoneDetails.timezone\n        )\n        : addMinutes(new Date(), 15);\n      //calculate max parkign time in seconds\n      let maxParkingTime =\n        this.zoneDetails != null\n          ? Number(this.zoneDetails?.maxParkingTime?.days) *\n          24 *\n          60 *\n          60 +\n          Number(this.zoneDetails?.maxParkingTime?.hours) * 60 * 60 +\n          Number(this.zoneDetails?.maxParkingTime?.minutes) * 60\n          : null;\n      let currentDateTime = new Date().getTime();\n\n      //get max date in seconds based on max parking time\n      let maxZoneDate =\n        maxParkingTime != null ? currentDateTime + maxParkingTime * 1000 : null;\n      this.maxTimeDate = this.zoneDetails.timezone\n        ?\n        dateToTimeZoneDate(\n          new Date(maxZoneDate),\n          this.zoneDetails.timezone\n        )\n        : new Date(maxZoneDate);\n      //get max date with time and set it to maxDateTime\n      this.maxDateTime = this.zoneDetails.timezone\n        ? format(\n          dateToTimeZoneDate(\n            new Date(maxZoneDate),\n            this.zoneDetails.timezone\n          ),\n          \"yyyy-MM-dd hh:mm aaaaa\"\n        )\n        : format(new Date(), \"yyyy-MM-dd hh:mm aaaaa\");\n    },\n    // setTimePicker(val) {\n    //   // let currentTimeMeridian = this.onDemandZoneDetails.timeZone\n    //   //   ? format(\n    //   //       dateToTimeZoneDate(\n    //   //         addMinutes(new Date(), 15),\n    //   //         this.onDemandZoneDetails.timeZone\n    //   //       ),\n    //   //       \"aaa\"\n    //   //     )\n    //   //   : format(new Date(), \"aaa\");\n    //   // let currentHr = this.onDemandZoneDetails.timeZone\n    //   //   ? format(\n    //   //       dateToTimeZoneDate(\n    //   //         addMinutes(new Date(), 15),\n    //   //         this.onDemandZoneDetails.timeZone\n    //   //       ),\n    //   //       \"h\"\n    //   //     )\n    //   //   : format(new Date(), \"h\");\n    //   // console.log(currentHr)\n\n    //   //get the todays current zone time\n\n    //   let currentTime = this.onDemandZoneDetails.timeZone\n    //     ? format(\n    //       dateToTimeZoneDate(\n    //         addMinutes(new Date(), 15),\n    //         this.onDemandZoneDetails.timeZone\n    //       ), \"haaaaa\"\n    //     )\n    //     : format(addMinutes(new Date(), 15), \"haaaaa\");\n    //   //set the hr range\n    //   if (\n    //     this.exitDate ==\n    //     format(\n    //       dateToTimeZoneDate(\n    //         addMinutes(new Date(), 15),\n    //         this.onDemandZoneDetails.timeZone\n    //       ),\n    //       \"yyyy-MM-dd\"\n    //     )\n    //   ) {\n    //     this.timePickerHrRange = [\n    //       [currentTime == \"12a\" ? \"0a\" : currentTime, \"11p\"],\n    //     ];\n    //   }\n    //   // if maxdate == exit date\n    //   else if (\n    //     this.maxDateTime != null &&\n    //     this.maxDateTime.split(\" \")[0] == this.exitDate\n    //   ) {\n    //     let time = this.maxDateTime.split(\" \")[1];\n    //     let hr = time.split(\":\")[0] + this.maxDateTime.split(\" \")[2];\n    //     hr == \"12a\"\n    //       ? \"0a\"\n    //       : time.split(\":\")[0] + this.maxDateTime.split(\" \")[2];\n    //     this.timePickerHrRange = [[\"0a\", hr]];\n    //   } else {\n    //     this.timePickerHrRange = null;\n    //   }\n\n    //   let hrInPM = this.onDemandZoneDetails.timeZone\n    //     ? format(\n    //       dateToTimeZoneDate(\n    //         addMinutes(new Date(), 15),\n    //         this.onDemandZoneDetails.timeZone\n    //       ),\n    //       \"hhaaa\"\n    //     )\n    //     : format(new Date(), \"hhaaa\");\n    //   //set the min range\n    //   if (\n    //     this.exitDate ==\n    //     format(\n    //       dateToTimeZoneDate(\n    //         addMinutes(new Date(), 15),\n    //         this.onDemandZoneDetails.timeZone\n    //       ),\n    //       \"yyyy-MM-dd\"\n    //     ) &&\n    //     val != null &&\n    //     hrInPM == val?.hh + val.a\n    //   ) {\n    //     this.timePickerMinRange = [\n    //       [\n    //         this.onDemandZoneDetails.timeZone\n    //           ? Number(\n    //             format(\n    //               dateToTimeZoneDate(\n    //                 addMinutes(new Date(), 15),\n    //                 this.onDemandZoneDetails.timeZone\n    //               ),\n    //               \"mm\"\n    //             )\n    //           )\n    //           : Number(format(addMinutes(new Date(), 15), \"mm\")),\n    //         59,\n    //       ],\n    //     ];\n    //   } else if (\n    //     this.maxDateTime != null &&\n    //     this.maxDateTime.split(\" \")[0] == this.exitDate\n    //   ) {\n    //     let time = this.maxDateTime.split(\" \")[1];\n    //     let hr = time.split(\":\")[0] + this.maxDateTime.split(\" \")[2];\n    //     if (val != null && hr == val?.hh + val.a[0]) {\n    //       let min = time.split(\":\")[1];\n    //       this.timePickerMinRange = [[0, min]];\n    //     } else {\n    //       this.timePickerMinRange = [[0, 59]];\n    //     }\n    //   } else {\n    //     this.timePickerMinRange = [[0, 59]];\n    //   }\n    //   if (\n    //     this.exitTimeSelected == null &&\n    //     this.onDemandZoneDetails?.timeZone != undefined\n    //   ) {\n    //     this.timePickerHrRange = [];\n    //     this.timePickerMinRange = [];\n    //     return;\n    //   } else if (this.exitTimeSelected?.hh == \"\") {\n    //     this.timePickerMinRange = [];\n    //   }\n    // },\n    /** @methods to find the estimate rate \n     @params startDate , stopDate,zcode, type , env_overRide\n     */\n\n    async dateTimeChange() {\n      try {\n        //format(new Date(this.checkinDate), \"yyyy-MM-dd'T'HH:mm:ss\");\n        // this.setTimePicker();\n        if (this.stopTime != null && this.stopTime != \"\") {\n          this.startDate = this.zoneDetails.timezone\n            ? format(\n              dateToTimeZoneDate(\n                new Date(),\n                this.zoneDetails.timezone\n              ),\n              \"yyyy-MM-dd'T'HH:mm:ss\"\n            )\n            : format(new Date(), \"yyyy-MM-dd'T'HH:mm:ss\");\n          let stopTime = Object.hasOwnProperty.call(this.zoneDetails, 'timePickerConfiguration') && this.zoneDetails.timePickerConfiguration == '0' ? '23:59:00' : this.stopTime; //?.hh+\":\"+this.exitTimeSelected.mm+\":00\"//format(this.checkoutDate, \"yyyy-MM-dd'T'HH:mm:ss\")\n          let exitdate = this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'yyyy-MM-dd') : \"\";\n          let stopDate = exitdate + 'T' + stopTime;\n          let data = {\n            startAt: this.startDate,\n            stopAt: stopDate,\n            zcode: this.zoneDetails.zcode,\n          };\n          this.addPaymentBtnLoading = true;\n          var getRate = await APIHelper(\"POST\", \"/api/v2/getRate\", data);\n          //condition to check if the date time selected is lesser than current time\n          if (!getRate?.data?.status) {\n            this.disableAddPaymentBtn = true;\n            this.alertDialog = true;\n            this.alertMsg = getRate?.data?.message || \"Error in getting rate details\";\n            EventBus.$emit('datetime-set');\n\n          }\n          else {\n            this.disableAddPaymentBtn = false;\n            this.openDatePicker = false;\n            this.openTimePicker = false;\n            EventBus.$emit('datetime-set');\n          }\n          this.estimate = Object.assign({}, getRate?.data?.data);\n          // estimatedVal != \"\" &&\n          // estimatedVal != null &&\n          // estimatedVal != undefined\n          //   ? Number(estimatedVal).toFixed(2)\n          //   : estimatedVal;\n          this.addPaymentBtnLoading = false;\n        }\n      } catch (error) {\n        this.addPaymentBtnLoading = false;\n        console.log(error);\n      }\n    },\n    formatDate(date) {\n      let stringdate = date.toString();\n      if (!date) return null;\n\n      const [year, month, day] = stringdate.split(\"-\");\n      return `${month}/${day}/${year}`;\n    },\n    parseDate(date) {\n      if (!date) return null;\n\n      const [month, day, year] = date.split(\"/\");\n      return `${year}-${month.padStart(2, \"0\")}-${day.padStart(2, \"0\")}`;\n    },\n    async addPayment() {\n      localStorage.setItem(\"odDetails\", JSON.stringify({ contact: this.contactObj, licencePlate: this.licencePlate }));\n      let exitDateTime = this.time != null || this.time !== undefined || this.time != \"\" ?\n        format(this.time, 'yyyy-MM-dd')\n        +\n        \" \" +\n        (this.zoneDetails?.timePickerConfiguration == '0' ? '11:59 PM' : format(this.time, 'hh:mm a')) : \"\"\n      let entryDateTime = this.zoneDetails.timezone\n        ? format(\n          dateToTimeZoneDate(new Date(),\n            this.zoneDetails.timezone\n          ),\n          \"yyyy-MM-dd hh:mm a\"\n        )\n        : format(new Date(), \"yyyy-MM-dd'T'HH:mm a\");\n      let commitData = {\n        plate: this.licencePlate,\n        contact: this.contactObj.formattedNumber,\n        entryTime: entryDateTime,\n        exitTime: exitDateTime,\n        estimate: this.estimate,\n      };\n      switch (this.templateFlags) {\n        case 'ondemand-flag': {\n          let details = await APIHelper(\"POST\", \"/api/v1/prepaid/openTransaction\", {\n            vehicleNo: this.licencePlate,\n            contact: this.contactObj.formattedNumber,\n            entryTime: entryDateTime,\n            exitTime: exitDateTime,\n            zcode: this.zoneDetails?.zcode,\n          });\n          if (details?.data?.status) {\n            this.$store.commit(\"SET_ONDEMAND_USERDETAILS\", commitData);\n            this.$router.replace({ path: \"/ondemand/makepayment\" });\n          }\n          else {\n            this.alertMsg = details?.data?.message ? details?.data?.message : \"\";\n            this.alertDialog = true;\n          }\n          break;\n        }\n        case 'atlantic-flag': {\n          let details = await APIHelper(\"POST\", \"/api/v1/prepaid/openTransaction\", {\n            vehicleNo: this.licencePlate,\n            contact: this.contactObj.formattedNumber,\n            entryTime: entryDateTime,\n            exitTime: exitDateTime,\n            zcode: this.zoneDetails?.zcode,\n            mid: this.zoneDetails?.mid,\n            eventType: 'PaidHostPass'\n          });\n\n          if (details?.data?.status) {\n            this.$store.commit(\"SET_CASINO_USERDETAILS\", commitData);\n            this.$router.replace({ path: \"/prepaidhost/makepayment\" });\n          } else {\n            if (details?.data?.message == \"Booking Already Exists\") {\n              let url = window.location.origin + \"/g/\" + details?.data?.data?.bid;\n              window.location.replace(url)\n            }\n            this.alertMsg = details?.data?.message ? details?.data?.message : \"\";\n\n            this.alertDialog = true;\n          }\n        }\n      }\n\n    },\n\n    uppercase() {\n      if (rules.alphaNumeric(this.licencePlate) === \"Must be alphanumeric\") {\n        this.licencePlate = this.licencePlate.replace(/[^\\w\\s]/gi, '')\n      }\n      this.licencePlate = this.licencePlate.trim()\n      this.licencePlate = this.licencePlate.toUpperCase();\n    },\n    /**\n     * @method getZoneDetails fetch the zone details and commit SET_ZONE_DETAILS mutation.\n     */\n    async getZoneDetails(searchParamKey, searchParamValue) {\n      try {\n        var zoneDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/user/config\" + searchParamKey + \"=\" + searchParamValue\n        );\n        this.$store.commit(\"SET_ZONE_DETAILS\", zoneDetails.data?.zone);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    /**\n     * @method getOnDemandZoneDetails fetch the ondemand zone details from Pcom and commit SET_ZONE_DETAILS mutation.\n     */\n    async getOnDemandZoneDetails(searchParamValue) {\n      this.loading = true;\n      try {\n        var zoneDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/getOnDemand/\" + searchParamValue\n        );\n        this.loading = false;\n        if (zoneDetails.data?.lot) {\n          this.$store.commit(\n            \"SET_ON_DEMAND_ZONE_DETAILS\",\n            zoneDetails.data?.lot\n          );\n          this.setDatePicker();\n          this.setDefaultDate();\n          // this.setTimePicker();\n        } else {\n          this.alertMsg =\n            zoneDetails?.data?.message || \"Error in loading location details.\";\n          this.alertDialog = true;\n        }\n      } catch (error) {\n        this.loading = false;\n        console.log(error);\n      }\n    },\n    onContactInput(contactDetails) {\n      this.isContactValid = contactDetails?.isValid;\n      this.contactObj = Object.assign({}, contactDetails);\n    },\n  },\n\n  computed: {\n    formattedDateTime() {\n      return this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'iii, LLL dd') : \"\"\n    },\n    formattedYear() {\n      return this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'yyyy') : \"\"\n    },\n    ...mapGetters({\n      odDetails: \"getterOdDetails\",\n      casinoDetails: 'getterCasinoDetails',\n      zoneDetails: \"getterZoneDetails\",\n      onDemandZoneDetails: \"getterOnDemandZoneDetails\",\n      templateFlags: 'getterTemplateFlags'\n    }),\n    formattedTime() {\n      return this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'hh:mm aa') : \"\"\n    },\n    infoFlag() {\n      return this.contactObj == null ||\n        !this.contactObj.isValid ||\n        this.contactObj.phoneNumber == \"\" ||\n        this.contactObj.phoneNumber == null ||\n        this.licencePlate === \"\" ||\n        this.licencePlate === null ? false : true\n    },\n    timeFlag() {\n      return this.time === null || this.disableAddPaymentBtn || this.estimate === null || this.estimate === '' ||\n        this.time === \"\" || this.time === undefined ? false : true;\n    },\n    paymentFlag() {\n      return this.estimate === null || this.estimate === '' || this.estimate.hasOwnProperty.call('grandTotal') || this.estimate.hasOwnProperty.call('totalPrice') || this.estimate.hasOwnProperty.call('totalFee') || this.estimate.hasOwnProperty.call('totalTax') ? false : true\n    },\n    dateTextFormat() {\n      var event = new Date(this.exitDate);\n      return event.toLocaleDateString(\"en-US\", {\n        year: \"numeric\",\n        month: \"short\",\n        day: \"numeric\",\n      });\n    },\n    computedDateFormatted() {\n      return this.time != null && this.time != \"\" && this.time != undefined ? format(this.time, 'MM/dd/yyyy') : \"\"\n    },\n    disableSubmitBtn() {\n      let disabled =\n        this.contactObj == null ||\n        !this.contactObj.isValid ||\n        this.contactObj.phoneNumber == \"\" ||\n        this.contactObj.phoneNumber == null ||\n        this.licencePlate === \"\" ||\n        this.licencePlate === null ||\n        this.time === null || this.disableAddPaymentBtn || this.estimate === null || this.estimate === ''\n      this.time === \"\" || this.time == undefined;\n      disabled =\n        this.licencePlate != \"\" && this.licencePlate != null\n          ? disabled || /^[a-z0-9]+$/i.test(this.licencePlate) === false\n          : disabled;\n      let selectedMins = this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'mm') : new Date();\n      let selectedHours = this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'hh') : new Date();\n      let selectedAMPM = this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'aaa') : new Date();\n      disabled =\n        disabled ||\n        selectedMins == null ||\n        selectedMins === \"\" ||\n        selectedMins == undefined ||\n        selectedHours == null ||\n        selectedHours === \"\" ||\n        selectedHours == undefined || selectedAMPM == null ||\n        selectedAMPM === \"\" ||\n        selectedAMPM == undefined || this.time === null || this.time === \"\" || this.time === undefined\n      return disabled;\n    },\n  },\n};\n</script>\n<style lang=\"less\" >\n.information {\n  background-color: #edf1f4;\n}\n\n.booking_header {\n  position: absolute;\n  bottom: 30px;\n  left: 16px;\n  font-size: 18px;\n  font-weight: bolder;\n}\n\n.add_licence_plate_btn {\n  width: 100%;\n  background-color: #f2555c !important;\n  font-size: 18px !important;\n  font-weight: 700 !important;\n  letter-spacing: normal !important;\n  height: 50px !important;\n}\n\n.country-selector.md.has-value .country-selector__input {\n  border: none;\n  border-bottom: 1px solid rgb(118, 118, 118);\n}\n\n.input-tel.md .input-tel__input {\n  border: none;\n  border-bottom: 1px solid rgb(118, 118, 118);\n  margin-left: 2px;\n}\n\n.input-tel.is-focused.has-error .input-tel__input {\n  box-shadow: none !important;\n}\n\n.input-tel.is-focused.is-valid .input-tel__input {\n  box-shadow: none !important;\n}\n\n.time-picker-input {\n  flex: 1 1 auto;\n  line-height: 20px;\n  padding: 8px 0 8px;\n  max-width: 100%;\n  min-width: 0px;\n  font-size: 16px;\n  font-family: \"Work Sans\";\n}\n\n.time-picker-input :focus-visible {\n  outline-color: #1976d2;\n}\n\n.vue__time-picker input.display-time {\n  padding: 0px !important;\n  border-bottom: 1px solid #767676;\n  border-top: 0px;\n  border-right: 0px;\n  border-left: 0px;\n}\n\n.vue__time-picker-dropdown ul li:not([disabled]).active,\n.vue__time-picker-dropdown ul li:not([disabled]).active:focus,\n.vue__time-picker-dropdown ul li:not([disabled]).active:hover,\n.vue__time-picker .dropdown ul li:not([disabled]).active,\n.vue__time-picker .dropdown ul li:not([disabled]).active:focus,\n.vue__time-picker .dropdown ul li:not([disabled]).active:hover {\n  background: #f2555c !important;\n}\n\n[data-key='am'] {\n  border: 0.2px solid red;\n  border-radius: 2px;\n  margin-left: 2px;\n}\n\n[data-key='pm'] {\n  border: 0.2px solid red;\n  margin-top: 0.5em;\n  margin-left: 2px;\n}\n\n.hours .hint {\n  position: sticky;\n  top: 0;\n  text-align: center;\n  background: #68808c;\n  z-index: 1;\n  -webkit-text-fill-color: white;\n  margin-bottom: 10px\n}\n\n.apms .hint {\n  position: sticky;\n  top: 0;\n  text-align: center;\n  background: #68808c;\n  z-index: 1;\n  margin-left: 1px;\n  -webkit-text-fill-color: white;\n  margin-bottom: 10px\n}\n\n.hours::-webkit-scrollbar {\n  display: none;\n}\n\n.minutes::-webkit-scrollbar {\n  display: none;\n}\n\n.minutes .hint {\n  position: sticky;\n  top: 0;\n  text-align: center;\n  background: #68808c;\n  z-index: 1;\n  -webkit-text-fill-color: white;\n  margin-bottom: 10px\n}\n\nhr {\n  border: 1px solid #ffbc1f;\n}\n\n.p-inputtext {\n  background: transparent;\n  border: none;\n  border-bottom: 1px solid grey;\n  text-align: left;\n}\n\n// .vue__time-picker input.display-time{\n//   border-bottom:1px solid #767676;\n//     border-top:0px;\n//     border-right:0px;\n//     border-left:0px;\n// }\n</style>"]}]}