{"remainingRequest":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/guest-webapp/src/views/CreateSession.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vignesh/DIVRT/guest-webapp/src/views/CreateSession.vue","mtime":1679651705555},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IEFQSUhlbHBlciBmcm9tICIuLi9hcGlIZWxwZXIiOwppbXBvcnQgcnVsZXMgZnJvbSAiQC91dGlscy9ydWxlcyI7CmltcG9ydCB7IGZvcm1hdCB9IGZyb20gImRhdGUtZm5zIjsKaW1wb3J0IFZ1ZVBob25lTnVtYmVySW5wdXQgZnJvbSAidnVlLXBob25lLW51bWJlci1pbnB1dCI7CmltcG9ydCAidnVlLXBob25lLW51bWJlci1pbnB1dC9kaXN0L3Z1ZS1waG9uZS1udW1iZXItaW5wdXQuY3NzIjsKLy8gaW1wb3J0IGxvZ2dlckhlbHBlciBmcm9tICIuLi9sb2dnZXJIZWxwZXIiOwovLyBpbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQ3JlYXRlU2Vzc2lvbiIsCiAgY29tcG9uZW50czogeyBWdWVQaG9uZU51bWJlcklucHV0IH0sCiAgZGF0YTogKCkgPT4gKHsKICAgIHNlbGVjdGVkUGxhdGU6ICIiLAogICAgZHVwbGljYXRlUGxhdGVzOiBbXSwKICAgIGNvbnRhY3RPcHRpb25zOiB7CiAgICAgIGNvbG9yOiAiIzAyODhEMSIsCiAgICAgIHZhbGlkQ29sb3I6ICIjMDI4OEQxIiwKICAgICAgY29udGFjdEJvcmRlclJhZGl1czogMCwKICAgICAgZXJyb3JDb2xvcjogIiNGRjUyNTIiLAogICAgICBkZWZhdWx0Q291bnRyeTogIlVTIiwKICAgICAgdHJhbnNsYXRpb25zOiB7CiAgICAgICAgcGhvbmVOdW1iZXJMYWJlbDogIkNvbnRhY3QgTm8iLAogICAgICB9LAogICAgfSwKICAgIGNvbnRhY3RPYmo6IHt9LAogICAgaXNDb250YWN0VmFsaWQ6IGZhbHNlLAogICAgcmVFbnRlclBsYXRlOiBmYWxzZSwKICAgIGNvbmZpcm1DcmVhdGVTZXNzaW9uRGlhbG9nOiBmYWxzZSwKICAgIGVyckRpYWxvZzogZmFsc2UsCiAgICBlcnJNc2c6ICIiLAogICAgcnVsZXM6IHJ1bGVzLAogICAgbGljZW5jZVBsYXRlOiAiIiwKICAgIC8vIGNvbnRhY3Q6ICIiLAogICAgYWRkTGljZW5jZVBsYXRlQnRuTG9hZGluZzogZmFsc2UsCiAgfSksCiAgYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgbmV4dCgodm0pID0+IHsKICAgICAgbGV0IHNlYXJjaFBhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoIj0iKTsKICAgICAgbGV0IHNlYXJjaFBhcmFtS2V5ID0gc2VhcmNoUGFyYW1zLmxlbmd0aCA+IDAgPyBzZWFyY2hQYXJhbXNbMF0gOiAiIjsKICAgICAgbGV0IHNlYXJjaFBhcmFtVmFsdWUgPSBzZWFyY2hQYXJhbXMubGVuZ3RoID4gMCA/IHNlYXJjaFBhcmFtc1sxXSA6ICIiOwogICAgICBzd2l0Y2ggKHNlYXJjaFBhcmFtS2V5KSB7CiAgICAgICAgY2FzZSAiP3pjb2RlIjoKICAgICAgICAgIHZtLmdldFpvbmVEZXRhaWxzKHNlYXJjaFBhcmFtS2V5LCBzZWFyY2hQYXJhbVZhbHVlKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIj9nYXRlaWQiOgogICAgICAgICAgLy9hd2FpdCBzZWxmLmdldFpvbmVEZXRhaWxzKHNlYXJjaFBhcmFtS2V5LCBzZWFyY2hQYXJhbVZhbHVlKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9KTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgem9uZURldGFpbHM6ICJnZXR0ZXJab25lRGV0YWlscyIsCiAgICB9KSwKICAgIGluZm9GbGFnKCkgewogICAgICByZXR1cm4gdGhpcy5jb250YWN0T2JqID09IG51bGwgfHwKICAgICAgICAhdGhpcy5jb250YWN0T2JqLmlzVmFsaWQgfHwKICAgICAgICB0aGlzLmNvbnRhY3RPYmoucGhvbmVOdW1iZXIgPT0gIiIgfHwKICAgICAgICB0aGlzLmNvbnRhY3RPYmoucGhvbmVOdW1iZXIgPT0gbnVsbCB8fAogICAgICAgIHRoaXMubGljZW5jZVBsYXRlID09PSAiIiB8fAogICAgICAgIHRoaXMubGljZW5jZVBsYXRlID09PSBudWxsID8gZmFsc2UgOiB0cnVlCiAgICB9LAogICAgZGlzYWJsZUFkZExpY2VuY2VQbGF0ZUJ0bigpIHsKICAgICAgaWYgKHRoaXMuem9uZURldGFpbHMubHByX3N0YXR1cyA9PSAiMCIpIHsKICAgICAgICByZXR1cm4gdGhpcy5pc0NvbnRhY3RWYWxpZCA9PSBmYWxzZSA/IHRydWUgOiBmYWxzZTsKICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdGhpcy5pc0NvbnRhY3RWYWxpZCA9PSBmYWxzZSB8fAogICAgICAgICAgdGhpcy5saWNlbmNlUGxhdGUgPT0gIiIgfHwKICAgICAgICAgIHRoaXMubGljZW5jZVBsYXRlID09IG51bGwgfHwKICAgICAgICAgIC9eW2EtejAtOV0rJC9pLnRlc3QodGhpcy5saWNlbmNlUGxhdGUpID09PSBmYWxzZQogICAgICAgICAgPyB0cnVlCiAgICAgICAgICA6IGZhbHNlOwogICAgICB9CiAgICB9LAogIH0sCiAgd2F0Y2g6IHt9LAogIGNyZWF0ZWQoKSB7IH0sCiAgYXN5bmMgbW91bnRlZCgpIHsKICAgIHZhciBzZWxmID0gdGhpczsKICAgIGxldCBzZWFyY2hQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnNwbGl0KCI9Iik7CiAgICBsZXQgc2VhcmNoUGFyYW1LZXkgPSBzZWFyY2hQYXJhbXMubGVuZ3RoID4gMCA/IHNlYXJjaFBhcmFtc1swXSA6ICIiOwogICAgbGV0IHNlYXJjaFBhcmFtVmFsdWUgPSBzZWFyY2hQYXJhbXMubGVuZ3RoID4gMCA/IHNlYXJjaFBhcmFtc1sxXSA6ICIiOwogICAgc3dpdGNoIChzZWFyY2hQYXJhbUtleSkgewogICAgICBjYXNlICI/emNvZGUiOgogICAgICAgIGF3YWl0IHNlbGYuZ2V0Wm9uZURldGFpbHMoc2VhcmNoUGFyYW1LZXksIHNlYXJjaFBhcmFtVmFsdWUpOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICI/Z2F0ZWlkIjoKICAgICAgICAvL2F3YWl0IHNlbGYuZ2V0Wm9uZURldGFpbHMoc2VhcmNoUGFyYW1LZXksIHNlYXJjaFBhcmFtVmFsdWUpOwogICAgICAgIGJyZWFrOwogICAgfQogICAgLy8gdGhpcy5jaGVja0NvbXBhdGliaWxpdHkoKTsKICB9LAogIGRlc3Ryb3llZCgpIHsgfSwKICAvLyBiZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgLy8gICBuZXh0KGFzeW5jICh2bSkgPT4gewogIC8vIH0sCiAgbWV0aG9kczogewogICAgb25Db250YWN0SW5wdXQoY29udGFjdERldGFpbHMpIHsKICAgICAgdGhpcy5pc0NvbnRhY3RWYWxpZCA9IGNvbnRhY3REZXRhaWxzPy5pc1ZhbGlkOwogICAgICB0aGlzLmNvbnRhY3RPYmogPSBPYmplY3QuYXNzaWduKHt9LCBjb250YWN0RGV0YWlscyk7CiAgICB9LAogICAgc2V0UmVlbnRlclBsYXRlRmxhZygpIHsKICAgICAgdGhpcy5saWNlbmNlUGxhdGUgPSB0aGlzLnNlbGVjdGVkUGxhdGUgfHwgIiI7CiAgICAgIHRoaXMucmVFbnRlclBsYXRlID0gdHJ1ZTsKICAgICAgdGhpcy5jb25maXJtQ3JlYXRlU2Vzc2lvbkRpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIHVwcGVyY2FzZSgpIHsKICAgICAgdGhpcy5saWNlbmNlUGxhdGUgPSB0aGlzLmxpY2VuY2VQbGF0ZS50b1VwcGVyQ2FzZSgpOwogICAgfSwKICAgIC8qKgogICAgICogQG1ldGhvZCBnZXRab25lRGV0YWlscyBmZXRjaCB0aGUgem9uZSBkZXRhaWxzIGFuZCBjb21taXQgU0VUX1pPTkVfREVUQUlMUyBtdXRhdGlvbi4KICAgICAqLwogICAgYXN5bmMgZ2V0Wm9uZURldGFpbHMoc2VhcmNoUGFyYW1LZXksIHNlYXJjaFBhcmFtVmFsdWUpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgem9uZURldGFpbHMgPSBhd2FpdCBBUElIZWxwZXIoCiAgICAgICAgICAiR0VUIiwKICAgICAgICAgICIvYXBpL3YxL3VzZXIvY29uZmlnIiArIHNlYXJjaFBhcmFtS2V5ICsgIj0iICsgc2VhcmNoUGFyYW1WYWx1ZQogICAgICAgICk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfWk9ORV9ERVRBSUxTIiwgem9uZURldGFpbHMuZGF0YT8uem9uZSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgLyoqCiAgICAgKiBAbWV0aG9kIGNyZWF0ZVNlc3Npb24gRmV0Y2ggYm9va2luZyBpZCBvbiBhZGQgYm9va2luZyBhbmQgZmV0Y2ggdGhlIGJvb2tpbmcgaW5mby4KICAgICAqLwogICAgYXN5bmMgY3JlYXRlU2Vzc2lvbigpIHsKICAgICAgdGhpcy5hZGRMaWNlbmNlUGxhdGVCdG5Mb2FkaW5nID0gdHJ1ZTsKICAgICAgbGV0IHBvc3RPYmogPSB7CiAgICAgICAgY29udGFjdDogdGhpcy5jb250YWN0T2JqPy5mb3JtYXR0ZWROdW1iZXIsCiAgICAgICAgdW5pcXVlSUQ6IHRoaXMuY29udGFjdE9iaj8ubmF0aW9uYWxOdW1iZXIsCiAgICAgICAgdmVoaWNsZU5vOiB0aGlzLmxpY2VuY2VQbGF0ZS50b1VwcGVyQ2FzZSgpLAogICAgICAgIGxvY2F0aW9uQ29kZTogdGhpcy56b25lRGV0YWlscy56Y29kZSwKICAgICAgICB6aWQ6IHRoaXMuem9uZURldGFpbHMuemlkLAogICAgICAgIGVudHJ5dGltZTogZm9ybWF0KAogICAgICAgICAgbmV3IERhdGUobmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygiZW4tVVMiLCB7CiAgICAgICAgICAgIHRpbWVab25lOiB0aGlzLnpvbmVEZXRhaWxzLnRpbWV6b25lLAogICAgICAgICAgfSkpLAogICAgICAgICAgInl5eXktTU0tZGQgSEg6bW06c3MiCiAgICAgICAgKSwKICAgICAgICBzb3VyY2U6ICJhcHBjbGlwIiwKICAgICAgICB3ZWJWaWV3OiAiMSIsCiAgICAgICAgdHlwZTogIjIiLAogICAgICAgIHN0YXRlOiAyLAogICAgICAgIHBheW1lbnRfc3RhdHVzOiAwLAogICAgICAgIHR4bklEX2FkZENDOiAwLAogICAgICB9OwogICAgICBpZiAodGhpcy5yZUVudGVyUGxhdGUpIHsKICAgICAgICBPYmplY3QuYXNzaWduKHBvc3RPYmosIHsgY3JlYXRlTmV3U2Vzc2lvbjogMSB9KTsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIHZhciBzZXNzaW9uID0gYXdhaXQgQVBJSGVscGVyKCJQT1NUIiwgIi9hcGkvdjEvYWRkQm9va2luZyIsIHBvc3RPYmopOwogICAgICAgIGxldCBiaWQgPSBzZXNzaW9uPy5kYXRhPy5yZWZubzsKICAgICAgICBpZiAoc2Vzc2lvbi5kYXRhLnN0YXR1cyA9PT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuZXJyTXNnID0gc2Vzc2lvbj8uZGF0YT8ubWVzc2FnZSA/IHNlc3Npb24uZGF0YS5tZXNzYWdlIDogIiI7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIHNlc3Npb24/LmRhdGE/LnNob3dDcmVhdGVOZXdTZXNzaW9uUG9wdXAgJiYKICAgICAgICAgICAgc2Vzc2lvbi5kYXRhLnNob3dDcmVhdGVOZXdTZXNzaW9uUG9wdXAgPT0gMQogICAgICAgICAgKSB7CiAgICAgICAgICAgIGlmIChzZXNzaW9uPy5kYXRhPy5kYXRhICYmIHNlc3Npb24uZGF0YS5kYXRhLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgICB0aGlzLmR1cGxpY2F0ZVBsYXRlcyA9IHNlc3Npb24uZGF0YS5kYXRhOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgICBwaG9uZTogdGhpcy5jb250YWN0T2JqPy5uYXRpb25hbE51bWJlciwKICAgICAgICAgICAgICBwbGF0ZTogdGhpcy5saWNlbmNlUGxhdGUudG9VcHBlckNhc2UoKSwKICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAiUGFya2VyIHNlc3Npb24gbm90IGZvdW5kIGluIHRoZSBzeXN0ZW0uIiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuY29uZmlybUNyZWF0ZVNlc3Npb25EaWFsb2cgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmFkZExpY2VuY2VQbGF0ZUJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgICAgdGhpcy5hZGRMaWNlbmNlUGxhdGVCdG5Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGF3YWl0IHRoaXMuZ2V0Qm9va2luZ0RldGFpbHMoYmlkKTsKICAgICAgICBsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICIvZy8iICsgYmlkOwogICAgICAgIHRoaXMuYWRkTGljZW5jZVBsYXRlQnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMucmVFbnRlclBsYXRlCiAgICAgICAgICA/IHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgcGhvbmU6IHRoaXMuY29udGFjdE9iaj8ubmF0aW9uYWxOdW1iZXIsCiAgICAgICAgICAgIHJlZklkOiBiaWQsCiAgICAgICAgICAgIGljb246ICJsb2dpbiIsCiAgICAgICAgICAgIHBsYXRlOiB0aGlzLmxpY2VuY2VQbGF0ZS50b1VwcGVyQ2FzZSgpLAogICAgICAgICAgICBzdGF0dXNUZXh0OgogICAgICAgICAgICAgICJQYXJrZXIgcGxhdGUvY29udGFjdCBudW1iZXIgbm90IGZvdW5kIGluIHRoZSBzeXN0ZW0uIFBhcmtlciBjcmVhdGVkIGEgbmV3IHNlc3Npb24gdXNpbmcgZ2VuZXJpYyBwYXltZW50IFFSIiwKICAgICAgICAgIH0pCiAgICAgICAgICA6IHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgcGhvbmU6IHRoaXMuY29udGFjdE9iaj8ubmF0aW9uYWxOdW1iZXIsCiAgICAgICAgICAgIHJlZklkOiBiaWQsCiAgICAgICAgICAgIGljb246ICJsb2dpbiIsCiAgICAgICAgICAgIHBsYXRlOiB0aGlzLmxpY2VuY2VQbGF0ZS50b1VwcGVyQ2FzZSgpLAogICAgICAgICAgICBzdGF0dXNUZXh0OgogICAgICAgICAgICAgICJQYXJrZXIgc2Vzc2lvbiBmb3VuZC4gUGFya2VyIG9wZW5lZCBoaXMvaGVyIHNlc3Npb24gdXNpbmcgZ2VuZXJpYyBwYXltZW50IFFSIiwKICAgICAgICAgIH0pOwoKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh1cmwpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuYWRkTGljZW5jZVBsYXRlQnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICogQG1ldGhvZCBnZXRCb29raW5nRGV0YWlscyBmZXRjaCB0aGUgYm9va2luZyBkZXRhaWxzIGFuZCBjb21taXQgU0VUX0JPT0tJTkdfREVUQUlMUyBtdXRhdGlvbi4KICAgICAqLwogICAgYXN5bmMgZ2V0Qm9va2luZ0RldGFpbHMoYm9va2luZ0lkKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGJvb2tpbmdEZXRhaWxzID0gYXdhaXQgQVBJSGVscGVyKAogICAgICAgICAgIkdFVCIsCiAgICAgICAgICAiL2FwaS92MS9ib29raW5nL2NvbmZpZy8iICsgYm9va2luZ0lkCiAgICAgICAgKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoCiAgICAgICAgICAiU0VUX0JPT0tJTkdfREVUQUlMUyIsCiAgICAgICAgICBib29raW5nRGV0YWlscy5kYXRhPy5kYXRhID8gYm9va2luZ0RldGFpbHMuZGF0YS5kYXRhIDogbnVsbAogICAgICAgICk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgY2xvc2VDb25maXJtQ3JlYXRlU2Vzc2lvbkRpYWxvZygpIHsKICAgICAgdGhpcy5jb25maXJtQ3JlYXRlU2Vzc2lvbkRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLmFkZExpY2VuY2VQbGF0ZUJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["CreateSession.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CreateSession.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container class=\"pa-4\" fluid>\n    <v-row class=\"text-center\" no-gutters>\n      <v-col cols=\"12\">\n        <v-img alt=\"PARKING.COM\" class=\"my-3\" height=\"42\" contain src=\"../assets/logo_huge_drk.png\" />\n      </v-col>\n    </v-row>\n    <v-row no-gutters>\n      <v-col>\n        <v-card class=\"mx-auto rounded-lg\" max-width=\"374\">\n          <template slot=\"progress\">\n            <v-progress-linear color=\"red\" height=\"10\" indeterminate></v-progress-linear>\n          </template>\n          <div style=\"position: relative\">\n            <!-- <v-skeleton-loader\n                                              v-show=\"!zoneDetails.hasOwnProperty('image')\"\n                                              height=\"260px\"\n                                              class=\"rounded-t-lg\"\n                                              type=\"image\"\n                                            ></v-skeleton-loader> -->\n            <v-img class=\"rounded-t-lg\" max-height=\"150px\" style=\"filter: brightness(50%)\" :src=\"\n              zoneDetails.hasOwnProperty('image') &&\n                zoneDetails.image != '' &&\n                zoneDetails.image != null\n                ? zoneDetails.image\n                : zoneImgURL\n            \" :lazy-src=\"\n  zoneDetails.hasOwnProperty('image') &&\n    zoneDetails.image != '' &&\n    zoneDetails.image != null\n    ? zoneDetails.image\n    : zoneImgURL\n\" alt=\"Parking.com garage\">\n              <template v-slot:placeholder>\n                <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\" no-gutters>\n                  <v-progress-circular indeterminate color=\"grey lighten-5\"></v-progress-circular>\n                </v-row>\n              </template>\n            </v-img>\n            <div class=\"booking_header white--text text-left mr-4\">\n              You are parked at\n              {{\n                zoneDetails.hasOwnProperty(\"zoneName\")\n                ? zoneDetails.zoneName\n                : \"\"\n              }}\n            </div>\n          </div>\n          <v-card-text class=\"pa-0\">\n            <v-form ref=\"detailsForm\">\n              <v-container fluid pa-0>\n                <v-row no-gutters class=\"pt-2 information pa-0\">\n                  <v-col cols=\"2\" class=\"align-self-center\">\n                    <v-img src=\"../assets/list_divider_step.imageset/list_divider_step.png\" width=\"45px\" v-if=\"!infoFlag\">\n                      <div class=\"row text-center align-self-center pl-5\">\n                        <div class=\"col-12 text-center\">\n                          <span style=\"font-size:large;font-weight:bold;color:white\">1</span>\n                        </div>\n                      </div>\n                    </v-img>\n                    <v-img src=\"../assets/list_divider_step_completed.imageset/list_divider_step_completed.png\"\n                      width=\"45px\" v-if=\"infoFlag\">\n                      <div class=\"row text-center pl-5\">\n                        <div class=\"col-12 text-center\">\n                          <span style=\"font-size:larger;font-weight:bold;color:white\">âœ“</span>\n                        </div>\n                      </div>\n                    </v-img>\n                  </v-col>\n                  <v-col cols=\"10\" class=\"mt-3\">\n                    <p style=\"color:#F2555C;font-weight:bolder\">Your Information</p>\n                  </v-col>\n                </v-row>\n                <v-row no-gutters>\n                  <v-col cols=\"12\" class=\"px-4 mt-2 text-center color-black\" style=\"font-size: 12px\">\n                    <p class=\"mb-0\" v-if=\"zoneDetails.lpr_status == '1'\">\n                      Enter your license plate and phone number for hassle-free\n                      parking\n                    </p>\n                    <p class=\"mb-0\" v-else>\n                      Enter your phone number for hassle-free parking\n                    </p>\n                  </v-col>\n                </v-row>\n                <v-row no-gutters class=\"pt-2 px-4\" v-show=\"zoneDetails.lpr_status == '1'\">\n                  <v-col cols=\"1\" class=\"text-right align-self-end\">\n                    <v-icon class=\"material-icons-outlined\">pin</v-icon>\n                  </v-col>\n                  <v-col cols=\"11\" class=\"px-4\">\n                    <v-text-field v-model=\"licencePlate\" hide-details=\"auto\" maxlength=\"10\" @keyup=\"uppercase\"\n                      :rules=\"[rules.isRequired, rules.alphaNumeric]\" label=\"License Plate\" clearable></v-text-field>\n                  </v-col>\n                </v-row>\n                <v-row no-gutters class=\"py-2 px-4\">\n                  <v-col cols=\"1\" class=\"text-right align-self-end\">\n                    <v-icon class=\"material-icons-outlined\">send_to_mobile</v-icon>\n                  </v-col>\n                  <v-col cols=\"11\" class=\"px-4\">\n                    <VuePhoneNumberInput v-model=\"contactObj.phoneNumber\" size=\"md\" @update=\"onContactInput\"\n                      show-code-on-list :default-country-code=\"contactOptions.defaultCountry\"\n                      :color=\"contactOptions.color\" :valid-color=\"contactOptions.validColor\"\n                      :error-color=\"contactOptions.errorColor\" :border-radius=\"contactOptions.contactBorderRadius\"\n                      :error=\"!isContactValid\" required :translations=\"contactOptions.translations\" />\n                  </v-col>\n                  <!-- <v-col cols=\"11\" class=\"px-4\">\n                                                    <v-text-field\n                                                      v-model=\"contact\"\n                                                      hide-details=\"auto\"\n                                                      maxlength=\"10\"\n                                                      :rules=\"[\n                                                        rules.isRequired,\n                                                        rules.isNumeric,\n                                                        rules.exactCharacters(10),\n                                                      ]\"\n                                                      label=\"Phone Number\"\n                                                      clearable\n                                                    ></v-text-field>\n                                                  </v-col> -->\n                  <v-col cols=\"1\"> </v-col>\n                  <v-col cols=\"11\" class=\"px-4\">\n                    <span style=\"font-size: 10px\">Phone number is mandatory for generating the\n                      receipt</span>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-form>\n          </v-card-text>\n          <v-card-actions class=\"justify-center pb-10 px-4\">\n            <v-container class=\"pa-0\" fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"px-2\">\n                  <v-btn rounded elevation=\"0\" class=\"add_licence_plate_btn white--text\"\n                    :loading=\"addLicencePlateBtnLoading\" :disabled=\"disableAddLicencePlateBtn\" @click=\"createSession()\">{{\n                      reEnterPlate ? \"Confirm\" : \"Continue\" }}</v-btn>\n                </v-col>\n              </v-row>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"mt-2 text-center color-black px-2\" style=\"font-size: 12px\">\n                  <p class=\"mb-0\" v-show=\"reEnterPlate\">\n                    Please provide correct license plate and phone number.\n                    Without one, you could be subject to a parking violation and\n                    issued a citation.\n                  </p>\n                  <p class=\"mb-0\">\n                    A valid credit card is required to park. Without one, you\n                    could be subject to a parking violation and issued a\n                    citation.\n                  </p>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-actions>\n          <v-dialog v-model=\"errDialog\" max-width=\"fit-content\">\n            <v-card class=\"pa-0\">\n              <v-card-title class=\"justify-center\">\n                <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n              </v-card-title>\n              <v-card-text class=\"text-center mt-5\">\n                <span style=\"font-size: 20px\">\n                  {{ errMsg }}\n                </span>\n              </v-card-text>\n              <v-card-actions class=\"text-center pb-6\">\n                <v-container pa-0 fluid>\n                  <v-row no-gutters>\n                    <v-col cols=\"12\">\n                      <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                        @click=\"errDialog = false\">OK</v-btn>\n                    </v-col>\n                  </v-row>\n                </v-container>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n          <v-dialog\n            v-model=\"confirmCreateSessionDialog\"\n            max-width=\"fit-content\"\n          >\n            <v-card class=\"pa-0\">\n              <v-card-title class=\"justify-center\">\n                <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n              </v-card-title>\n              <v-card-text class=\"text-center mt-5\">\n                <v-container pa-0 fluid>\n                  <v-row no-gutters>\n                    <v-col cols=\"12\">\n                      <span style=\"font-size: 20px\">\n                        {{ errMsg }}\n                      </span>\n                    </v-col>\n                  </v-row>\n                  <v-row no-gutters v-show=\"duplicatePlates.length > 0\">\n                    <v-col cols=\"12\">\n                      <v-radio-group v-model=\"selectedPlate\" hide-details=\"auto\" column>\n                        <v-radio v-for=\"plate in duplicatePlates\" :key=\"plate\" class=\"my-2\" :value=\"plate\">\n                          <template v-slot:label>\n                            <span class=\"black--text\">{{ plate }}</span>\n                          </template></v-radio>\n                      </v-radio-group>\n                    </v-col>\n                  </v-row>\n                </v-container>\n              </v-card-text>\n              <v-card-actions class=\"text-center pb-6\">\n                <v-container pa-0 fluid>\n                  <v-row no-gutters>\n                    <v-col cols=\"12\">\n                      <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\" @click=\"setReenterPlateFlag\"\n                        :disabled=\"duplicatePlates.length > 0 ? selectedPlate == '' : false\">OK</v-btn>\n                    </v-col>\n                    <!-- <v-col cols=\"12\" class=\"mt-4\">\n                                                      <v-btn\n                                                        rounded\n                                                        block\n                                                        elevation=\"0\"\n                                                        class=\"\"\n                                                        @click=\"closeConfirmCreateSessionDialog()\"\n                                                        >Close</v-btn\n                                                      >\n                                                    </v-col> -->\n                  </v-row>\n                </v-container>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport APIHelper from \"../apiHelper\";\nimport rules from \"@/utils/rules\";\nimport { format } from \"date-fns\";\nimport VuePhoneNumberInput from \"vue-phone-number-input\";\nimport \"vue-phone-number-input/dist/vue-phone-number-input.css\";\n// import loggerHelper from \"../loggerHelper\";\n// import { mapGetters } from \"vuex\";\nexport default {\n  name: \"CreateSession\",\n  components: { VuePhoneNumberInput },\n  data: () => ({\n    selectedPlate: \"\",\n    duplicatePlates: [],\n    contactOptions: {\n      color: \"#0288D1\",\n      validColor: \"#0288D1\",\n      contactBorderRadius: 0,\n      errorColor: \"#FF5252\",\n      defaultCountry: \"US\",\n      translations: {\n        phoneNumberLabel: \"Contact No\",\n      },\n    },\n    contactObj: {},\n    isContactValid: false,\n    reEnterPlate: false,\n    confirmCreateSessionDialog: false,\n    errDialog: false,\n    errMsg: \"\",\n    rules: rules,\n    licencePlate: \"\",\n    // contact: \"\",\n    addLicencePlateBtnLoading: false,\n  }),\n  beforeRouteEnter(to, from, next) {\n    next((vm) => {\n      let searchParams = window.location.search.split(\"=\");\n      let searchParamKey = searchParams.length > 0 ? searchParams[0] : \"\";\n      let searchParamValue = searchParams.length > 0 ? searchParams[1] : \"\";\n      switch (searchParamKey) {\n        case \"?zcode\":\n          vm.getZoneDetails(searchParamKey, searchParamValue);\n          break;\n        case \"?gateid\":\n          //await self.getZoneDetails(searchParamKey, searchParamValue);\n          break;\n      }\n    });\n  },\n  computed: {\n    ...mapGetters({\n      zoneDetails: \"getterZoneDetails\",\n    }),\n    infoFlag() {\n      return this.contactObj == null ||\n        !this.contactObj.isValid ||\n        this.contactObj.phoneNumber == \"\" ||\n        this.contactObj.phoneNumber == null ||\n        this.licencePlate === \"\" ||\n        this.licencePlate === null ? false : true\n    },\n    disableAddLicencePlateBtn() {\n      if (this.zoneDetails.lpr_status == \"0\") {\n        return this.isContactValid == false ? true : false;\n      } else {\n        return this.isContactValid == false ||\n          this.licencePlate == \"\" ||\n          this.licencePlate == null ||\n          /^[a-z0-9]+$/i.test(this.licencePlate) === false\n          ? true\n          : false;\n      }\n    },\n  },\n  watch: {},\n  created() { },\n  async mounted() {\n    var self = this;\n    let searchParams = window.location.search.split(\"=\");\n    let searchParamKey = searchParams.length > 0 ? searchParams[0] : \"\";\n    let searchParamValue = searchParams.length > 0 ? searchParams[1] : \"\";\n    switch (searchParamKey) {\n      case \"?zcode\":\n        await self.getZoneDetails(searchParamKey, searchParamValue);\n        break;\n      case \"?gateid\":\n        //await self.getZoneDetails(searchParamKey, searchParamValue);\n        break;\n    }\n    // this.checkCompatibility();\n  },\n  destroyed() { },\n  // beforeRouteEnter(to, from, next) {\n  //   next(async (vm) => {\n  // },\n  methods: {\n    onContactInput(contactDetails) {\n      this.isContactValid = contactDetails?.isValid;\n      this.contactObj = Object.assign({}, contactDetails);\n    },\n    setReenterPlateFlag() {\n      this.licencePlate = this.selectedPlate || \"\";\n      this.reEnterPlate = true;\n      this.confirmCreateSessionDialog = false;\n    },\n    uppercase() {\n      this.licencePlate = this.licencePlate.toUpperCase();\n    },\n    /**\n     * @method getZoneDetails fetch the zone details and commit SET_ZONE_DETAILS mutation.\n     */\n    async getZoneDetails(searchParamKey, searchParamValue) {\n      try {\n        var zoneDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/user/config\" + searchParamKey + \"=\" + searchParamValue\n        );\n        this.$store.commit(\"SET_ZONE_DETAILS\", zoneDetails.data?.zone);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    /**\n     * @method createSession Fetch booking id on add booking and fetch the booking info.\n     */\n    async createSession() {\n      this.addLicencePlateBtnLoading = true;\n      let postObj = {\n        contact: this.contactObj?.formattedNumber,\n        uniqueID: this.contactObj?.nationalNumber,\n        vehicleNo: this.licencePlate.toUpperCase(),\n        locationCode: this.zoneDetails.zcode,\n        zid: this.zoneDetails.zid,\n        entrytime: format(\n          new Date(new Date().toLocaleString(\"en-US\", {\n            timeZone: this.zoneDetails.timezone,\n          })),\n          \"yyyy-MM-dd HH:mm:ss\"\n        ),\n        source: \"appclip\",\n        webView: \"1\",\n        type: \"2\",\n        state: 2,\n        payment_status: 0,\n        txnID_addCC: 0,\n      };\n      if (this.reEnterPlate) {\n        Object.assign(postObj, { createNewSession: 1 });\n      }\n      try {\n        var session = await APIHelper(\"POST\", \"/api/v1/addBooking\", postObj);\n        let bid = session?.data?.refno;\n        if (session.data.status === false) {\n          this.errMsg = session?.data?.message ? session.data.message : \"\";\n          if (\n            session?.data?.showCreateNewSessionPopup &&\n            session.data.showCreateNewSessionPopup == 1\n          ) {\n            if (session?.data?.data && session.data.data.length > 0) {\n              this.duplicatePlates = session.data.data;\n            }\n            this.postToLoggerAPI({\n              phone: this.contactObj?.nationalNumber,\n              plate: this.licencePlate.toUpperCase(),\n              statusText: \"Parker session not found in the system.\",\n            });\n            this.confirmCreateSessionDialog = true;\n            this.addLicencePlateBtnLoading = false;\n            return;\n          }\n          this.errDialog = true;\n          this.addLicencePlateBtnLoading = false;\n          return;\n        }\n        await this.getBookingDetails(bid);\n        let url = window.location.origin + \"/g/\" + bid;\n        this.addLicencePlateBtnLoading = false;\n        this.reEnterPlate\n          ? this.postToLoggerAPI({\n            phone: this.contactObj?.nationalNumber,\n            refId: bid,\n            icon: \"login\",\n            plate: this.licencePlate.toUpperCase(),\n            statusText:\n              \"Parker plate/contact number not found in the system. Parker created a new session using generic payment QR\",\n          })\n          : this.postToLoggerAPI({\n            phone: this.contactObj?.nationalNumber,\n            refId: bid,\n            icon: \"login\",\n            plate: this.licencePlate.toUpperCase(),\n            statusText:\n              \"Parker session found. Parker opened his/her session using generic payment QR\",\n          });\n\n        window.location.replace(url);\n      } catch (error) {\n        this.addLicencePlateBtnLoading = false;\n        console.log(error);\n      }\n    },\n    /**\n     * @method getBookingDetails fetch the booking details and commit SET_BOOKING_DETAILS mutation.\n     */\n    async getBookingDetails(bookingId) {\n      try {\n        var bookingDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/booking/config/\" + bookingId\n        );\n        this.$store.commit(\n          \"SET_BOOKING_DETAILS\",\n          bookingDetails.data?.data ? bookingDetails.data.data : null\n        );\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    closeConfirmCreateSessionDialog() {\n      this.confirmCreateSessionDialog = false;\n      this.addLicencePlateBtnLoading = false;\n    },\n  },\n};\n</script>\n<style lang=\"less\">\n.booking_header {\n  position: absolute;\n  bottom: 30px;\n  left: 16px;\n  font-size: 18px;\n  font-weight: bolder;\n}\n\n.add_licence_plate_btn {\n  width: 100%;\n  background-color: #f2555c !important;\n  font-size: 18px !important;\n  font-weight: 700 !important;\n  letter-spacing: normal !important;\n  height: 50px !important;\n}\n\n.information {\n  background-color: #edf1f4;\n}\n\n.country-selector.md.has-value .country-selector__input {\n  border: none;\n  border-bottom: 1px solid rgb(118, 118, 118);\n}\n\n.input-tel.md .input-tel__input {\n  border: none;\n  border-bottom: 1px solid rgb(118, 118, 118);\n  margin-left: 2px;\n}\n\n.input-tel.is-focused.has-error .input-tel__input {\n  box-shadow: none !important;\n}\n\n.input-tel.is-focused.is-valid .input-tel__input {\n  box-shadow: none !important;\n}\n</style>\n"]}]}