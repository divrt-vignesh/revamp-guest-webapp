{"remainingRequest":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/guest-webapp/src/views/Create.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vignesh/DIVRT/guest-webapp/src/views/Create.vue","mtime":1681899235374},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCi8vIGltcG9ydCBWdWUgZnJvbSAidnVlIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyBhZGRNaW51dGVzIH0gZnJvbSAiZGF0ZS1mbnMiOwppbXBvcnQgeyBmb3JtYXQgfSBmcm9tICJkYXRlLWZucyI7CmltcG9ydCB7IGRhdGVUb1RpbWVab25lRGF0ZSB9IGZyb20gIkAvdXRpbHMvZm9ybWF0RGF0ZVRpbWUiOwovLyBpbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgQVBJSGVscGVyIGZyb20gIi4uL2FwaUhlbHBlciI7CmltcG9ydCBWdWVQaG9uZU51bWJlcklucHV0IGZyb20gInZ1ZS1waG9uZS1udW1iZXItaW5wdXQiOwppbXBvcnQgInZ1ZS1waG9uZS1udW1iZXItaW5wdXQvZGlzdC92dWUtcGhvbmUtbnVtYmVyLWlucHV0LmNzcyI7Ci8vIGltcG9ydCBtb21lbnQgZnJvbSAibW9tZW50IjsKLy8gVnVlLnVzZShtb21lbnQpOwppbXBvcnQgcnVsZXMgZnJvbSAiQC91dGlscy9ydWxlcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgLy8gaXNQUVJFbmRSZXNlcnZhdGlvbjogdHJ1ZSwKICAgIGVkdFBob25lSW5wdXQ6IGZhbHNlLAogICAgY29udGFjdERpc2FibGVkOiBmYWxzZSwKICAgIHNlbGVjdGVkUGxhdGU6ICIiLAogICAgcmVFbnRlclBsYXRlOiBmYWxzZSwKICAgIGVkdEJpZDogbnVsbCwKICAgIGNvbmZpcm1DcmVhdGVTZXNzaW9uRGlhbG9nOiBmYWxzZSwKICAgIGFkZExpY2VuY2VQbGF0ZUJ0bkxvYWRpbmc6IGZhbHNlLAogICAgZXJyRGlhbG9nOiBmYWxzZSwKICAgIGVyck1zZzogIiIsCiAgICBhbGVydERpYWxvZzogZmFsc2UsCiAgICBhbGVydE1zZzogIiIsCiAgICBzdG9wVGltZTogIiIsCiAgICBleGl0VGltZVNlbGVjdGVkOiB7fSwKICAgIHRpbWVQaWNrZXJIclJhbmdlOiBudWxsLAogICAgdGltZUV4Y2VlZGVkOiBmYWxzZSwKICAgIHRpbWVQaWNrZXJNaW5SYW5nZTogbnVsbCwKICAgIG1pbkRhdGU6IG51bGwsCiAgICBtYXhEYXRlOiBudWxsLAogICAgZGlzYWJsZUFkZFBheW1lbnRCdG46IGZhbHNlLAogICAgbWF4RGF0ZVRpbWU6IG51bGwsCiAgICBnZXRSYXRlQ2FsbDogZmFsc2UsCiAgICBnZXRSYXRlVGV4dDogIiIsCiAgICBUaW1lbWVudTogZmFsc2UsCiAgICBzdGFydERhdGU6ICIiLAogICAgZXN0aW1hdGU6IG51bGwsCiAgICBEYXRlbWVudTogZmFsc2UsCiAgICBleGl0RGF0ZTogbnVsbCwKICAgIGRhdGVGb3JtYXR0ZWQ6IG51bGwsCiAgICBydWxlczogcnVsZXMsCiAgICBpc0NvbnRhY3RWYWxpZDogdHJ1ZSwKICAgIGxpY2VuY2VQbGF0ZTogIiIsCiAgICBjb250YWN0T2JqOiB7fSwKICAgIGxvYWRpbmc6IGZhbHNlLAogICAgY29udGFjdE9wdGlvbnM6IHsKICAgICAgY29sb3I6ICIjMDI4OEQxIiwKICAgICAgdmFsaWRDb2xvcjogIiMwMjg4RDEiLAogICAgICBjb250YWN0Qm9yZGVyUmFkaXVzOiAwLAogICAgICBlcnJvckNvbG9yOiAiI0ZGNTI1MiIsCiAgICAgIGRlZmF1bHRDb3VudHJ5OiAiVVMiLAogICAgICB0cmFuc2xhdGlvbnM6IHsKICAgICAgICBwaG9uZU51bWJlckxhYmVsOiAiQ29udGFjdCBObyIsCiAgICAgIH0sCiAgICB9LAogICAgYWRkUGF5bWVudEJ0bkxvYWRpbmc6IGZhbHNlLAogIH0pLAogIGNvbXBvbmVudHM6IHsKICAgIFZ1ZVBob25lTnVtYmVySW5wdXQsCiAgfSwKICBiZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgICBuZXh0KGFzeW5jICh2bSkgPT4gewogICAgICBsZXQgc2VhcmNoUGFyYW1zID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaC5zcGxpdCgiPSIpOwogICAgICBsZXQgc2VhcmNoUGFyYW1LZXkgPSBzZWFyY2hQYXJhbXMubGVuZ3RoID4gMCA/IHNlYXJjaFBhcmFtc1swXSA6ICIiOwogICAgICBsZXQgc2VhcmNoUGFyYW1WYWx1ZSA9IHNlYXJjaFBhcmFtcy5sZW5ndGggPiAwID8gc2VhcmNoUGFyYW1zWzFdIDogIiI7CiAgICAgIHN3aXRjaCAoc2VhcmNoUGFyYW1LZXkpIHsKICAgICAgICBjYXNlICI/emNvZGUiOgogICAgICAgICAgYXdhaXQgdm0uZ2V0Wm9uZURldGFpbHMoc2VhcmNoUGFyYW1LZXksIHNlYXJjaFBhcmFtVmFsdWUpOwogICAgICAgICAgaWYgKHZtLmlzUFFSRW5kUmVzZXJ2YXRpb24pIHsKICAgICAgICAgICAgYXdhaXQgdm0uZ2V0T25EZW1hbmRab25lRGV0YWlscyhzZWFyY2hQYXJhbVZhbHVlKTsKICAgICAgICAgICAgdm0uc2V0RGVmYXVsdERhdGUoKTsKICAgICAgICAgIH0KICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIj9nYXRlaWQiOgogICAgICAgICAgLy9hd2FpdCBzZWxmLmdldFpvbmVEZXRhaWxzKHNlYXJjaFBhcmFtS2V5LCBzZWFyY2hQYXJhbVZhbHVlKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGlmICh2bS5pc1BRUkVuZFJlc2VydmF0aW9uKSB7CiAgICAgICAgdm0uY29udGFjdE9iaiA9CiAgICAgICAgICB2bS5jYXNpbm9EZXRhaWxzICE9IG51bGwgJiYKICAgICAgICAgICAgT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwodm0uY2FzaW5vRGV0YWlscywgInVzZXJEZXRhaWwiKSAmJgogICAgICAgICAgICBPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh2bS5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsLCAiY29udGFjdCIpICYmCiAgICAgICAgICAgIHZtLmNhc2lub0RldGFpbHM/LnVzZXJEZXRhaWw/LmNvbnRhY3QgIT0gdW5kZWZpbmVkICYmCiAgICAgICAgICAgIHZtLmNhc2lub0RldGFpbHM/LnVzZXJEZXRhaWw/LmNvbnRhY3QgIT0gbnVsbAogICAgICAgICAgICA/IE9iamVjdC5hc3NpZ24odm0uY29udGFjdE9iaiwgewogICAgICAgICAgICAgIGNvdW50cnlDb2RlOgogICAgICAgICAgICAgICAgdm0uY2FzaW5vRGV0YWlscz8udXNlckRldGFpbD8uY29udGFjdC5zbGljZSgwLCAtMTApID09ICIrOTEiCiAgICAgICAgICAgICAgICAgID8gIklOIgogICAgICAgICAgICAgICAgICA6IHZtLmNhc2lub0RldGFpbHM/LnVzZXJEZXRhaWw/LmNvbnRhY3Quc2xpY2UoMCwgLTEwKSA9PQogICAgICAgICAgICAgICAgICAgICIrMSIKICAgICAgICAgICAgICAgICAgICA/ICJVUyIKICAgICAgICAgICAgICAgICAgICA6ICIiLAogICAgICAgICAgICAgIHBob25lTnVtYmVyOiB2bS5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsPy5jb250YWN0LAogICAgICAgICAgICAgIGZvcm1hdHRlZE51bWJlcjogIisiICsgdm0uY2FzaW5vRGV0YWlscy51c2VyRGV0YWlsLmNvbnRhY3QsCiAgICAgICAgICAgIH0pCiAgICAgICAgICAgIDoge307CiAgICAgICAgdm0ubGljZW5jZVBsYXRlID0gdm0uY2FzaW5vRGV0YWlscz8udXNlckRldGFpbC5wbGF0ZQogICAgICAgICAgPyB2bS5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsLnBsYXRlCiAgICAgICAgICA6ICIiOwogICAgICAgIGlmICh3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcygnYmlkJykpIHsKICAgICAgICAgIGxldCBocmVmUGFyYW1zID0gd2luZG93LmxvY2F0aW9uLmhyZWYuc3BsaXQoJ2NyZWF0ZXNlc3Npb24nKTsKICAgICAgICAgIGxldCBwYXJhbUFycmF5ID0gaHJlZlBhcmFtc1sxXS5zcGxpdCgnJicpCiAgICAgICAgICBsZXQgcGhvbmVQYXJhbSA9IHBhcmFtQXJyYXlbMF0uc3BsaXQoJz0nKVsxXTsKICAgICAgICAgIGxldCBiaWRQYXJhbSA9IHBhcmFtQXJyYXlbMV0uc3BsaXQoJz0nKVsxXTsKICAgICAgICAgIGxldCBwbGF0ZVBhcmFtID0gcGFyYW1BcnJheVsyXS5zcGxpdCgnPScpWzFdOwogICAgICAgICAgLy8gdm0uY29udGFjdE9iai5waG9uZU51bWJlciA9IHBob25lUGFyYW07CiAgICAgICAgICB2bS5saWNlbmNlUGxhdGUgPSBwbGF0ZVBhcmFtOwogICAgICAgICAgdm0uZWR0QmlkID0gYmlkUGFyYW07CiAgICAgICAgICBsZXQgZ3Vlc3RDb250YWN0ID0gcGhvbmVQYXJhbSA/IHsKICAgICAgICAgICAgY291bnRyeUNvZGU6CiAgICAgICAgICAgICAgcGhvbmVQYXJhbS5zbGljZSgwLCAtMTApID09ICI5MSIKICAgICAgICAgICAgICAgID8gIklOIgogICAgICAgICAgICAgICAgOiBwaG9uZVBhcmFtLnNsaWNlKDAsIC0xMCkgPT0gIjEiCiAgICAgICAgICAgICAgICAgID8gIlVTIgogICAgICAgICAgICAgICAgICA6ICIiLAogICAgICAgICAgICBwaG9uZU51bWJlcjogcGhvbmVQYXJhbSwKICAgICAgICAgICAgZm9ybWF0dGVkTnVtYmVyOiAiKyIgKyBwaG9uZVBhcmFtLAogICAgICAgICAgfSA6IHZtLmNvbnRhY3RPYmo7CiAgICAgICAgICBpZiAocGhvbmVQYXJhbSAhPT0gIiIgJiYgcGhvbmVQYXJhbSAhPT0gbnVsbCAmJiBwaG9uZVBhcmFtICE9IHVuZGVmaW5lZCkgewogICAgICAgICAgICB2bS5lZHRQaG9uZUlucHV0ID0gdHJ1ZTsKICAgICAgICAgICAgdm0uY29udGFjdE9iaiA9IE9iamVjdC5hc3NpZ24oe30sIGd1ZXN0Q29udGFjdCk7CiAgICAgICAgICAgIHZtLmNvbnRhY3REaXNhYmxlZCA9IHRydWU7CiAgICAgICAgICAgIHZtLmNvbnRhY3RPYmouaXNWYWxpZCA9IHRydWU7CiAgICAgICAgICB9CgogICAgICAgICAgbGV0IGNvbW1pdERhdGEgPSB7CiAgICAgICAgICAgIHBsYXRlOiB2bS5saWNlbmNlUGxhdGUsCiAgICAgICAgICAgIGNvbnRhY3Q6IHZtLmNvbnRhY3RPYmo/LmZvcm1hdHRlZE51bWJlciwKICAgICAgICAgICAgYmlkOiB2bS5lZHRCaWQKICAgICAgICAgIH0KICAgICAgICAgIHZtLiRzdG9yZS5jb21taXQoIlNFVF9DQVNJTk9fVVNFUkRFVEFJTFMiLCBjb21taXREYXRhKTsKICAgICAgICAgIHZtLiRzdG9yZS5jb21taXQoIlNFVF9URU1QTEFURV9GTEFHUyIsICdhdGxhbnRpYy1mbGFnJyk7CgogICAgICAgIH0KICAgICAgfQogICAgICBlbHNlIHsKICAgICAgICB2bS5lZHRQaG9uZUlucHV0ID0gZmFsc2U7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgd2F0Y2g6IHsKICAgIGV4aXREYXRlKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGxldCBkYXRlID0gZm9ybWF0KGFkZE1pbnV0ZXMobmV3IERhdGUodGhpcy5leGl0RGF0ZSksIDE1KSwgInl5eXktTU0tZGQiKTsKICAgICAgdGhpcy5kYXRlRm9ybWF0dGVkID0gdGhpcy5mb3JtYXREYXRlKGRhdGUpOwogICAgICBpZiAoCiAgICAgICAgb2xkVmFsICE9IG5ld1ZhbCAmJgogICAgICAgIHRoaXMuZXhpdERhdGUgPT0KICAgICAgICBmb3JtYXQoCiAgICAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAgICAgICAgIGFkZE1pbnV0ZXMobmV3IERhdGUoKSwgMTUpLAogICAgICAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgICAgICAgICksCiAgICAgICAgICAieXl5eS1NTS1kZCIKICAgICAgICApCiAgICAgICkgewogICAgICAgIHRoaXMuZ2V0UmF0ZUNhbGwgPSB0cnVlOwogICAgICAgIHRoaXMuc2V0RGVmYXVsdERhdGUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmdldFJhdGVDYWxsID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICAvLyBleGl0VGltZVNlbGVjdGVkKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAvLyAgIGlmIChvbGRWYWwgIT0gbnVsbCAmJiBuZXdWYWwgIT0gbnVsbCAmJiBvbGRWYWw/LmEgIT0gbmV3VmFsPy5hKSB7CiAgICAvLyAgICAgdGhpcy5leGl0VGltZVNlbGVjdGVkID0gT2JqZWN0LmFzc2lnbih0aGlzLmV4aXRUaW1lU2VsZWN0ZWQsIHsKICAgIC8vICAgICAgIGhoOiAiIiwKICAgIC8vICAgICAgIG1tOiAiIiwKICAgIC8vICAgICB9KTsKICAgIC8vICAgfQogICAgLy8gICBpZiAob2xkVmFsICE9IG51bGwgJiYgbmV3VmFsICE9IG51bGwgJiYgb2xkVmFsPy5oaCAhPSBuZXdWYWw/LmhoKSB7CiAgICAvLyAgICAgdGhpcy5leGl0VGltZVNlbGVjdGVkID0gT2JqZWN0LmFzc2lnbih0aGlzLmV4aXRUaW1lU2VsZWN0ZWQsIHsKICAgIC8vICAgICAgIG1tOiAiIiwKICAgIC8vICAgICB9KTsKICAgIC8vICAgfQoKICAgIC8vICAgdGhpcy5zZXRUaW1lUGlja2VyKG5ld1ZhbCk7CiAgICAvLyB9LAogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICBjYXNpbm9EZXRhaWxzOiAiZ2V0dGVyQ2FzaW5vRGV0YWlscyIsCiAgICAgIHpvbmVEZXRhaWxzOiAiZ2V0dGVyWm9uZURldGFpbHMiLAogICAgICBvbkRlbWFuZFpvbmVEZXRhaWxzOiAiZ2V0dGVyT25EZW1hbmRab25lRGV0YWlscyIsCiAgICAgIHRlbXBsYXRlRmxhZ3M6ICJnZXR0ZXJUZW1wbGF0ZUZsYWdzIiwKICAgICAgaXNQUVJFbmRSZXNlcnZhdGlvbjogImdldHRlclpvbmVJc1BRUkVuZFJlc2VydmF0aW9uIiwKICAgIH0pLAogICAgaW5mb0ZsYWcoKSB7CiAgICAgIHJldHVybiB0aGlzLmNvbnRhY3RPYmogPT0gbnVsbCB8fAogICAgICAgICF0aGlzLmNvbnRhY3RPYmouaXNWYWxpZCB8fAogICAgICAgIHRoaXMuY29udGFjdE9iai5waG9uZU51bWJlciA9PSAiIiB8fAogICAgICAgIHRoaXMuY29udGFjdE9iai5waG9uZU51bWJlciA9PSBudWxsIHx8CiAgICAgICAgdGhpcy5saWNlbmNlUGxhdGUgPT09ICIiIHx8CiAgICAgICAgdGhpcy5saWNlbmNlUGxhdGUgPT09IG51bGwKICAgICAgICA/IGZhbHNlCiAgICAgICAgOiB0cnVlOwogICAgfSwKICAgIHRpbWVGbGFnKCkgewogICAgICByZXR1cm4gdGhpcy5leGl0RGF0ZSA9PT0gbnVsbCB8fAogICAgICAgIHRoaXMuZGlzYWJsZUFkZFBheW1lbnRCdG4gfHwKICAgICAgICB0aGlzLmVzdGltYXRlID09PSBudWxsIHx8CiAgICAgICAgdGhpcy5lc3RpbWF0ZSA9PT0gIiIgfHwKICAgICAgICB0aGlzLmV4aXREYXRlID09PSAiIgogICAgICAgID8gZmFsc2UKICAgICAgICA6IHRydWU7CiAgICB9LAogICAgcGF5bWVudEZsYWcoKSB7CiAgICAgIHJldHVybiB0aGlzLmVzdGltYXRlID09PSBudWxsIHx8CiAgICAgICAgdGhpcy5lc3RpbWF0ZSA9PT0gIiIgfHwKICAgICAgICB0aGlzLmVzdGltYXRlLmhhc093blByb3BlcnR5LmNhbGwoImdyYW5kVG90YWwiKSB8fAogICAgICAgIHRoaXMuZXN0aW1hdGUuaGFzT3duUHJvcGVydHkuY2FsbCgidG90YWxQcmljZSIpIHx8CiAgICAgICAgdGhpcy5lc3RpbWF0ZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCJ0b3RhbEZlZSIpIHx8CiAgICAgICAgdGhpcy5lc3RpbWF0ZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKCJ0b3RhbFRheCIpCiAgICAgICAgPyBmYWxzZQogICAgICAgIDogdHJ1ZTsKICAgIH0sCiAgICBjb21wdXRlZERhdGVGb3JtYXR0ZWQoKSB7CiAgICAgIHJldHVybiB0aGlzLmZvcm1hdERhdGUodGhpcy5leGl0RGF0ZSk7CiAgICB9LAogICAgZGlzYWJsZVN1Ym1pdEJ0bigpIHsKICAgICAgbGV0IGRpc2FibGVkID0KICAgICAgICB0aGlzLmNvbnRhY3RPYmogPT0gbnVsbCB8fAogICAgICAgICF0aGlzLmNvbnRhY3RPYmouaXNWYWxpZCB8fAogICAgICAgIHRoaXMuY29udGFjdE9iai5waG9uZU51bWJlciA9PSAiIiB8fAogICAgICAgIHRoaXMuY29udGFjdE9iai5waG9uZU51bWJlciA9PSBudWxsIHx8CiAgICAgICAgdGhpcy5saWNlbmNlUGxhdGUgPT09ICIiIHx8CiAgICAgICAgdGhpcy5saWNlbmNlUGxhdGUgPT09IG51bGwgfHwKICAgICAgICB0aGlzLmV4aXREYXRlID09PSBudWxsIHx8CiAgICAgICAgdGhpcy5kaXNhYmxlQWRkUGF5bWVudEJ0biB8fAogICAgICAgIHRoaXMuZXN0aW1hdGUgPT09IG51bGwgfHwKICAgICAgICB0aGlzLmVzdGltYXRlID09PSAiIjsKICAgICAgdGhpcy5leGl0RGF0ZSA9PT0gIiI7CiAgICAgIGRpc2FibGVkID0KICAgICAgICB0aGlzLmxpY2VuY2VQbGF0ZSAhPSAiIiAmJiB0aGlzLmxpY2VuY2VQbGF0ZSAhPSBudWxsCiAgICAgICAgICA/IGRpc2FibGVkIHx8IC9eW2EtejAtOV0rJC9pLnRlc3QodGhpcy5saWNlbmNlUGxhdGUpID09PSBmYWxzZQogICAgICAgICAgOiBkaXNhYmxlZDsKICAgICAgcmV0dXJuIGRpc2FibGVkOwogICAgfSwKICAgIGRpc2FibGVBZGRMaWNlbmNlUGxhdGVCdG4oKSB7CiAgICAgIGlmICh0aGlzLnpvbmVEZXRhaWxzLmxwcl9zdGF0dXMgPT0gIjAiKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaXNDb250YWN0VmFsaWQgPT0gZmFsc2UgPyB0cnVlIDogZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRoaXMuaXNDb250YWN0VmFsaWQgPT0gZmFsc2UgfHwKICAgICAgICAgIHRoaXMubGljZW5jZVBsYXRlID09ICIiIHx8CiAgICAgICAgICB0aGlzLmxpY2VuY2VQbGF0ZSA9PSBudWxsIHx8CiAgICAgICAgICAvXlthLXowLTldKyQvaS50ZXN0KHRoaXMubGljZW5jZVBsYXRlKSA9PT0gZmFsc2UKICAgICAgICAgID8gdHJ1ZQogICAgICAgICAgOiBmYWxzZTsKICAgICAgfQogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNldERlZmF1bHREYXRlKCk7CiAgICAvLyB0aGlzLnNldFRpbWVQaWNrZXIoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJlbG9hZEJvb2tpbmcoKSB7CiAgICAgIGxldCB1cmwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgIi9nLyIgKyB0aGlzLmNhc2lub0RldGFpbHMudXNlckRldGFpbC5iaWQ7CiAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKHVybCk7CiAgICB9LAogICAgc2V0RGVmYXVsdERhdGUoKSB7CiAgICAgIHRoaXMuZXhpdERhdGUgPSB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgICAgICA/IGZvcm1hdCgKICAgICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZSgKICAgICAgICAgICAgYWRkTWludXRlcyhuZXcgRGF0ZSgpLCAxNSksCiAgICAgICAgICAgIHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZQogICAgICAgICAgKSwKICAgICAgICAgICJ5eXl5LU1NLWRkIgogICAgICAgICkKICAgICAgICA6IGZvcm1hdChhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwgInl5eXktTU0tZGQiKTsKICAgICAgdGhpcy5kYXRlRm9ybWF0dGVkID0gdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAgICAgPyBmb3JtYXQoCiAgICAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAgICAgICAgIGFkZE1pbnV0ZXMobmV3IERhdGUoKSwgMTUpLAogICAgICAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgICAgICAgICksCiAgICAgICAgICAiTU0vZGQveXl5eSIKICAgICAgICApCiAgICAgICAgOiBmb3JtYXQoYWRkTWludXRlcyhuZXcgRGF0ZSgpLCAxNSksICJNTS9kZC95eXl5Iik7CiAgICAgIHRoaXMuZGF0ZVRpbWVDaGFuZ2UoKTsKICAgIH0sCiAgICBvblRpbWVQaWNrZXJDaGFuZ2UoZXZlbnQpIHsKICAgICAgdGhpcy5zdG9wVGltZSA9CiAgICAgICAgZXZlbnQuZGF0YS5ISCAhPSAiIiAmJiBldmVudC5kYXRhLm1tICE9ICIiICYmIGV2ZW50LmRhdGEuQSAhPSAiIgogICAgICAgICAgPyBldmVudC5kYXRhLkhIICsgIjoiICsgZXZlbnQuZGF0YS5tbSArICI6MDAiCiAgICAgICAgICA6ICIiOwogICAgICBsZXQgY3VycmVuVGltZSA9IHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZQogICAgICAgID8gZm9ybWF0KAogICAgICAgICAgZGF0ZVRvVGltZVpvbmVEYXRlKG5ldyBEYXRlKCksIHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZSksCiAgICAgICAgICAieXl5eS1NTS1kZCBISDptbTpzcyIKICAgICAgICApCiAgICAgICAgOiBmb3JtYXQobmV3IERhdGUoKSwgInl5eXktTU0tZGQgIEhIOm1tOnNzIik7CiAgICAgIGlmICgKICAgICAgICBldmVudC5kYXRhLkhIICE9ICJoaCIgJiYKICAgICAgICBldmVudC5kYXRhLm1tICE9ICJtbSIgJiYKICAgICAgICB0aGlzLnN0b3BUaW1lICE9ICIiICYmCiAgICAgICAgbmV3IERhdGUodGhpcy5leGl0RGF0ZSArICIgIiArIHRoaXMuc3RvcFRpbWUpLmdldFRpbWUoKSA+CiAgICAgICAgbmV3IERhdGUoY3VycmVuVGltZSkuZ2V0VGltZSgpCiAgICAgICkgewogICAgICAgIHRoaXMuZGF0ZVRpbWVDaGFuZ2UoKTsKICAgICAgfQogICAgfSwKICAgIHNldERhdGVQaWNrZXIoKSB7CiAgICAgIC8vc2V0IHRoZSBtaW5pbXVtIGRhdGUgdG8gdG9kYXkgZGF0ZSh6b25lIHRpbWUgem9uZSBkYXRlKQogICAgICB0aGlzLm1pbkRhdGUgPSB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgICAgICA/IGZvcm1hdCgKICAgICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZSgKICAgICAgICAgICAgYWRkTWludXRlcyhuZXcgRGF0ZSgpLCAxNSksCiAgICAgICAgICAgIHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZQogICAgICAgICAgKSwKICAgICAgICAgICJ5eXl5LU1NLWRkIgogICAgICAgICkKICAgICAgICA6IGZvcm1hdChhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwgInl5eXktTU0tZGQiKTsKICAgICAgLy9jYWxjdWxhdGUgbWF4IHBhcmtpZ24gdGltZSBpbiBzZWNvbmRzCiAgICAgIGxldCBtYXhQYXJraW5nVGltZSA9CiAgICAgICAgdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzICE9IG51bGwKICAgICAgICAgID8gTnVtYmVyKHRoaXMub25EZW1hbmRab25lRGV0YWlscy5tYXhQYXJraW5nVGltZS5kYXlzKSAqCiAgICAgICAgICAyNCAqCiAgICAgICAgICA2MCAqCiAgICAgICAgICA2MCArCiAgICAgICAgICBOdW1iZXIodGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLm1heFBhcmtpbmdUaW1lLmhvdXJzKSAqIDYwICogNjAgKwogICAgICAgICAgTnVtYmVyKHRoaXMub25EZW1hbmRab25lRGV0YWlscy5tYXhQYXJraW5nVGltZS5taW51dGVzKSAqIDYwCiAgICAgICAgICA6IG51bGw7CiAgICAgIGxldCBjdXJyZW50RGF0ZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKCiAgICAgIC8vZ2V0IG1heCBkYXRlIGluIHNlY29uZHMgYmFzZWQgb24gbWF4IHBhcmtpbmcgdGltZQogICAgICBsZXQgbWF4Wm9uZURhdGUgPQogICAgICAgIG1heFBhcmtpbmdUaW1lICE9IG51bGwgPyBjdXJyZW50RGF0ZVRpbWUgKyBtYXhQYXJraW5nVGltZSAqIDEwMDAgOiBudWxsOwogICAgICB0aGlzLm1heERhdGUgPSB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgICAgICA/IGZvcm1hdCgKICAgICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZSgKICAgICAgICAgICAgbmV3IERhdGUobWF4Wm9uZURhdGUpLAogICAgICAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgICAgICAgICksCiAgICAgICAgICAieXl5eS1NTS1kZCIKICAgICAgICApCiAgICAgICAgOiBmb3JtYXQobmV3IERhdGUoKSwgInl5eXktTU0tZGQiKTsKICAgICAgdGhpcy5leGl0RGF0ZSA9IHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZQogICAgICAgID8gZm9ybWF0KAogICAgICAgICAgZGF0ZVRvVGltZVpvbmVEYXRlKAogICAgICAgICAgICBhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwKICAgICAgICAgICAgdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAgICAgICApLAogICAgICAgICAgInl5eXktTU0tZGQiCiAgICAgICAgKQogICAgICAgIDogZm9ybWF0KGFkZE1pbnV0ZXMobmV3IERhdGUoKSwgMTUpLCAieXl5eS1NTS1kZCIpOwogICAgICAvL2dldCBtYXggZGF0ZSB3aXRoIHRpbWUgYW5kIHNldCBpdCB0byBtYXhEYXRlVGltZQogICAgICB0aGlzLm1heERhdGVUaW1lID0gdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAgICAgPyBmb3JtYXQoCiAgICAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAgICAgICAgIG5ldyBEYXRlKG1heFpvbmVEYXRlKSwKICAgICAgICAgICAgdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAgICAgICApLAogICAgICAgICAgInl5eXktTU0tZGQgaGg6bW0gYWFhYWEiCiAgICAgICAgKQogICAgICAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJ5eXl5LU1NLWRkIGhoOm1tIGFhYWFhIik7CiAgICB9LAogICAgLy8gc2V0VGltZVBpY2tlcih2YWwpIHsKICAgIC8vICAgLy8gbGV0IGN1cnJlbnRUaW1lTWVyaWRpYW4gPSB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgIC8vICAgLy8gICA/IGZvcm1hdCgKICAgIC8vICAgLy8gICAgICAgZGF0ZVRvVGltZVpvbmVEYXRlKAogICAgLy8gICAvLyAgICAgICAgIGFkZE1pbnV0ZXMobmV3IERhdGUoKSwgMTUpLAogICAgLy8gICAvLyAgICAgICAgIHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZQogICAgLy8gICAvLyAgICAgICApLAogICAgLy8gICAvLyAgICAgICAiYWFhIgogICAgLy8gICAvLyAgICAgKQogICAgLy8gICAvLyAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJhYWEiKTsKICAgIC8vICAgLy8gbGV0IGN1cnJlbnRIciA9IHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZQogICAgLy8gICAvLyAgID8gZm9ybWF0KAogICAgLy8gICAvLyAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAvLyAgIC8vICAgICAgICAgYWRkTWludXRlcyhuZXcgRGF0ZSgpLCAxNSksCiAgICAvLyAgIC8vICAgICAgICAgdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAvLyAgIC8vICAgICAgICksCiAgICAvLyAgIC8vICAgICAgICJoIgogICAgLy8gICAvLyAgICAgKQogICAgLy8gICAvLyAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJoIik7CiAgICAvLyAgIC8vIGNvbnNvbGUubG9nKGN1cnJlbnRIcikKCiAgICAvLyAgIC8vZ2V0IHRoZSB0b2RheXMgY3VycmVudCB6b25lIHRpbWUKICAgIC8vICAgbGV0IGN1cnJlbnRUaW1lID0gdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAvLyAgICAgPyBmb3JtYXQoCiAgICAvLyAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAvLyAgICAgICAgIGFkZE1pbnV0ZXMobmV3IERhdGUoKSwgMTUpLAogICAgLy8gICAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgIC8vICAgICAgICksCiAgICAvLyAgICAgICAiaGFhYWFhIgogICAgLy8gICAgICkKICAgIC8vICAgICA6IGZvcm1hdChhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwgImhhYWFhYSIpOwogICAgLy8gICAvL3NldCB0aGUgaHIgcmFuZ2UKICAgIC8vICAgaWYgKAogICAgLy8gICAgIHRoaXMuZXhpdERhdGUgPT0KICAgIC8vICAgICBmb3JtYXQoCiAgICAvLyAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAvLyAgICAgICAgIGFkZE1pbnV0ZXMobmV3IERhdGUoKSwgMTUpLAogICAgLy8gICAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgIC8vICAgICAgICksCiAgICAvLyAgICAgICAieXl5eS1NTS1kZCIKICAgIC8vICAgICApCiAgICAvLyAgICkgewogICAgLy8gICAgIHRoaXMudGltZVBpY2tlckhyUmFuZ2UgPSBbCiAgICAvLyAgICAgICBbY3VycmVudFRpbWUgPT0gIjEyYSIgPyAiMGEiIDogY3VycmVudFRpbWUsICIxMXAiXSwKICAgIC8vICAgICBdOwogICAgLy8gICB9CiAgICAvLyAgIC8vIGlmIG1heGRhdGUgPT0gZXhpdCBkYXRlCiAgICAvLyAgIGVsc2UgaWYgKAogICAgLy8gICAgIHRoaXMubWF4RGF0ZVRpbWUgIT0gbnVsbCAmJgogICAgLy8gICAgIHRoaXMubWF4RGF0ZVRpbWUuc3BsaXQoIiAiKVswXSA9PSB0aGlzLmV4aXREYXRlCiAgICAvLyAgICkgewogICAgLy8gICAgIGxldCB0aW1lID0gdGhpcy5tYXhEYXRlVGltZS5zcGxpdCgiICIpWzFdOwogICAgLy8gICAgIGxldCBociA9IHRpbWUuc3BsaXQoIjoiKVswXSArIHRoaXMubWF4RGF0ZVRpbWUuc3BsaXQoIiAiKVsyXTsKICAgIC8vICAgICBociA9PSAiMTJhIgogICAgLy8gICAgICAgPyAiMGEiCiAgICAvLyAgICAgICA6IHRpbWUuc3BsaXQoIjoiKVswXSArIHRoaXMubWF4RGF0ZVRpbWUuc3BsaXQoIiAiKVsyXTsKICAgIC8vICAgICB0aGlzLnRpbWVQaWNrZXJIclJhbmdlID0gW1siMGEiLCBocl1dOwogICAgLy8gICB9IGVsc2UgewogICAgLy8gICAgIHRoaXMudGltZVBpY2tlckhyUmFuZ2UgPSBudWxsOwogICAgLy8gICB9CgogICAgLy8gICBsZXQgaHJJblBNID0gdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAvLyAgICAgPyBmb3JtYXQoCiAgICAvLyAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAvLyAgICAgICAgIGFkZE1pbnV0ZXMobmV3IERhdGUoKSwgMTUpLAogICAgLy8gICAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgIC8vICAgICAgICksCiAgICAvLyAgICAgICAiaGhhYWEiCiAgICAvLyAgICAgKQogICAgLy8gICAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJoaGFhYSIpOwogICAgLy8gICAvL3NldCB0aGUgbWluIHJhbmdlCiAgICAvLyAgIGlmICgKICAgIC8vICAgICB0aGlzLmV4aXREYXRlID09CiAgICAvLyAgICAgZm9ybWF0KAogICAgLy8gICAgICAgZGF0ZVRvVGltZVpvbmVEYXRlKAogICAgLy8gICAgICAgICBhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwKICAgIC8vICAgICAgICAgdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAvLyAgICAgICApLAogICAgLy8gICAgICAgInl5eXktTU0tZGQiCiAgICAvLyAgICAgKSAmJgogICAgLy8gICAgIHZhbCAhPSBudWxsICYmCiAgICAvLyAgICAgaHJJblBNID09IHZhbD8uaGggKyB2YWwuYQogICAgLy8gICApIHsKICAgIC8vICAgICB0aGlzLnRpbWVQaWNrZXJNaW5SYW5nZSA9IFsKICAgIC8vICAgICAgIFsKICAgIC8vICAgICAgICAgdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLnRpbWVab25lCiAgICAvLyAgICAgICAgICAgPyBOdW1iZXIoCiAgICAvLyAgICAgICAgICAgICBmb3JtYXQoCiAgICAvLyAgICAgICAgICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZSgKICAgIC8vICAgICAgICAgICAgICAgICBhZGRNaW51dGVzKG5ldyBEYXRlKCksIDE1KSwKICAgIC8vICAgICAgICAgICAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgIC8vICAgICAgICAgICAgICAgKSwKICAgIC8vICAgICAgICAgICAgICAgIm1tIgogICAgLy8gICAgICAgICAgICAgKQogICAgLy8gICAgICAgICAgICkKICAgIC8vICAgICAgICAgICA6IE51bWJlcihmb3JtYXQoYWRkTWludXRlcyhuZXcgRGF0ZSgpLCAxNSksICJtbSIpKSwKICAgIC8vICAgICAgICAgNTksCiAgICAvLyAgICAgICBdLAogICAgLy8gICAgIF07CiAgICAvLyAgIH0gZWxzZSBpZiAoCiAgICAvLyAgICAgdGhpcy5tYXhEYXRlVGltZSAhPSBudWxsICYmCiAgICAvLyAgICAgdGhpcy5tYXhEYXRlVGltZS5zcGxpdCgiICIpWzBdID09IHRoaXMuZXhpdERhdGUKICAgIC8vICAgKSB7CiAgICAvLyAgICAgbGV0IHRpbWUgPSB0aGlzLm1heERhdGVUaW1lLnNwbGl0KCIgIilbMV07CiAgICAvLyAgICAgbGV0IGhyID0gdGltZS5zcGxpdCgiOiIpWzBdICsgdGhpcy5tYXhEYXRlVGltZS5zcGxpdCgiICIpWzJdOwogICAgLy8gICAgIGlmICh2YWwgIT0gbnVsbCAmJiBociA9PSB2YWw/LmhoICsgdmFsLmFbMF0pIHsKICAgIC8vICAgICAgIGxldCBtaW4gPSB0aW1lLnNwbGl0KCI6IilbMV07CiAgICAvLyAgICAgICB0aGlzLnRpbWVQaWNrZXJNaW5SYW5nZSA9IFtbMCwgbWluXV07CiAgICAvLyAgICAgfSBlbHNlIHsKICAgIC8vICAgICAgIHRoaXMudGltZVBpY2tlck1pblJhbmdlID0gW1swLCA1OV1dOwogICAgLy8gICAgIH0KICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICB0aGlzLnRpbWVQaWNrZXJNaW5SYW5nZSA9IFtbMCwgNTldXTsKICAgIC8vICAgfQogICAgLy8gICBpZiAoCiAgICAvLyAgICAgdGhpcy5leGl0VGltZVNlbGVjdGVkID09IG51bGwgJiYKICAgIC8vICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHM/LnRpbWVab25lICE9IHVuZGVmaW5lZAogICAgLy8gICApIHsKICAgIC8vICAgICB0aGlzLnRpbWVQaWNrZXJIclJhbmdlID0gW107CiAgICAvLyAgICAgdGhpcy50aW1lUGlja2VyTWluUmFuZ2UgPSBbXTsKICAgIC8vICAgICByZXR1cm47CiAgICAvLyAgIH0gZWxzZSBpZiAodGhpcy5leGl0VGltZVNlbGVjdGVkPy5oaCA9PSAiIikgewogICAgLy8gICAgIHRoaXMudGltZVBpY2tlck1pblJhbmdlID0gW107CiAgICAvLyAgIH0KICAgIC8vIH0sCiAgICAvLyBvcGVuVGltZVBpY2tlcigpIHsKICAgIC8vICAgdGhpcy5zZXRUaW1lUGlja2VyKHRoaXMuZXhpdFRpbWVTZWxlY3RlZCk7CiAgICAvLyB9LAogICAgLyoqIEBtZXRob2RzIHRvIGZpbmQgdGhlIGVzdGltYXRlIHJhdGUgCiAgICAgQHBhcmFtcyBzdGFydERhdGUgLCBzdG9wRGF0ZSx6Y29kZSwgdHlwZSAsIGVudl9vdmVyUmlkZQogICAgICovCgogICAgYXN5bmMgZGF0ZVRpbWVDaGFuZ2UoKSB7CiAgICAgIHRyeSB7CiAgICAgICAgLy9mb3JtYXQobmV3IERhdGUodGhpcy5jaGVja2luRGF0ZSksICJ5eXl5LU1NLWRkJ1QnSEg6bW06c3MiKTsKICAgICAgICAvLyB0aGlzLnNldFRpbWVQaWNrZXIoKTsKCiAgICAgICAgdGhpcy5zdGFydERhdGUgPSB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgICAgICAgID8gZm9ybWF0KAogICAgICAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAgICAgICAgICAgbmV3IERhdGUoKSwKICAgICAgICAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgICAgICAgICAgKSwKICAgICAgICAgICAgInl5eXktTU0tZGQnVCdISDptbTpzcyIKICAgICAgICAgICkKICAgICAgICAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJ5eXl5LU1NLWRkJ1QnSEg6bW06c3MiKTsKICAgICAgICAvLz8uaGgrIjoiK3RoaXMuZXhpdFRpbWVTZWxlY3RlZC5tbSsiOjAwIi8vZm9ybWF0KHRoaXMuY2hlY2tvdXREYXRlLCAieXl5eS1NTS1kZCdUJ0hIOm1tOnNzIikKICAgICAgICBsZXQgc3RvcERhdGUgPSB0aGlzLmV4aXREYXRlICsgIlQyMzo1OTowMCI7CiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICBzdGFydEF0OiB0aGlzLnN0YXJ0RGF0ZSwKICAgICAgICAgIHN0b3BBdDogc3RvcERhdGUsCiAgICAgICAgICB6Y29kZTogdGhpcy56b25lRGV0YWlscy56Y29kZSwKICAgICAgICB9OwogICAgICAgIHRoaXMuYWRkUGF5bWVudEJ0bkxvYWRpbmcgPSB0cnVlOwogICAgICAgIHZhciBnZXRSYXRlID0gYXdhaXQgQVBJSGVscGVyKCJQT1NUIiwgIi9hcGkvdjIvZ2V0UmF0ZSIsIGRhdGEpOwogICAgICAgIC8vY29uZGl0aW9uIHRvIGNoZWNrIGlmIHRoZSBkYXRlIHRpbWUgc2VsZWN0ZWQgaXMgbGVzc2VyIHRoYW4gY3VycmVudCB0aW1lCiAgICAgICAgaWYgKCFnZXRSYXRlPy5kYXRhPy5zdGF0dXMgJiYgIXRoaXMuZ2V0UmF0ZUNhbGwpIHsKICAgICAgICAgIHRoaXMuZGlzYWJsZUFkZFBheW1lbnRCdG4gPSB0cnVlOwogICAgICAgICAgdGhpcy5hbGVydERpYWxvZyA9IHRydWU7CiAgICAgICAgICB0aGlzLmFsZXJ0TXNnID0KICAgICAgICAgICAgZ2V0UmF0ZT8uZGF0YT8ubWVzc2FnZSB8fCAiRXJyb3IgaW4gZ2V0dGluZyByYXRlIGRldGFpbHMiOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmRpc2FibGVBZGRQYXltZW50QnRuID0gZmFsc2U7CiAgICAgICAgfQogICAgICAgIHRoaXMuZXN0aW1hdGUgPSBPYmplY3QuYXNzaWduKHt9LCBnZXRSYXRlPy5kYXRhPy5kYXRhKTsKICAgICAgICAvLyBlc3RpbWF0ZWRWYWwgIT0gIiIgJiYKICAgICAgICAvLyBlc3RpbWF0ZWRWYWwgIT0gbnVsbCAmJgogICAgICAgIC8vIGVzdGltYXRlZFZhbCAhPSB1bmRlZmluZWQKICAgICAgICAvLyAgID8gTnVtYmVyKGVzdGltYXRlZFZhbCkudG9GaXhlZCgyKQogICAgICAgIC8vICAgOiBlc3RpbWF0ZWRWYWw7CiAgICAgICAgdGhpcy5hZGRQYXltZW50QnRuTG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICAgIGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuYWRkUGF5bWVudEJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBmb3JtYXREYXRlKGRhdGUpIHsKICAgICAgbGV0IHN0cmluZ2RhdGUgPSBkYXRlLnRvU3RyaW5nKCk7CiAgICAgIGlmICghZGF0ZSkgcmV0dXJuIG51bGw7CgogICAgICBjb25zdCBbeWVhciwgbW9udGgsIGRheV0gPSBzdHJpbmdkYXRlLnNwbGl0KCItIik7CiAgICAgIHJldHVybiBgJHttb250aH0vJHtkYXl9LyR7eWVhcn1gOwogICAgfSwKICAgIHBhcnNlRGF0ZShkYXRlKSB7CiAgICAgIGlmICghZGF0ZSkgcmV0dXJuIG51bGw7CgogICAgICBjb25zdCBbbW9udGgsIGRheSwgeWVhcl0gPSBkYXRlLnNwbGl0KCIvIik7CiAgICAgIHJldHVybiBgJHt5ZWFyfS0ke21vbnRoLnBhZFN0YXJ0KDIsICIwIil9LSR7ZGF5LnBhZFN0YXJ0KDIsICIwIil9YDsKICAgIH0sCiAgICBhc3luYyBhZGRQYXltZW50KCkgewogICAgICBsZXQgZXhpdERhdGVUaW1lID0KICAgICAgICB0aGlzLmV4aXREYXRlICsKICAgICAgICAiICIgKwogICAgICAgICIxMSIgKwogICAgICAgICI6IiArCiAgICAgICAgIjU5IiArCiAgICAgICAgIiAiICsKICAgICAgICAiUE0iOwogICAgICBsZXQgZW50cnlEYXRlVGltZSA9IHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZQogICAgICAgID8gZm9ybWF0KAogICAgICAgICAgZGF0ZVRvVGltZVpvbmVEYXRlKG5ldyBEYXRlKCksIHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZSksCiAgICAgICAgICAieXl5eS1NTS1kZCBoaDptbSBhIgogICAgICAgICkKICAgICAgICA6IGZvcm1hdChuZXcgRGF0ZSgpLCAieXl5eS1NTS1kZCdUJ0hIOm1tIGEiKTsKICAgICAgbGV0IGNvbW1pdERhdGEgPSB7CiAgICAgICAgcGxhdGU6IHRoaXMubGljZW5jZVBsYXRlLAogICAgICAgIGNvbnRhY3Q6IHRoaXMuY29udGFjdE9iaj8uZm9ybWF0dGVkTnVtYmVyLAogICAgICAgIGVudHJ5VGltZTogZW50cnlEYXRlVGltZSwKICAgICAgICBleGl0VGltZTogZXhpdERhdGVUaW1lLAogICAgICAgIGVzdGltYXRlOiB0aGlzLmVzdGltYXRlLAogICAgICB9OwogICAgICBsZXQgZGV0YWlscyA9IGF3YWl0IEFQSUhlbHBlcigiUE9TVCIsICIvYXBpL3YxL3ByZXBhaWQvb3BlblRyYW5zYWN0aW9uIiwgewogICAgICAgIHZlaGljbGVObzogdGhpcy5saWNlbmNlUGxhdGUsCiAgICAgICAgY29udGFjdDogdGhpcy5jb250YWN0T2JqPy5mb3JtYXR0ZWROdW1iZXIsCiAgICAgICAgZXhpdFRpbWU6IGV4aXREYXRlVGltZSwgemNvZGU6IHRoaXMuem9uZURldGFpbHM/Lnpjb2RlLAogICAgICAgIG1pZDogdGhpcy56b25lRGV0YWlscz8ubWlkLAogICAgICAgIGV2ZW50VHlwZTogIlBhaWRIb3N0UGFzcyIsCiAgICAgIH0pOwoKICAgICAgaWYgKGRldGFpbHM/LmRhdGE/LnN0YXR1cykgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0NBU0lOT19VU0VSREVUQUlMUyIsIGNvbW1pdERhdGEpOwogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogIi9wcmVwYWlkaG9zdC9tYWtlcGF5bWVudCIgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKGRldGFpbHM/LmRhdGE/Lm1lc3NhZ2UgPT0gIkJvb2tpbmcgQWxyZWFkeSBFeGlzdHMiKSB7CiAgICAgICAgICBsZXQgY29tbWl0RGF0YSA9IHsKICAgICAgICAgICAgcGxhdGU6IHRoaXMubGljZW5jZVBsYXRlLAogICAgICAgICAgICBjb250YWN0OiB0aGlzLmNvbnRhY3RPYmouZm9ybWF0dGVkTnVtYmVyLAogICAgICAgICAgICBlbnRyeVRpbWU6IGVudHJ5RGF0ZVRpbWUsCiAgICAgICAgICAgIGV4aXRUaW1lOiBleGl0RGF0ZVRpbWUsCiAgICAgICAgICAgIGVzdGltYXRlOiB0aGlzLmVzdGltYXRlLAogICAgICAgICAgICBiaWQ6IGRldGFpbHM/LmRhdGE/LmRhdGE/LmJpZAogICAgICAgICAgfTsKICAgICAgICAgIGlmIChkZXRhaWxzPy5kYXRhPy5kYXRhPy5jYXJkT25GaWxlID09IDAgfHwgZGV0YWlscz8uZGF0YT8uZGF0YT8uY2FyZE9uRmlsZSA9PSAyKSB7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0NBU0lOT19VU0VSREVUQUlMUyIsIGNvbW1pdERhdGEpOwogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICIvcHJlcGFpZGhvc3QvbWFrZXBheW1lbnQiIH0pOwogICAgICAgICAgfQogICAgICAgICAgZWxzZSBpZiAoZGV0YWlscz8uZGF0YT8uZGF0YT8uY2FyZE9uRmlsZSA9PSAxKSB7CiAgICAgICAgICAgIC8vIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0NBU0lOT19VU0VSREVUQUlMUyIsIGNvbW1pdERhdGEpOwogICAgICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICIvcHJlcGFpZGhvc3Qvb2RSZWNlaXB0IiB9KTsKICAgICAgICAgICAgbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4gKyAiL2cvIiArIGRldGFpbHM/LmRhdGE/LmRhdGE/LmJpZDsKICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UodXJsKTsKICAgICAgICAgIH0KCiAgICAgICAgfQogICAgICAgIHRoaXMuYWxlcnRNc2cgPSBkZXRhaWxzPy5kYXRhPy5tZXNzYWdlID8gZGV0YWlscz8uZGF0YT8ubWVzc2FnZSA6ICIiOwoKICAgICAgICB0aGlzLmFsZXJ0RGlhbG9nID0gdHJ1ZTsKICAgICAgfQogICAgfSwKCiAgICB1cHBlcmNhc2UoKSB7CiAgICAgIHRoaXMubGljZW5jZVBsYXRlID0gdGhpcy5saWNlbmNlUGxhdGUudG9VcHBlckNhc2UoKTsKICAgIH0sCiAgICAvKioKICAgICAqIEBtZXRob2QgZ2V0Wm9uZURldGFpbHMgZmV0Y2ggdGhlIHpvbmUgZGV0YWlscyBhbmQgY29tbWl0IFNFVF9aT05FX0RFVEFJTFMgbXV0YXRpb24uCiAgICAgKi8KICAgIGFzeW5jIGdldFpvbmVEZXRhaWxzKHNlYXJjaFBhcmFtS2V5LCBzZWFyY2hQYXJhbVZhbHVlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIHpvbmVEZXRhaWxzID0gYXdhaXQgQVBJSGVscGVyKAogICAgICAgICAgIkdFVCIsCiAgICAgICAgICAiL2FwaS92MS91c2VyL2NvbmZpZyIgKyBzZWFyY2hQYXJhbUtleSArICI9IiArIHNlYXJjaFBhcmFtVmFsdWUKICAgICAgICApOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX1pPTkVfREVUQUlMUyIsIHpvbmVEZXRhaWxzLmRhdGE/LnpvbmUpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICogQG1ldGhvZCBnZXRPbkRlbWFuZFpvbmVEZXRhaWxzIGZldGNoIHRoZSBvbmRlbWFuZCB6b25lIGRldGFpbHMgZnJvbSBQY29tIGFuZCBjb21taXQgU0VUX1pPTkVfREVUQUlMUyBtdXRhdGlvbi4KICAgICAqLwogICAgYXN5bmMgZ2V0T25EZW1hbmRab25lRGV0YWlscyhzZWFyY2hQYXJhbVZhbHVlKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIHpvbmVEZXRhaWxzID0gYXdhaXQgQVBJSGVscGVyKAogICAgICAgICAgIkdFVCIsCiAgICAgICAgICAiL2FwaS92MS9nZXRPbkRlbWFuZC8iICsgc2VhcmNoUGFyYW1WYWx1ZQogICAgICAgICk7CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgaWYgKHpvbmVEZXRhaWxzLmRhdGE/LmxvdCkgewogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KAogICAgICAgICAgICAiU0VUX09OX0RFTUFORF9aT05FX0RFVEFJTFMiLAogICAgICAgICAgICB6b25lRGV0YWlscy5kYXRhPy5sb3QKICAgICAgICAgICk7CiAgICAgICAgICB0aGlzLnNldERhdGVQaWNrZXIoKTsKICAgICAgICAgIC8vIHRoaXMuc2V0VGltZVBpY2tlcigpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmFsZXJ0TXNnID0KICAgICAgICAgICAgem9uZURldGFpbHM/LmRhdGE/Lm1lc3NhZ2UgfHwgIkVycm9yIGluIGxvYWRpbmcgbG9jYXRpb24gZGV0YWlscy4iOwogICAgICAgICAgdGhpcy5hbGVydERpYWxvZyA9IHRydWU7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIG9uQ29udGFjdElucHV0KGNvbnRhY3REZXRhaWxzKSB7CiAgICAgIHRoaXMuaXNDb250YWN0VmFsaWQgPSBjb250YWN0RGV0YWlscz8uaXNWYWxpZDsKICAgICAgdGhpcy5jb250YWN0T2JqID0gT2JqZWN0LmFzc2lnbih7fSwgY29udGFjdERldGFpbHMpOwogICAgfSwKICAgIHNldFJlZW50ZXJQbGF0ZUZsYWcoKSB7CiAgICAgIHRoaXMubGljZW5jZVBsYXRlID0gdGhpcy5zZWxlY3RlZFBsYXRlIHx8ICIiOwogICAgICB0aGlzLnJlRW50ZXJQbGF0ZSA9IHRydWU7CiAgICAgIHRoaXMuY29uZmlybUNyZWF0ZVNlc3Npb25EaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICAvKioKICAgICAqIEBtZXRob2QgY3JlYXRlU2Vzc2lvbiBGZXRjaCBib29raW5nIGlkIG9uIGFkZCBib29raW5nIGFuZCBmZXRjaCB0aGUgYm9va2luZyBpbmZvLgogICAgICovCiAgICBhc3luYyBjcmVhdGVTZXNzaW9uKCkgewogICAgICB0aGlzLmFkZExpY2VuY2VQbGF0ZUJ0bkxvYWRpbmcgPSB0cnVlOwogICAgICBsZXQgcG9zdE9iaiA9IHsKICAgICAgICBjb250YWN0OiB0aGlzLmNvbnRhY3RPYmo/LmZvcm1hdHRlZE51bWJlciwKICAgICAgICB1bmlxdWVJRDogdGhpcy5jb250YWN0T2JqPy5uYXRpb25hbE51bWJlciwKICAgICAgICB2ZWhpY2xlTm86IHRoaXMubGljZW5jZVBsYXRlLnRvVXBwZXJDYXNlKCksCiAgICAgICAgbG9jYXRpb25Db2RlOiB0aGlzLnpvbmVEZXRhaWxzLnpjb2RlLAogICAgICAgIHppZDogdGhpcy56b25lRGV0YWlscy56aWQsCiAgICAgICAgZW50cnl0aW1lOiBmb3JtYXQoCiAgICAgICAgICBuZXcgRGF0ZSgKICAgICAgICAgICAgbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygiZW4tVVMiLCB7CiAgICAgICAgICAgICAgdGltZVpvbmU6IHRoaXMuem9uZURldGFpbHMudGltZXpvbmUsCiAgICAgICAgICAgIH0pCiAgICAgICAgICApLAogICAgICAgICAgInl5eXktTU0tZGQgSEg6bW06c3MiCiAgICAgICAgKSwKICAgICAgICBzb3VyY2U6ICJhcHBjbGlwIiwKICAgICAgICB3ZWJWaWV3OiAiMSIsCiAgICAgICAgdHlwZTogIjIiLAogICAgICAgIHN0YXRlOiAyLAogICAgICAgIHBheW1lbnRfc3RhdHVzOiAwLAogICAgICAgIHR4bklEX2FkZENDOiAwLAogICAgICB9OwogICAgICBpZiAodGhpcy5yZUVudGVyUGxhdGUpIHsKICAgICAgICBPYmplY3QuYXNzaWduKHBvc3RPYmosIHsgY3JlYXRlTmV3U2Vzc2lvbjogMSB9KTsKICAgICAgfQogICAgICB0cnkgewogICAgICAgIHZhciBzZXNzaW9uID0gYXdhaXQgQVBJSGVscGVyKCJQT1NUIiwgIi9hcGkvdjEvYWRkQm9va2luZyIsIHBvc3RPYmopOwogICAgICAgIGxldCBiaWQgPSBzZXNzaW9uPy5kYXRhPy5yZWZubzsKICAgICAgICBpZiAoc2Vzc2lvbi5kYXRhLnN0YXR1cyA9PT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuZXJyTXNnID0gc2Vzc2lvbj8uZGF0YT8ubWVzc2FnZSA/IHNlc3Npb24uZGF0YS5tZXNzYWdlIDogIiI7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIHNlc3Npb24/LmRhdGE/LnNob3dDcmVhdGVOZXdTZXNzaW9uUG9wdXAgJiYKICAgICAgICAgICAgc2Vzc2lvbi5kYXRhLnNob3dDcmVhdGVOZXdTZXNzaW9uUG9wdXAgPT0gMQogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgICBwaG9uZTogdGhpcy5jb250YWN0T2JqPy5uYXRpb25hbE51bWJlciwKICAgICAgICAgICAgICBwbGF0ZTogdGhpcy5saWNlbmNlUGxhdGUudG9VcHBlckNhc2UoKSwKICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAiUGFya2VyIHNlc3Npb24gbm90IGZvdW5kIGluIHRoZSBzeXN0ZW0uIiwKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHRoaXMuY29uZmlybUNyZWF0ZVNlc3Npb25EaWFsb2cgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmFkZExpY2VuY2VQbGF0ZUJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgICAgdGhpcy5hZGRMaWNlbmNlUGxhdGVCdG5Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGF3YWl0IHRoaXMuZ2V0Qm9va2luZ0RldGFpbHMoYmlkKTsKICAgICAgICBsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICIvZy8iICsgYmlkOwogICAgICAgIHRoaXMuYWRkTGljZW5jZVBsYXRlQnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMucmVFbnRlclBsYXRlCiAgICAgICAgICA/IHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgcGhvbmU6IHRoaXMuY29udGFjdE9iaj8ubmF0aW9uYWxOdW1iZXIsCiAgICAgICAgICAgIHJlZklkOiBiaWQsCiAgICAgICAgICAgIGljb246ICJsb2dpbiIsCiAgICAgICAgICAgIHBsYXRlOiB0aGlzLmxpY2VuY2VQbGF0ZS50b1VwcGVyQ2FzZSgpLAogICAgICAgICAgICBzdGF0dXNUZXh0OgogICAgICAgICAgICAgICJQYXJrZXIgcGxhdGUvY29udGFjdCBudW1iZXIgbm90IGZvdW5kIGluIHRoZSBzeXN0ZW0uIFBhcmtlciBjcmVhdGVkIGEgbmV3IHNlc3Npb24gdXNpbmcgZ2VuZXJpYyBwYXltZW50IFFSIiwKICAgICAgICAgIH0pCiAgICAgICAgICA6IHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgcGhvbmU6IHRoaXMuY29udGFjdE9iaj8ubmF0aW9uYWxOdW1iZXIsCiAgICAgICAgICAgIHJlZklkOiBiaWQsCiAgICAgICAgICAgIGljb246ICJsb2dpbiIsCiAgICAgICAgICAgIHBsYXRlOiB0aGlzLmxpY2VuY2VQbGF0ZS50b1VwcGVyQ2FzZSgpLAogICAgICAgICAgICBzdGF0dXNUZXh0OgogICAgICAgICAgICAgICJQYXJrZXIgc2Vzc2lvbiBmb3VuZC4gUGFya2VyIG9wZW5lZCBoaXMvaGVyIHNlc3Npb24gdXNpbmcgZ2VuZXJpYyBwYXltZW50IFFSIiwKICAgICAgICAgIH0pOwoKICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh1cmwpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIHRoaXMuYWRkTGljZW5jZVBsYXRlQnRuTG9hZGluZyA9IGZhbHNlOwogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIC8qKgogICAgICogQG1ldGhvZCBnZXRCb29raW5nRGV0YWlscyBmZXRjaCB0aGUgYm9va2luZyBkZXRhaWxzIGFuZCBjb21taXQgU0VUX0JPT0tJTkdfREVUQUlMUyBtdXRhdGlvbi4KICAgICAqLwogICAgYXN5bmMgZ2V0Qm9va2luZ0RldGFpbHMoYm9va2luZ0lkKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIGJvb2tpbmdEZXRhaWxzID0gYXdhaXQgQVBJSGVscGVyKAogICAgICAgICAgIkdFVCIsCiAgICAgICAgICAiL2FwaS92MS9ib29raW5nL2NvbmZpZy8iICsgYm9va2luZ0lkCiAgICAgICAgKTsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoCiAgICAgICAgICAiU0VUX0JPT0tJTkdfREVUQUlMUyIsCiAgICAgICAgICBib29raW5nRGV0YWlscy5kYXRhPy5kYXRhID8gYm9va2luZ0RldGFpbHMuZGF0YS5kYXRhIDogbnVsbAogICAgICAgICk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgY2xvc2VDb25maXJtQ3JlYXRlU2Vzc2lvbkRpYWxvZygpIHsKICAgICAgdGhpcy5jb25maXJtQ3JlYXRlU2Vzc2lvbkRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLmFkZExpY2VuY2VQbGF0ZUJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgfSwKfTsK"},{"version":3,"sources":["Create.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsbA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Create.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container class=\"pa-\" fluid>\n    <v-row class=\"text-center\" no-gutters>\n      <v-col cols=\"12\">\n        <v-img alt=\"PARKING.COM\" class=\"my-3\" height=\"42\" contain src=\"../assets/logo_huge_drk.png\" />\n      </v-col>\n    </v-row>\n    <v-row no-gutters>\n      <v-col>\n        <v-card class=\"mx-auto rounded-lg\" max-width=\"374\">\n          <v-dialog v-model=\"loading\" persistent>\n            <v-card class=\"pa-4\">\n              <v-progress-circular indeterminate color=\"red\"></v-progress-circular>\n              <span class=\"ml-4\" style=\"font-size: 14px\">Please wait...</span>\n            </v-card>\n          </v-dialog>\n          <template slot=\"progress\">\n            <v-progress-linear color=\"red\" height=\"10\" indeterminate></v-progress-linear>\n          </template>\n          <div style=\"position: relative\">\n            <v-img class=\"rounded-t-lg\" max-height=\"150px\" style=\"filter: brightness(50%)\" :src=\"\n              zoneDetails.hasOwnProperty('image') &&\n                zoneDetails.image != '' &&\n                zoneDetails.image != null\n                ? zoneDetails.image\n                : zoneImgURL\n            \" :lazy-src=\"\n  zoneDetails.hasOwnProperty('image') &&\n    zoneDetails.image != '' &&\n    zoneDetails.image != null\n    ? zoneDetails.image\n    : zoneImgURL\n\" alt=\"Parking.com garage\">\n              <template v-slot:placeholder>\n                <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\" no-gutters>\n                  <v-progress-circular indeterminate color=\"grey lighten-5\"></v-progress-circular>\n                </v-row>\n              </template>\n            </v-img>\n            <div class=\"booking_header white--text text-left mr-4\" v-if=\"isPQREndReservation\">\n              Welcome to\n              {{\n                onDemandZoneDetails.hasOwnProperty(\"name\")\n                ? onDemandZoneDetails.name\n                : \"\"\n              }}\n            </div>\n            <div class=\"booking_header white--text text-left mr-4\" v-else>\n              You are parked at\n              {{\n                zoneDetails.hasOwnProperty(\"zoneName\")\n                ? zoneDetails.zoneName\n                : \"\"\n              }}\n            </div>\n          </div>\n          <v-card-text class=\"pa-0\">\n            <v-form ref=\"detailsForm\">\n              <v-container fluid pa-0>\n                <v-row no-gutters class=\"pt-2 information pa-0\">\n                  <v-col cols=\"2\" class=\"align-self-center\">\n                    <v-img src=\"../assets/list_divider_step.imageset/list_divider_step.png\" width=\"45px\" v-if=\"!infoFlag\">\n                      <div class=\"row text-center align-self-center pl-5\">\n                        <div class=\"col-12 text-center\">\n                          <span style=\"\n                                                      font-size: large;\n                                                      font-weight: bold;\n                                                      color: white;\n                                                    \">1</span>\n                        </div>\n                      </div>\n                    </v-img>\n                    <v-img src=\"../assets/list_divider_step_completed.imageset/list_divider_step_completed.png\"\n                      width=\"45px\" v-if=\"infoFlag\">\n                      <div class=\"row text-center pl-5\">\n                        <div class=\"col-12 text-center\">\n                          <span style=\"\n                                                      font-size: larger;\n                                                      font-weight: bold;\n                                                      color: white;\n                                                    \">âœ“</span>\n                        </div>\n                      </div>\n                    </v-img>\n                  </v-col>\n                  <v-col cols=\"10\" class=\"mt-3\">\n                    <p style=\"color: #f2555c; font-weight: bolder\">\n                      Your Information\n                    </p>\n                  </v-col>\n                </v-row>\n                <v-row no-gutters v-if=\"!isPQREndReservation\">\n                  <v-col cols=\"12\" class=\"px-4 mt-2 text-center color-black\" style=\"font-size: 12px\">\n                    <p class=\"mb-0\" v-if=\"zoneDetails.lpr_status == '1'\">\n                      Enter your license plate and phone number for hassle-free\n                      parking\n                    </p>\n                    <p class=\"mb-0\" v-else>\n                      Enter your phone number for hassle-free parking\n                    </p>\n                  </v-col>\n                </v-row>\n                <v-row no-gutters>\n                  <v-col cols=\"12\" class=\"px-4 text-center color-black\" style=\"font-size: 12px\">\n                    <v-row no-gutters class=\"py-2\">\n                      <v-col cols=\"1\" class=\"text-right align-self-center\">\n                        <v-icon class=\"material-icons-outlined\">send_to_mobile</v-icon>\n                      </v-col>\n                      <v-col cols=\"11\" class=\"px-2\" v-if=\"!edtPhoneInput\">\n                        <VuePhoneNumberInput v-model=\"contactObj.phoneNumber\" size=\"md\" @update=\"onContactInput\"\n                          show-code-on-list :default-country-code=\"contactOptions.defaultCountry\"\n                          :disabled=\"contactDisabled\" :color=\"contactOptions.color\"\n                          :valid-color=\"contactOptions.validColor\" :error-color=\"contactOptions.errorColor\"\n                          :border-radius=\"contactOptions.contactBorderRadius\" :error=\"!isContactValid\" required\n                          :translations=\"contactOptions.translations\" />\n                      </v-col>\n                      <v-col cols=\"11\" class=\"px-2\" v-if=\"edtPhoneInput\">\n                        <v-text-field v-model=\"contactObj.phoneNumber\" disabled></v-text-field>\n                      </v-col>\n                      <v-col cols=\"1\"> </v-col>\n                      <v-col cols=\"11\" class=\"px-4\" v-if=\"!isPQREndReservation\">\n                        <span style=\"font-size: 10px; line-height: 1.5\">Phone number is mandatory for generating the\n                          receipt</span>\n                      </v-col>\n                    </v-row>\n                    <v-row no-gutters class=\"py-2\">\n                      <v-col cols=\"1\" class=\"text-right align-self-center\">\n                        <v-icon class=\"material-icons-outlined\">pin</v-icon>\n                      </v-col>\n                      <v-col cols=\"11\" class=\"px-2\">\n                        <v-text-field class=\"pt-0\" v-model=\"licencePlate\" hide-details=\"auto\" maxlength=\"8\"\n                          @keyup=\"uppercase\" label=\"License Plate *\" clearable></v-text-field>\n                      </v-col>\n                    </v-row>\n\n                    <v-row no-gutters class=\"pt-1\" v-if=\"isPQREndReservation\">\n                      <v-spacer></v-spacer>\n                      <v-col cols=\"11\" class=\"px-2 py-0 pb-3\">\n                        <p class=\"text-left mb-0\" style=\"font-size: 10px; line-height: 1.5\">\n                          Enter your full plate number to avoid citation. Max of\n                          8 characters. Do not include spaces or special\n                          characters.\n                        </p>\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                </v-row>\n                <v-row no-gutters v-if=\"isPQREndReservation\">\n                  <v-col cols=\"12\">\n                    <v-row no-gutters class=\"pt-2 information pa-0\">\n                      <v-col cols=\"2\" class=\"align-self-center\">\n                        <v-img src=\"../assets/list_divider_step.imageset/list_divider_step.png\" width=\"45px\"\n                          v-if=\"!timeFlag\">\n                          <div class=\"row text-center align-self-center pl-5\">\n                            <div class=\"col-12 text-center\">\n                              <span style=\"\n                                                          font-size: large;\n                                                          font-weight: bold;\n                                                          color: white;\n                                                        \">2</span>\n                            </div>\n                          </div>\n                        </v-img>\n                        <v-img src=\"../assets/list_divider_step_completed.imageset/list_divider_step_completed.png\"\n                          width=\"45px\" v-if=\"timeFlag\">\n                          <div class=\"row text-center pl-5\">\n                            <div class=\"col-12 text-center\">\n                              <span style=\"\n                                                          font-size: larger;\n                                                          font-weight: bold;\n                                                          color: white;\n                                                        \">âœ“</span>\n                            </div>\n                          </div>\n                        </v-img>\n                      </v-col>\n                      <v-col cols=\"10\" class=\"mt-3\">\n                        <p style=\"color: #f2555c; font-weight: bolder\">\n                          Set Your Exit Date\n                        </p>\n                      </v-col>\n                    </v-row>\n                    <v-row no-gutters class=\"pt-2 px-3\">\n                      <v-spacer></v-spacer>\n                      <v-col cols=\"11\" class=\"px-2 py-0\">\n                        <p class=\"text-left ma-0\" v-if=\"isPQREndReservation\">\n                          If you're a hotel guest, this is your checkout date.\n                        </p>\n                      </v-col>\n                    </v-row>\n                    <v-row no-gutters>\n                      <v-col cols=\"12\" class=\"px-4 text-center color-black\" style=\"font-size: 12px\">\n                        <v-row no-gutters class=\"py-2\">\n                          <v-col cols=\"1\" class=\"text-right align-self-center\">\n                            <v-icon class=\"material-icons-outlined\">today</v-icon>\n                          </v-col>\n                          <v-col cols=\"11\" class=\"px-2\">\n                            <v-menu ref=\"Datemenu\" v-model=\"Datemenu\" :close-on-content-click=\"false\"\n                              transition=\"scale-transition\" offset-y max-width=\"290px\" min-width=\"auto\">\n                              <template v-slot:activator=\"{ on, attrs }\">\n                                <v-text-field class=\"pt-0\" v-model=\"dateFormatted\" v-bind=\"attrs\" v-on=\"on\"\n                                  hide-details=\"auto\"></v-text-field>\n                              </template>\n                              <v-date-picker v-model=\"exitDate\" @input=\"Datemenu = false\"\n                                @blur=\"exitDate = parseDate(dateFormatted)\" @change=\"dateTimeChange\" :min=\"minDate\"\n                                :max=\"maxDate\" header-color=\"#f2555c\" color=\"#f2555c\"></v-date-picker>\n                            </v-menu>\n                          </v-col>\n                        </v-row>\n                        <v-row class=\"text-left mt-0 px-2 py-0 pb-3\">\n                          <v-col cols=\"1\"></v-col>\n                          <v-col class=\"pt-0\">\n                            <p style=\"\n                                                        color: #1976d2;\n                                                        font-weight: bold;\n                                                        line-height: 16px;\n                                                      \" class=\"ma-0\">\n                              HOURS OF OPERATION\n                            </p>\n                            <p class=\"ma-0\">\n                              Today :\n                              {{\n                                onDemandZoneDetails.hasOwnProperty(\n                                  \"todaysHoursOfOperation\"\n                                ) &&\n                                onDemandZoneDetails.todaysHoursOfOperation.hasOwnProperty(\n                                  \"is24HourOpen\"\n                                ) &&\n                                onDemandZoneDetails.todaysHoursOfOperation\n                                  .is24HourOpen == true\n                                ? \"Open 24 / 7\"\n                                : \"\"\n                              }}\n                            </p>\n                          </v-col>\n                        </v-row>\n                      </v-col>\n                    </v-row>\n\n                    <v-row no-gutters class=\"pt-2 information pa-0\" v-if=\"\n                      estimate != null && Object.keys(estimate).length != 0\n                    \">\n                      <v-col cols=\"2\" class=\"align-self-center\">\n                        <v-img src=\"../assets/list_divider_step.imageset/list_divider_step.png\" width=\"45px\"\n                          v-if=\"!paymentFlag\">\n                          <div class=\"row text-center align-self-center pl-5\">\n                            <div class=\"col-12 text-center\">\n                              <span style=\"\n                                                          font-size: large;\n                                                          font-weight: bold;\n                                                          color: white;\n                                                        \">3</span>\n                            </div>\n                          </div>\n                        </v-img>\n                        <v-img src=\"../assets/list_divider_step_completed.imageset/list_divider_step_completed.png\"\n                          width=\"45px\" v-if=\"paymentFlag\">\n                          <div class=\"row text-center pl-5\">\n                            <div class=\"col-12 text-center\">\n                              <span style=\"\n                                                          font-size: larger;\n                                                          font-weight: bold;\n                                                          color: white;\n                                                        \">âœ“</span>\n                            </div>\n                          </div>\n                        </v-img>\n                      </v-col>\n                      <v-col cols=\"10\" class=\"mt-3\">\n                        <p style=\"color: #f2555c; font-weight: bolder\">\n                          Your Parking Fees\n                        </p>\n                      </v-col>\n                    </v-row>\n                    <v-row no-gutters v-if=\"\n                      estimate != null && Object.keys(estimate).length != 0\n                    \">\n                      <v-col cols=\"12\" class=\"px-10 text-center\" style=\"font-size: 12px\">\n                        <v-row no-gutters class=\"pt-2 px-3\">\n                          <v-col cols=\"4\" class=\"text-left\">\n                            <p style=\"font-size: small\" class=\"black--text\">\n                              Parking\n                            </p>\n                          </v-col>\n                          <v-spacer></v-spacer>\n                          <v-col cols=\"4\" class=\"text-left\">\n                            <p style=\"font-size: small\" class=\"black--text text-right\">\n                              {{\n                                estimate.hasOwnProperty(\"totalPrice\")\n                                ? \"$ \" + estimate.totalPrice.toFixed(2)\n                                : \"-\"\n                              }}\n                            </p>\n                          </v-col>\n                        </v-row>\n                        <v-row no-gutters class=\"mt-0 px-3\">\n                          <v-col cols=\"4\" class=\"text-left\">\n                            <p style=\"font-size: small\" class=\"black--text\">\n                              Service Fee\n                            </p>\n                          </v-col>\n                          <v-spacer></v-spacer>\n                          <v-col cols=\"4\" class=\"text-left\">\n                            <p style=\"font-size: small\" class=\"black--text text-right\">\n                              {{\n                                estimate.hasOwnProperty(\"totalFee\")\n                                ? \"$ \" + estimate.totalFee.toFixed(2)\n                                : \"-\"\n                              }}\n                            </p>\n                          </v-col>\n                        </v-row>\n                        <hr />\n                        <v-row no-gutters class=\"mt-2 px-3\">\n                          <v-col cols=\"6\" class=\"text-left\">\n                            <p style=\"\n                                                        font-weight: bold;\n                                                        color: #f2555c;\n                                                        font-size: 15px;\n                                                      \">\n                              Purchase Total <sup>*</sup>\n                            </p>\n                          </v-col>\n                          <v-spacer></v-spacer>\n                          <v-col cols=\"4\" class=\"text-left\">\n                            <p style=\"\n                                                        font-size: small;\n                                                        font-weight: bold;\n                                                        color: #f2555c;\n                                                      \" class=\"text-right\">\n                              {{\n                                estimate.hasOwnProperty(\"grandTotal\")\n                                ? \"$ \" + estimate.grandTotal.toFixed(2)\n                                : \"-\"\n                              }}\n                            </p>\n                          </v-col>\n                          <p>\n                            *Includes state and local taxes of\n                            {{\n                              estimate.hasOwnProperty(\"totalTax\")\n                              ? \"$ \" + estimate.totalTax.toFixed(2)\n                              : \"-\"\n                            }}\n                          </p>\n                        </v-row>\n                      </v-col>\n                    </v-row>\n                  </v-col>\n                </v-row>\n              </v-container>\n            </v-form>\n          </v-card-text>\n          <v-card-actions class=\"pt-0 mt-4 pb-10\">\n            <v-container class=\"pa-0 text-center\" v-if=\"isPQREndReservation\">\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"px-2\">\n                  <v-btn rounded elevation=\"0\" class=\"add_licence_plate_btn white--text\" :disabled=\"disableSubmitBtn\"\n                    :loading=\"addPaymentBtnLoading\" @click=\"addPayment\">Continue</v-btn>\n                </v-col>\n              </v-row>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"px-2 mt-4\">\n                  <v-btn rounded elevation=\"0\" width=\"50%\" class=\"white--text\" color=\"primary\"\n                    v-if=\"this.casinoDetails.userDetail.bid\" @click=\"reloadBooking\">Cancel</v-btn>\n                </v-col>\n              </v-row>\n            </v-container>\n            <v-container class=\"pa-0\" fluid v-else>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"px-2\">\n                  <v-btn rounded elevation=\"0\" class=\"add_licence_plate_btn white--text\"\n                    :loading=\"addLicencePlateBtnLoading\" :disabled=\"disableAddLicencePlateBtn\" @click=\"createSession()\">{{\n                      reEnterPlate ? \"Confirm\" : \"Continue\" }}</v-btn>\n                </v-col>\n              </v-row>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"mt-2 text-center color-black px-2\" style=\"font-size: 12px\">\n                  <p class=\"mb-0\" v-show=\"reEnterPlate\">\n                    Please provide correct license plate and phone number.\n                    Without one, you could be subject to a parking violation and\n                    issued a citation.\n                  </p>\n                  <p class=\"mb-0\">\n                    A valid credit card is required to park. Without one, you\n                    could be subject to a parking violation and issued a\n                    citation.\n                  </p>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n    <v-dialog v-model=\"alertDialog\" persistent max-width=\"290\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\" style=\"position: relative\">\n          <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">{{ alertMsg }}</span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"alertDialog = false\">Close</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"confirmCreateSessionDialog\" max-width=\"fit-content\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\">\n          <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\" style=\"font-size: 15px\">\n          <span v-html=\"errMsg\"></span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"setReenterPlateFlag\">OK</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n<script>\n// import Vue from \"vue\";\nimport { mapGetters } from \"vuex\";\nimport { addMinutes } from \"date-fns\";\nimport { format } from \"date-fns\";\nimport { dateToTimeZoneDate } from \"@/utils/formatDateTime\";\n// import axios from \"axios\";\nimport APIHelper from \"../apiHelper\";\nimport VuePhoneNumberInput from \"vue-phone-number-input\";\nimport \"vue-phone-number-input/dist/vue-phone-number-input.css\";\n// import moment from \"moment\";\n// Vue.use(moment);\nimport rules from \"@/utils/rules\";\nexport default {\n  data: () => ({\n    // isPQREndReservation: true,\n    edtPhoneInput: false,\n    contactDisabled: false,\n    selectedPlate: \"\",\n    reEnterPlate: false,\n    edtBid: null,\n    confirmCreateSessionDialog: false,\n    addLicencePlateBtnLoading: false,\n    errDialog: false,\n    errMsg: \"\",\n    alertDialog: false,\n    alertMsg: \"\",\n    stopTime: \"\",\n    exitTimeSelected: {},\n    timePickerHrRange: null,\n    timeExceeded: false,\n    timePickerMinRange: null,\n    minDate: null,\n    maxDate: null,\n    disableAddPaymentBtn: false,\n    maxDateTime: null,\n    getRateCall: false,\n    getRateText: \"\",\n    Timemenu: false,\n    startDate: \"\",\n    estimate: null,\n    Datemenu: false,\n    exitDate: null,\n    dateFormatted: null,\n    rules: rules,\n    isContactValid: true,\n    licencePlate: \"\",\n    contactObj: {},\n    loading: false,\n    contactOptions: {\n      color: \"#0288D1\",\n      validColor: \"#0288D1\",\n      contactBorderRadius: 0,\n      errorColor: \"#FF5252\",\n      defaultCountry: \"US\",\n      translations: {\n        phoneNumberLabel: \"Contact No\",\n      },\n    },\n    addPaymentBtnLoading: false,\n  }),\n  components: {\n    VuePhoneNumberInput,\n  },\n  beforeRouteEnter(to, from, next) {\n    next(async (vm) => {\n      let searchParams = window.location.search.split(\"=\");\n      let searchParamKey = searchParams.length > 0 ? searchParams[0] : \"\";\n      let searchParamValue = searchParams.length > 0 ? searchParams[1] : \"\";\n      switch (searchParamKey) {\n        case \"?zcode\":\n          await vm.getZoneDetails(searchParamKey, searchParamValue);\n          if (vm.isPQREndReservation) {\n            await vm.getOnDemandZoneDetails(searchParamValue);\n            vm.setDefaultDate();\n          }\n          break;\n        case \"?gateid\":\n          //await self.getZoneDetails(searchParamKey, searchParamValue);\n          break;\n      }\n      if (vm.isPQREndReservation) {\n        vm.contactObj =\n          vm.casinoDetails != null &&\n            Object.hasOwnProperty.call(vm.casinoDetails, \"userDetail\") &&\n            Object.hasOwnProperty.call(vm.casinoDetails?.userDetail, \"contact\") &&\n            vm.casinoDetails?.userDetail?.contact != undefined &&\n            vm.casinoDetails?.userDetail?.contact != null\n            ? Object.assign(vm.contactObj, {\n              countryCode:\n                vm.casinoDetails?.userDetail?.contact.slice(0, -10) == \"+91\"\n                  ? \"IN\"\n                  : vm.casinoDetails?.userDetail?.contact.slice(0, -10) ==\n                    \"+1\"\n                    ? \"US\"\n                    : \"\",\n              phoneNumber: vm.casinoDetails?.userDetail?.contact,\n              formattedNumber: \"+\" + vm.casinoDetails.userDetail.contact,\n            })\n            : {};\n        vm.licencePlate = vm.casinoDetails?.userDetail.plate\n          ? vm.casinoDetails?.userDetail.plate\n          : \"\";\n        if (window.location.href.includes('bid')) {\n          let hrefParams = window.location.href.split('createsession');\n          let paramArray = hrefParams[1].split('&')\n          let phoneParam = paramArray[0].split('=')[1];\n          let bidParam = paramArray[1].split('=')[1];\n          let plateParam = paramArray[2].split('=')[1];\n          // vm.contactObj.phoneNumber = phoneParam;\n          vm.licencePlate = plateParam;\n          vm.edtBid = bidParam;\n          let guestContact = phoneParam ? {\n            countryCode:\n              phoneParam.slice(0, -10) == \"91\"\n                ? \"IN\"\n                : phoneParam.slice(0, -10) == \"1\"\n                  ? \"US\"\n                  : \"\",\n            phoneNumber: phoneParam,\n            formattedNumber: \"+\" + phoneParam,\n          } : vm.contactObj;\n          if (phoneParam !== \"\" && phoneParam !== null && phoneParam != undefined) {\n            vm.edtPhoneInput = true;\n            vm.contactObj = Object.assign({}, guestContact);\n            vm.contactDisabled = true;\n            vm.contactObj.isValid = true;\n          }\n\n          let commitData = {\n            plate: vm.licencePlate,\n            contact: vm.contactObj?.formattedNumber,\n            bid: vm.edtBid\n          }\n          vm.$store.commit(\"SET_CASINO_USERDETAILS\", commitData);\n          vm.$store.commit(\"SET_TEMPLATE_FLAGS\", 'atlantic-flag');\n\n        }\n      }\n      else {\n        vm.edtPhoneInput = false;\n      }\n    });\n  },\n  watch: {\n    exitDate(newVal, oldVal) {\n      let date = format(addMinutes(new Date(this.exitDate), 15), \"yyyy-MM-dd\");\n      this.dateFormatted = this.formatDate(date);\n      if (\n        oldVal != newVal &&\n        this.exitDate ==\n        format(\n          dateToTimeZoneDate(\n            addMinutes(new Date(), 15),\n            this.onDemandZoneDetails.timeZone\n          ),\n          \"yyyy-MM-dd\"\n        )\n      ) {\n        this.getRateCall = true;\n        this.setDefaultDate();\n      } else {\n        this.getRateCall = false;\n      }\n    },\n    // exitTimeSelected(newVal, oldVal) {\n    //   if (oldVal != null && newVal != null && oldVal?.a != newVal?.a) {\n    //     this.exitTimeSelected = Object.assign(this.exitTimeSelected, {\n    //       hh: \"\",\n    //       mm: \"\",\n    //     });\n    //   }\n    //   if (oldVal != null && newVal != null && oldVal?.hh != newVal?.hh) {\n    //     this.exitTimeSelected = Object.assign(this.exitTimeSelected, {\n    //       mm: \"\",\n    //     });\n    //   }\n\n    //   this.setTimePicker(newVal);\n    // },\n  },\n  computed: {\n    ...mapGetters({\n      casinoDetails: \"getterCasinoDetails\",\n      zoneDetails: \"getterZoneDetails\",\n      onDemandZoneDetails: \"getterOnDemandZoneDetails\",\n      templateFlags: \"getterTemplateFlags\",\n      isPQREndReservation: \"getterZoneIsPQREndReservation\",\n    }),\n    infoFlag() {\n      return this.contactObj == null ||\n        !this.contactObj.isValid ||\n        this.contactObj.phoneNumber == \"\" ||\n        this.contactObj.phoneNumber == null ||\n        this.licencePlate === \"\" ||\n        this.licencePlate === null\n        ? false\n        : true;\n    },\n    timeFlag() {\n      return this.exitDate === null ||\n        this.disableAddPaymentBtn ||\n        this.estimate === null ||\n        this.estimate === \"\" ||\n        this.exitDate === \"\"\n        ? false\n        : true;\n    },\n    paymentFlag() {\n      return this.estimate === null ||\n        this.estimate === \"\" ||\n        this.estimate.hasOwnProperty.call(\"grandTotal\") ||\n        this.estimate.hasOwnProperty.call(\"totalPrice\") ||\n        this.estimate.hasOwnProperty.call(\"totalFee\") ||\n        this.estimate.hasOwnProperty.call(\"totalTax\")\n        ? false\n        : true;\n    },\n    computedDateFormatted() {\n      return this.formatDate(this.exitDate);\n    },\n    disableSubmitBtn() {\n      let disabled =\n        this.contactObj == null ||\n        !this.contactObj.isValid ||\n        this.contactObj.phoneNumber == \"\" ||\n        this.contactObj.phoneNumber == null ||\n        this.licencePlate === \"\" ||\n        this.licencePlate === null ||\n        this.exitDate === null ||\n        this.disableAddPaymentBtn ||\n        this.estimate === null ||\n        this.estimate === \"\";\n      this.exitDate === \"\";\n      disabled =\n        this.licencePlate != \"\" && this.licencePlate != null\n          ? disabled || /^[a-z0-9]+$/i.test(this.licencePlate) === false\n          : disabled;\n      return disabled;\n    },\n    disableAddLicencePlateBtn() {\n      if (this.zoneDetails.lpr_status == \"0\") {\n        return this.isContactValid == false ? true : false;\n      } else {\n        return this.isContactValid == false ||\n          this.licencePlate == \"\" ||\n          this.licencePlate == null ||\n          /^[a-z0-9]+$/i.test(this.licencePlate) === false\n          ? true\n          : false;\n      }\n    },\n  },\n  mounted() {\n    this.setDefaultDate();\n    // this.setTimePicker();\n  },\n  methods: {\n    reloadBooking() {\n      let url = window.location.origin + \"/g/\" + this.casinoDetails.userDetail.bid;\n      window.location.replace(url);\n    },\n    setDefaultDate() {\n      this.exitDate = this.onDemandZoneDetails.timeZone\n        ? format(\n          dateToTimeZoneDate(\n            addMinutes(new Date(), 15),\n            this.onDemandZoneDetails.timeZone\n          ),\n          \"yyyy-MM-dd\"\n        )\n        : format(addMinutes(new Date(), 15), \"yyyy-MM-dd\");\n      this.dateFormatted = this.onDemandZoneDetails.timeZone\n        ? format(\n          dateToTimeZoneDate(\n            addMinutes(new Date(), 15),\n            this.onDemandZoneDetails.timeZone\n          ),\n          \"MM/dd/yyyy\"\n        )\n        : format(addMinutes(new Date(), 15), \"MM/dd/yyyy\");\n      this.dateTimeChange();\n    },\n    onTimePickerChange(event) {\n      this.stopTime =\n        event.data.HH != \"\" && event.data.mm != \"\" && event.data.A != \"\"\n          ? event.data.HH + \":\" + event.data.mm + \":00\"\n          : \"\";\n      let currenTime = this.onDemandZoneDetails.timeZone\n        ? format(\n          dateToTimeZoneDate(new Date(), this.onDemandZoneDetails.timeZone),\n          \"yyyy-MM-dd HH:mm:ss\"\n        )\n        : format(new Date(), \"yyyy-MM-dd  HH:mm:ss\");\n      if (\n        event.data.HH != \"hh\" &&\n        event.data.mm != \"mm\" &&\n        this.stopTime != \"\" &&\n        new Date(this.exitDate + \" \" + this.stopTime).getTime() >\n        new Date(currenTime).getTime()\n      ) {\n        this.dateTimeChange();\n      }\n    },\n    setDatePicker() {\n      //set the minimum date to today date(zone time zone date)\n      this.minDate = this.onDemandZoneDetails.timeZone\n        ? format(\n          dateToTimeZoneDate(\n            addMinutes(new Date(), 15),\n            this.onDemandZoneDetails.timeZone\n          ),\n          \"yyyy-MM-dd\"\n        )\n        : format(addMinutes(new Date(), 15), \"yyyy-MM-dd\");\n      //calculate max parkign time in seconds\n      let maxParkingTime =\n        this.onDemandZoneDetails != null\n          ? Number(this.onDemandZoneDetails.maxParkingTime.days) *\n          24 *\n          60 *\n          60 +\n          Number(this.onDemandZoneDetails.maxParkingTime.hours) * 60 * 60 +\n          Number(this.onDemandZoneDetails.maxParkingTime.minutes) * 60\n          : null;\n      let currentDateTime = new Date().getTime();\n\n      //get max date in seconds based on max parking time\n      let maxZoneDate =\n        maxParkingTime != null ? currentDateTime + maxParkingTime * 1000 : null;\n      this.maxDate = this.onDemandZoneDetails.timeZone\n        ? format(\n          dateToTimeZoneDate(\n            new Date(maxZoneDate),\n            this.onDemandZoneDetails.timeZone\n          ),\n          \"yyyy-MM-dd\"\n        )\n        : format(new Date(), \"yyyy-MM-dd\");\n      this.exitDate = this.onDemandZoneDetails.timeZone\n        ? format(\n          dateToTimeZoneDate(\n            addMinutes(new Date(), 15),\n            this.onDemandZoneDetails.timeZone\n          ),\n          \"yyyy-MM-dd\"\n        )\n        : format(addMinutes(new Date(), 15), \"yyyy-MM-dd\");\n      //get max date with time and set it to maxDateTime\n      this.maxDateTime = this.onDemandZoneDetails.timeZone\n        ? format(\n          dateToTimeZoneDate(\n            new Date(maxZoneDate),\n            this.onDemandZoneDetails.timeZone\n          ),\n          \"yyyy-MM-dd hh:mm aaaaa\"\n        )\n        : format(new Date(), \"yyyy-MM-dd hh:mm aaaaa\");\n    },\n    // setTimePicker(val) {\n    //   // let currentTimeMeridian = this.onDemandZoneDetails.timeZone\n    //   //   ? format(\n    //   //       dateToTimeZoneDate(\n    //   //         addMinutes(new Date(), 15),\n    //   //         this.onDemandZoneDetails.timeZone\n    //   //       ),\n    //   //       \"aaa\"\n    //   //     )\n    //   //   : format(new Date(), \"aaa\");\n    //   // let currentHr = this.onDemandZoneDetails.timeZone\n    //   //   ? format(\n    //   //       dateToTimeZoneDate(\n    //   //         addMinutes(new Date(), 15),\n    //   //         this.onDemandZoneDetails.timeZone\n    //   //       ),\n    //   //       \"h\"\n    //   //     )\n    //   //   : format(new Date(), \"h\");\n    //   // console.log(currentHr)\n\n    //   //get the todays current zone time\n    //   let currentTime = this.onDemandZoneDetails.timeZone\n    //     ? format(\n    //       dateToTimeZoneDate(\n    //         addMinutes(new Date(), 15),\n    //         this.onDemandZoneDetails.timeZone\n    //       ),\n    //       \"haaaaa\"\n    //     )\n    //     : format(addMinutes(new Date(), 15), \"haaaaa\");\n    //   //set the hr range\n    //   if (\n    //     this.exitDate ==\n    //     format(\n    //       dateToTimeZoneDate(\n    //         addMinutes(new Date(), 15),\n    //         this.onDemandZoneDetails.timeZone\n    //       ),\n    //       \"yyyy-MM-dd\"\n    //     )\n    //   ) {\n    //     this.timePickerHrRange = [\n    //       [currentTime == \"12a\" ? \"0a\" : currentTime, \"11p\"],\n    //     ];\n    //   }\n    //   // if maxdate == exit date\n    //   else if (\n    //     this.maxDateTime != null &&\n    //     this.maxDateTime.split(\" \")[0] == this.exitDate\n    //   ) {\n    //     let time = this.maxDateTime.split(\" \")[1];\n    //     let hr = time.split(\":\")[0] + this.maxDateTime.split(\" \")[2];\n    //     hr == \"12a\"\n    //       ? \"0a\"\n    //       : time.split(\":\")[0] + this.maxDateTime.split(\" \")[2];\n    //     this.timePickerHrRange = [[\"0a\", hr]];\n    //   } else {\n    //     this.timePickerHrRange = null;\n    //   }\n\n    //   let hrInPM = this.onDemandZoneDetails.timeZone\n    //     ? format(\n    //       dateToTimeZoneDate(\n    //         addMinutes(new Date(), 15),\n    //         this.onDemandZoneDetails.timeZone\n    //       ),\n    //       \"hhaaa\"\n    //     )\n    //     : format(new Date(), \"hhaaa\");\n    //   //set the min range\n    //   if (\n    //     this.exitDate ==\n    //     format(\n    //       dateToTimeZoneDate(\n    //         addMinutes(new Date(), 15),\n    //         this.onDemandZoneDetails.timeZone\n    //       ),\n    //       \"yyyy-MM-dd\"\n    //     ) &&\n    //     val != null &&\n    //     hrInPM == val?.hh + val.a\n    //   ) {\n    //     this.timePickerMinRange = [\n    //       [\n    //         this.onDemandZoneDetails.timeZone\n    //           ? Number(\n    //             format(\n    //               dateToTimeZoneDate(\n    //                 addMinutes(new Date(), 15),\n    //                 this.onDemandZoneDetails.timeZone\n    //               ),\n    //               \"mm\"\n    //             )\n    //           )\n    //           : Number(format(addMinutes(new Date(), 15), \"mm\")),\n    //         59,\n    //       ],\n    //     ];\n    //   } else if (\n    //     this.maxDateTime != null &&\n    //     this.maxDateTime.split(\" \")[0] == this.exitDate\n    //   ) {\n    //     let time = this.maxDateTime.split(\" \")[1];\n    //     let hr = time.split(\":\")[0] + this.maxDateTime.split(\" \")[2];\n    //     if (val != null && hr == val?.hh + val.a[0]) {\n    //       let min = time.split(\":\")[1];\n    //       this.timePickerMinRange = [[0, min]];\n    //     } else {\n    //       this.timePickerMinRange = [[0, 59]];\n    //     }\n    //   } else {\n    //     this.timePickerMinRange = [[0, 59]];\n    //   }\n    //   if (\n    //     this.exitTimeSelected == null &&\n    //     this.onDemandZoneDetails?.timeZone != undefined\n    //   ) {\n    //     this.timePickerHrRange = [];\n    //     this.timePickerMinRange = [];\n    //     return;\n    //   } else if (this.exitTimeSelected?.hh == \"\") {\n    //     this.timePickerMinRange = [];\n    //   }\n    // },\n    // openTimePicker() {\n    //   this.setTimePicker(this.exitTimeSelected);\n    // },\n    /** @methods to find the estimate rate \n     @params startDate , stopDate,zcode, type , env_overRide\n     */\n\n    async dateTimeChange() {\n      try {\n        //format(new Date(this.checkinDate), \"yyyy-MM-dd'T'HH:mm:ss\");\n        // this.setTimePicker();\n\n        this.startDate = this.onDemandZoneDetails.timeZone\n          ? format(\n            dateToTimeZoneDate(\n              new Date(),\n              this.onDemandZoneDetails.timeZone\n            ),\n            \"yyyy-MM-dd'T'HH:mm:ss\"\n          )\n          : format(new Date(), \"yyyy-MM-dd'T'HH:mm:ss\");\n        //?.hh+\":\"+this.exitTimeSelected.mm+\":00\"//format(this.checkoutDate, \"yyyy-MM-dd'T'HH:mm:ss\")\n        let stopDate = this.exitDate + \"T23:59:00\";\n        let data = {\n          startAt: this.startDate,\n          stopAt: stopDate,\n          zcode: this.zoneDetails.zcode,\n        };\n        this.addPaymentBtnLoading = true;\n        var getRate = await APIHelper(\"POST\", \"/api/v2/getRate\", data);\n        //condition to check if the date time selected is lesser than current time\n        if (!getRate?.data?.status && !this.getRateCall) {\n          this.disableAddPaymentBtn = true;\n          this.alertDialog = true;\n          this.alertMsg =\n            getRate?.data?.message || \"Error in getting rate details\";\n        } else {\n          this.disableAddPaymentBtn = false;\n        }\n        this.estimate = Object.assign({}, getRate?.data?.data);\n        // estimatedVal != \"\" &&\n        // estimatedVal != null &&\n        // estimatedVal != undefined\n        //   ? Number(estimatedVal).toFixed(2)\n        //   : estimatedVal;\n        this.addPaymentBtnLoading = false;\n      }\n      catch (error) {\n        this.addPaymentBtnLoading = false;\n        console.log(error);\n      }\n    },\n    formatDate(date) {\n      let stringdate = date.toString();\n      if (!date) return null;\n\n      const [year, month, day] = stringdate.split(\"-\");\n      return `${month}/${day}/${year}`;\n    },\n    parseDate(date) {\n      if (!date) return null;\n\n      const [month, day, year] = date.split(\"/\");\n      return `${year}-${month.padStart(2, \"0\")}-${day.padStart(2, \"0\")}`;\n    },\n    async addPayment() {\n      let exitDateTime =\n        this.exitDate +\n        \" \" +\n        \"11\" +\n        \":\" +\n        \"59\" +\n        \" \" +\n        \"PM\";\n      let entryDateTime = this.onDemandZoneDetails.timeZone\n        ? format(\n          dateToTimeZoneDate(new Date(), this.onDemandZoneDetails.timeZone),\n          \"yyyy-MM-dd hh:mm a\"\n        )\n        : format(new Date(), \"yyyy-MM-dd'T'HH:mm a\");\n      let commitData = {\n        plate: this.licencePlate,\n        contact: this.contactObj?.formattedNumber,\n        entryTime: entryDateTime,\n        exitTime: exitDateTime,\n        estimate: this.estimate,\n      };\n      let details = await APIHelper(\"POST\", \"/api/v1/prepaid/openTransaction\", {\n        vehicleNo: this.licencePlate,\n        contact: this.contactObj?.formattedNumber,\n        exitTime: exitDateTime, zcode: this.zoneDetails?.zcode,\n        mid: this.zoneDetails?.mid,\n        eventType: \"PaidHostPass\",\n      });\n\n      if (details?.data?.status) {\n        this.$store.commit(\"SET_CASINO_USERDETAILS\", commitData);\n        this.$router.replace({ path: \"/prepaidhost/makepayment\" });\n      } else {\n        if (details?.data?.message == \"Booking Already Exists\") {\n          let commitData = {\n            plate: this.licencePlate,\n            contact: this.contactObj.formattedNumber,\n            entryTime: entryDateTime,\n            exitTime: exitDateTime,\n            estimate: this.estimate,\n            bid: details?.data?.data?.bid\n          };\n          if (details?.data?.data?.cardOnFile == 0 || details?.data?.data?.cardOnFile == 2) {\n            this.$store.commit(\"SET_CASINO_USERDETAILS\", commitData);\n            this.$router.replace({ path: \"/prepaidhost/makepayment\" });\n          }\n          else if (details?.data?.data?.cardOnFile == 1) {\n            // this.$store.commit(\"SET_CASINO_USERDETAILS\", commitData);\n            // this.$router.replace({ path: \"/prepaidhost/odReceipt\" });\n            let url = window.location.origin + \"/g/\" + details?.data?.data?.bid;\n            window.location.replace(url);\n          }\n\n        }\n        this.alertMsg = details?.data?.message ? details?.data?.message : \"\";\n\n        this.alertDialog = true;\n      }\n    },\n\n    uppercase() {\n      this.licencePlate = this.licencePlate.toUpperCase();\n    },\n    /**\n     * @method getZoneDetails fetch the zone details and commit SET_ZONE_DETAILS mutation.\n     */\n    async getZoneDetails(searchParamKey, searchParamValue) {\n      try {\n        var zoneDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/user/config\" + searchParamKey + \"=\" + searchParamValue\n        );\n        this.$store.commit(\"SET_ZONE_DETAILS\", zoneDetails.data?.zone);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    /**\n     * @method getOnDemandZoneDetails fetch the ondemand zone details from Pcom and commit SET_ZONE_DETAILS mutation.\n     */\n    async getOnDemandZoneDetails(searchParamValue) {\n      this.loading = true;\n      try {\n        var zoneDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/getOnDemand/\" + searchParamValue\n        );\n        this.loading = false;\n        if (zoneDetails.data?.lot) {\n          this.$store.commit(\n            \"SET_ON_DEMAND_ZONE_DETAILS\",\n            zoneDetails.data?.lot\n          );\n          this.setDatePicker();\n          // this.setTimePicker();\n        } else {\n          this.alertMsg =\n            zoneDetails?.data?.message || \"Error in loading location details.\";\n          this.alertDialog = true;\n        }\n      } catch (error) {\n        this.loading = false;\n        console.log(error);\n      }\n    },\n    onContactInput(contactDetails) {\n      this.isContactValid = contactDetails?.isValid;\n      this.contactObj = Object.assign({}, contactDetails);\n    },\n    setReenterPlateFlag() {\n      this.licencePlate = this.selectedPlate || \"\";\n      this.reEnterPlate = true;\n      this.confirmCreateSessionDialog = false;\n    },\n    /**\n     * @method createSession Fetch booking id on add booking and fetch the booking info.\n     */\n    async createSession() {\n      this.addLicencePlateBtnLoading = true;\n      let postObj = {\n        contact: this.contactObj?.formattedNumber,\n        uniqueID: this.contactObj?.nationalNumber,\n        vehicleNo: this.licencePlate.toUpperCase(),\n        locationCode: this.zoneDetails.zcode,\n        zid: this.zoneDetails.zid,\n        entrytime: format(\n          new Date(\n            new Date().toLocaleString(\"en-US\", {\n              timeZone: this.zoneDetails.timezone,\n            })\n          ),\n          \"yyyy-MM-dd HH:mm:ss\"\n        ),\n        source: \"appclip\",\n        webView: \"1\",\n        type: \"2\",\n        state: 2,\n        payment_status: 0,\n        txnID_addCC: 0,\n      };\n      if (this.reEnterPlate) {\n        Object.assign(postObj, { createNewSession: 1 });\n      }\n      try {\n        var session = await APIHelper(\"POST\", \"/api/v1/addBooking\", postObj);\n        let bid = session?.data?.refno;\n        if (session.data.status === false) {\n          this.errMsg = session?.data?.message ? session.data.message : \"\";\n          if (\n            session?.data?.showCreateNewSessionPopup &&\n            session.data.showCreateNewSessionPopup == 1\n          ) {\n            this.postToLoggerAPI({\n              phone: this.contactObj?.nationalNumber,\n              plate: this.licencePlate.toUpperCase(),\n              statusText: \"Parker session not found in the system.\",\n            });\n            this.confirmCreateSessionDialog = true;\n            this.addLicencePlateBtnLoading = false;\n            return;\n          }\n          this.errDialog = true;\n          this.addLicencePlateBtnLoading = false;\n          return;\n        }\n        await this.getBookingDetails(bid);\n        let url = window.location.origin + \"/g/\" + bid;\n        this.addLicencePlateBtnLoading = false;\n        this.reEnterPlate\n          ? this.postToLoggerAPI({\n            phone: this.contactObj?.nationalNumber,\n            refId: bid,\n            icon: \"login\",\n            plate: this.licencePlate.toUpperCase(),\n            statusText:\n              \"Parker plate/contact number not found in the system. Parker created a new session using generic payment QR\",\n          })\n          : this.postToLoggerAPI({\n            phone: this.contactObj?.nationalNumber,\n            refId: bid,\n            icon: \"login\",\n            plate: this.licencePlate.toUpperCase(),\n            statusText:\n              \"Parker session found. Parker opened his/her session using generic payment QR\",\n          });\n\n        window.location.replace(url);\n      } catch (error) {\n        this.addLicencePlateBtnLoading = false;\n        console.log(error);\n      }\n    },\n    /**\n     * @method getBookingDetails fetch the booking details and commit SET_BOOKING_DETAILS mutation.\n     */\n    async getBookingDetails(bookingId) {\n      try {\n        var bookingDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/booking/config/\" + bookingId\n        );\n        this.$store.commit(\n          \"SET_BOOKING_DETAILS\",\n          bookingDetails.data?.data ? bookingDetails.data.data : null\n        );\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    closeConfirmCreateSessionDialog() {\n      this.confirmCreateSessionDialog = false;\n      this.addLicencePlateBtnLoading = false;\n    },\n  },\n};\n</script>\n<style lang=\"less\" >\n.information {\n  background-color: #edf1f4;\n}\n\n.booking_header {\n  position: absolute;\n  bottom: 30px;\n  left: 16px;\n  font-size: 18px;\n  font-weight: bolder;\n}\n\n.add_licence_plate_btn {\n  width: 100%;\n  background-color: #f2555c !important;\n  font-size: 18px !important;\n  font-weight: 700 !important;\n  letter-spacing: normal !important;\n  height: 50px !important;\n}\n\n.country-selector.md.has-value .country-selector__input {\n  border: none;\n  border-bottom: 1px solid rgb(118, 118, 118);\n}\n\n.input-tel.md .input-tel__input {\n  border: none;\n  border-bottom: 1px solid rgb(118, 118, 118);\n  margin-left: 2px;\n}\n\n.input-tel.is-focused.has-error .input-tel__input {\n  box-shadow: none !important;\n}\n\n.input-tel.is-focused.is-valid .input-tel__input {\n  box-shadow: none !important;\n}\n\n.time-picker-input {\n  flex: 1 1 auto;\n  line-height: 20px;\n  padding: 8px 0 8px;\n  max-width: 100%;\n  min-width: 0px;\n  font-size: 16px;\n  font-family: \"Work Sans\";\n}\n\n.time-picker-input :focus-visible {\n  outline-color: #1976d2;\n}\n\n.vue__time-picker input.display-time {\n  padding: 0px !important;\n  border-bottom: 1px solid #767676;\n  border-top: 0px;\n  border-right: 0px;\n  border-left: 0px;\n}\n\n.vue__time-picker-dropdown ul li:not([disabled]).active,\n.vue__time-picker-dropdown ul li:not([disabled]).active:focus,\n.vue__time-picker-dropdown ul li:not([disabled]).active:hover,\n.vue__time-picker .dropdown ul li:not([disabled]).active,\n.vue__time-picker .dropdown ul li:not([disabled]).active:focus,\n.vue__time-picker .dropdown ul li:not([disabled]).active:hover {\n  background: #f2555c !important;\n}\n\n[data-key=\"am\"] {\n  border: 0.2px solid red;\n  border-radius: 2px;\n  margin-left: 2px;\n}\n\n[data-key=\"pm\"] {\n  border: 0.2px solid red;\n  margin-top: 0.5em;\n  margin-left: 2px;\n}\n\n.hours .hint {\n  position: sticky;\n  top: 0;\n  text-align: center;\n  background: #68808c;\n  z-index: 1;\n  -webkit-text-fill-color: white;\n  margin-bottom: 10px;\n}\n\n.apms .hint {\n  position: sticky;\n  top: 0;\n  text-align: center;\n  background: #68808c;\n  z-index: 1;\n  margin-left: 1px;\n  -webkit-text-fill-color: white;\n  margin-bottom: 10px;\n}\n\n.hours::-webkit-scrollbar {\n  display: none;\n}\n\n.minutes::-webkit-scrollbar {\n  display: none;\n}\n\n.minutes .hint {\n  position: sticky;\n  top: 0;\n  text-align: center;\n  background: #68808c;\n  z-index: 1;\n  -webkit-text-fill-color: white;\n  margin-bottom: 10px;\n}\n\nhr {\n  border: 1px solid #ffbc1f;\n}\n\n// .vue__time-picker input.display-time{\n//   border-bottom:1px solid #767676;\n//     border-top:0px;\n//     border-right:0px;\n//     border-left:0px;\n// }\n</style>"]}]}