{"remainingRequest":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/guest-webapp/src/views/P2PPaymentView.vue?vue&type=style&index=0&id=07afb857&scoped=true&lang=css&","dependencies":[{"path":"/home/vignesh/DIVRT/guest-webapp/src/views/P2PPaymentView.vue","mtime":1674471205825},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYm9va2luZ19kYXRlIHsKICAgIGZvbnQtd2VpZ2h0OiBub3JtYWw7CiAgICBmb250LXNpemU6IDEzcHg7CiAgICBjb2xvcjogIzNkM2YzYyAhaW1wb3J0YW50Owp9CgouYm9va2luZ19kYXRlX2hlYWRlciB7CiAgICBjb2xvcjogIzNkM2YzYyAhaW1wb3J0YW50OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBmb250LXNpemU6IDE0cHg7Cn0KCi5hZGRfbGljZW5jZV9wbGF0ZV9idG4gewogICAgd2lkdGg6IDEwMCU7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjI1NTVjICFpbXBvcnRhbnQ7CiAgICBmb250LXNpemU6IDE4cHggIWltcG9ydGFudDsKICAgIGZvbnQtd2VpZ2h0OiA3MDAgIWltcG9ydGFudDsKICAgIGxldHRlci1zcGFjaW5nOiBub3JtYWwgIWltcG9ydGFudDsKICAgIGhlaWdodDogNTBweCAhaW1wb3J0YW50Owp9Cg=="},{"version":3,"sources":["P2PPaymentView.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkSA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"P2PPaymentView.vue","sourceRoot":"src/views","sourcesContent":["<template>\n    <v-container>\n        <v-row class=\"text-center\" no-gutters>\n            <v-col cols=\"12\">\n                <v-img alt=\"PARKING.COM\" class=\"my-3\" height=\"42\" contain src=\"../assets/logo_huge_drk.png\" />\n            </v-col>\n        </v-row>\n        <v-row no-gutters>\n            <v-col>\n                <v-card class=\"mx-auto rounded-lg\" max-width=\"374\">\n                    <template slot=\"progress\">\n                        <v-progress-linear color=\"red\" height=\"10\" indeterminate></v-progress-linear>\n                    </template>\n                    <div style=\"position: relative\">\n                        <!-- <v-skeleton-loader\n                v-show=\"!zoneDetails.hasOwnProperty('image')\"\n                height=\"260px\"\n                class=\"rounded-t-lg\"\n                type=\"image\"\n            ></v-skeleton-loader>-->\n                        <v-img class=\"rounded-t-lg\" max-height=\"260px\" style=\"filter: brightness(50%)\" :src=\"\n                            bookingDetails.zone.hasOwnProperty('image') &&\n                                bookingDetails.zone.image != '' &&\n                                bookingDetails.zone.image != null\n                                ? bookingDetails.zone.image\n                                : zoneImgURL\n                        \" :lazy-src=\"\n    bookingDetails.zone.hasOwnProperty('image') &&\n        bookingDetails.zone.image != '' &&\n        bookingDetails.zone.image != null\n        ? bookingDetails.zone.image\n        : zoneImgURL\n\" alt=\"Parking.com garage\">\n                            <template v-slot:placeholder>\n                                <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\" no-gutters>\n                                    <v-progress-circular indeterminate color=\"grey lighten-5\"></v-progress-circular>\n                                </v-row>\n                            </template>\n                        </v-img>\n                        <div class=\"booking_header white--text text-left mr-4\">\n                            {{\n                                bookingDetails.zone.hasOwnProperty(\"zoneName\")\n                                    ? bookingDetails.zone.zoneName\n                                    : \"\"\n                            }}\n                        </div>\n                    </div>\n                    <v-card-text>\n                        <v-container fluid pa-0>\n                            <v-row no-gutters class=\"mt-0\">\n                                <v-col class=\"pa-1\">\n                                    <p class=\"black--text\">\n                                        Here's a estimate for your active session at\n                                        {{\n                                            bookingDetails.zone.hasOwnProperty(\"zoneName\")\n                                                ? bookingDetails.zone.zoneName\n                                                : \"\"\n                                        }}\n                                    </p>\n                                </v-col>\n                            </v-row>\n                            <v-row no-gutters class=\"mt-1 mx-0\">\n                                <v-col cols=\"4\" class=\"text-left pa-1\">\n                                    <p class=\"booking_date_header mb-0\">Started At:</p>\n                                </v-col>\n                                <v-col class=\"text-right pa-1\">\n                                    <p class=\"booking_date mb-0\">\n                                        {{\n                                        (bookingDetails.hasOwnProperty('booking') &&\n    bookingDetails.booking.hasOwnProperty(\"entrytime\")\n    ? formatToReceiptDateTime(\n        bookingDetails.booking.entrytime\n    )\n    : \"\")\n                                        }}\n                                    </p>\n                                </v-col>\n                            </v-row>\n                            <v-row no-gutters class=\"mx-0\">\n                                <v-col cols=\"4\" class=\"text-left pa-1\">\n                                    <p class=\"booking_date_header\">End At:</p>\n                                </v-col>\n                                <v-col class=\"text-right pa-1\">\n                                    <p class=\"booking_date\">\n                                        {{\n                                        (bookingDetails.hasOwnProperty('booking') &&\n    bookingDetails.booking.hasOwnProperty(\"exittime\")\n    ? formatToReceiptDateTime(bookingDetails.booking.exittime)\n    : \"\")\n                                        }}\n                                    </p>\n                                </v-col>\n                            </v-row>\n                            <v-container class=\"text-center\">\n                                <p class=\"mb-2\" style=\"font-weight: bold\">TOTAL PARKING</p>\n                                <p class=\"pa-0 ma-0 black--text\" style=\"font-size: x-large\">\n                                    ${{\n                                        bookingDetails.hasOwnProperty(\"booking\")\n                                            ? bookingDetails.booking.amount\n                                            : \"\"\n                                    }}\n                                </p>\n                                <p class=\"mt-4\" style=\"font-size: 13px\">\n                                    * Includes local and state taxes of ${{\n                                        Object.hasOwnProperty.call(bookingDetails, \"booking\")\n                                            ? Number(bookingDetails.booking.totalTax).toFixed(2)\n                                            : \"\"\n                                    }}\n                                    and ${{\n                                        Object.hasOwnProperty.call(bookingDetails, \"booking\")\n                                            ? Number(bookingDetails.booking.totalFee).toFixed(2)\n                                            : \"\"\n                                    }}\n                                    service fee.\n                                </p>\n                            </v-container>\n                        </v-container>\n                    </v-card-text>\n                    <v-card-actions class=\"text-center pt-0 mt-0 pb-9\">\n                        <v-container class=\"pa-0\" fluid>\n                            <!-- <v-row>\n                <v-col cols=\"12\">\n                  <a class=\"text-caption\" @click=\"navigateToReceipt()\">View Receipt</a>\n                </v-col>\n              </v-row> -->\n                            <v-row no-gutters>\n                                <v-col>\n                                    <v-btn class=\"add_licence_plate_btn white--text\" elevation=\"0\" rounded\n                                        @click=\"makePayment\">PROCEED TO\n                                        PAYMENT</v-btn>\n                                </v-col>\n                            </v-row>\n                            <v-row no-gutters class=\"text-center pr-8 pl-8 pt-2\">\n                                <v-col>\n                                    <p style=\"font-size:11px\">Make payment before, Dec 29 2023 8:30 AM to avoid citation\n                                    </p>\n                                </v-col>\n                            </v-row>\n                        </v-container>\n                    </v-card-actions>\n                </v-card>\n            </v-col>\n        </v-row>\n        <v-dialog v-model=\"alertDialog\" persistent max-width=\"290\">\n            <v-card class=\"pa-0\">\n                <v-card-title class=\"justify-center\" style=\"position: relative\">\n                    <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n                </v-card-title>\n                <v-card-text class=\"text-center mt-5\">\n                    <span style=\"font-size: 20px\">{{ alertMsg }}</span>\n                </v-card-text>\n                <v-card-actions class=\"text-center pb-6\">\n                    <v-container pa-0 fluid>\n                        <v-row no-gutters>\n                            <v-col cols=\"12\">\n                                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                                    @click=\"alertDialog = false\">Close</v-btn>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n    </v-container>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport APIHelper from \"../apiHelper\";\nimport rules from \"@/utils/rules\";\nimport { format } from \"date-fns\";\nexport default {\n    data: (vm) => ({\n        alertDialog: false,\n        alertMsg: \"\",\n        time: null,\n        createAcc: false,\n        Timemenu: false,\n        Datemenu: false,\n        date: new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n            .toISOString()\n            .substr(0, 10),\n        dateFormatted: vm.formatDate(\n            new Date(Date.now() - new Date().getTimezoneOffset() * 60000)\n                .toISOString()\n                .substr(0, 10)\n        ),\n        rules: rules,\n        licencePlate: \"\",\n    }),\n    components: {},\n    beforeRouteEnter(to, from, next) {\n        next((vm) => {\n            let searchParams = window.location.search.split(\"=\");\n            let searchParamKey = searchParams.length > 0 ? searchParams[0] : \"\";\n            let searchParamValue = searchParams.length > 0 ? searchParams[1] : \"\";\n            switch (searchParamKey) {\n                case \"?zcode\":\n                    vm.getZoneDetails(searchParamKey, searchParamValue);\n                    break;\n                case \"?gateid\":\n                    //await self.getZoneDetails(searchParamKey, searchParamValue);\n                    break;\n            }\n        });\n    },\n    methods: {\n        formatToReceiptDateTime(dateTime) {\n            console.log(dateTime);\n            return dateTime != null && dateTime != undefined && dateTime != \"\"\n                ? format(\n                    new Date(dateTime),\n                    \"MMM dd, yyyy hh:mm a\"\n                )\n                : \"\";\n        },\n        navigateToReceipt() {\n            this.$router.push({ path: \"/receipt\" });\n        },\n\n        formatDate(date) {\n            if (!date) return null;\n\n            const [year, month, day] = date.split(\"-\");\n            return `${month}/${day}/${year}`;\n        },\n        parseDate(date) {\n            if (!date) return null;\n\n            const [month, day, year] = date.split(\"/\");\n            return `${year}-${month.padStart(2, \"0\")}-${day.padStart(2, \"0\")}`;\n        },\n        uppercase() {\n            this.licencePlate = this.licencePlate.toUpperCase();\n        },\n        /**\n         * @method getZoneDetails fetch the zone details and commit SET_ZONE_DETAILS mutation.\n         */\n        async getZoneDetails(searchParamKey, searchParamValue) {\n            try {\n                var zoneDetails = await APIHelper(\n                    \"GET\",\n                    \"/api/v1/user/config\" + searchParamKey + \"=\" + searchParamValue\n                );\n                this.$store.commit(\"SET_ZONE_DETAILS\", zoneDetails.data?.zone);\n            } catch (error) {\n                console.log(error);\n            }\n        },\n        makePayment() {\n            this.$router.replace('/addpayment')\n        }\n    },\n    watch: {\n        date() {\n            this.dateFormatted = this.formatDate(this.date);\n        },\n    },\n\n    computed: {\n        ...mapGetters({\n            zoneDetails: \"getterZoneDetails\",\n            odDetails: \"getterOdDetails\",\n            casinoDetails: 'getterCasinoDetails',\n            templateFlags: 'getterTemplateFlags',\n            bookingDetails: 'getterBookingDetails'\n        }),\n        computedDateFormatted() {\n            return this.formatDate(this.date);\n        },\n        disableSubmitBtn() {\n            let disabled =\n                this.contactObj == null ||\n                !this.contactObj.isValid ||\n                this.contactObj.phoneNumber == \"\" ||\n                this.contactObj.phoneNumber == null ||\n                this.time == null ||\n                this.time === \"\" ||\n                this.date === null ||\n                this.date === \"\";\n            disabled =\n                this.licencePlate != \"\" && this.licencePlate != null\n                    ? disabled || /^[a-z0-9]+$/i.test(this.licencePlate) === false\n                    : disabled;\n            return disabled;\n        },\n    },\n};\n</script>\n<style scoped>\n.booking_date {\n    font-weight: normal;\n    font-size: 13px;\n    color: #3d3f3c !important;\n}\n\n.booking_date_header {\n    color: #3d3f3c !important;\n    font-weight: bold;\n    font-size: 14px;\n}\n\n.add_licence_plate_btn {\n    width: 100%;\n    background-color: #f2555c !important;\n    font-size: 18px !important;\n    font-weight: 700 !important;\n    letter-spacing: normal !important;\n    height: 50px !important;\n}\n</style>"]}]}