{"remainingRequest":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/guest-webapp/src/uiComponents/SpherePhoneNumberInput/VuePhoneNumberInput/CountrySelector/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vignesh/DIVRT/guest-webapp/src/uiComponents/SpherePhoneNumberInput/VuePhoneNumberInput/CountrySelector/index.vue","mtime":1685440300711},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldENvdW50cnlDYWxsaW5nQ29kZSB9IGZyb20gJ2xpYnBob25lbnVtYmVyLWpzJwppbXBvcnQgU3R5bGVzSGFuZGxlciBmcm9tICdAL1Z1ZVBob25lTnVtYmVySW5wdXQvbWl4aW5zL1N0eWxlc0hhbmRsZXInCgppbXBvcnQgeyBSZWN5Y2xlU2Nyb2xsZXIgfSBmcm9tICd2dWUtdmlydHVhbC1zY3JvbGxlcicKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ291bnRyeVNlbGVjdG9yJywKICBjb21wb25lbnRzOiB7CiAgICBSZWN5Y2xlU2Nyb2xsZXIKICB9LAogIG1peGluczogW1N0eWxlc0hhbmRsZXJdLAogIHByb3BzOiB7CiAgICBpZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdDb3VudHJ5U2VsZWN0b3InIH0sCiAgICB2YWx1ZTogeyB0eXBlOiBbU3RyaW5nLCBPYmplY3RdLCBkZWZhdWx0OiBudWxsIH0sCiAgICBsYWJlbDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdDaG9vc2UgY291bnRyeScgfSwKICAgIGhpbnQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBTdHJpbmcgfSwKICAgIHNpemU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBTdHJpbmcgfSwKICAgIGVycm9yOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCiAgICBkaXNhYmxlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAogICAgdmFsaWQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSwKICAgIGRhcms6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfSwKICAgIGl0ZW1zOiB7IHR5cGU6IEFycmF5LCBkZWZhdWx0OiBBcnJheSwgcmVxdWlyZWQ6IHRydWUgfSwKICAgIHByZWZlcnJlZENvdW50cmllczogeyB0eXBlOiBBcnJheSwgZGVmYXVsdDogbnVsbCB9LAogICAgb25seUNvdW50cmllczogeyB0eXBlOiBBcnJheSwgZGVmYXVsdDogbnVsbCB9LAogICAgaWdub3JlZENvdW50cmllczogeyB0eXBlOiBBcnJheSwgZGVmYXVsdDogbnVsbCB9LAogICAgbm9GbGFnczogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAogICAgY291bnRyaWVzSGVpZ2h0OiB7IHR5cGU6IE51bWJlciwgZGVmYXVsdDogMzUgfSwKICAgIHNob3dDb2RlT25MaXN0OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0KICB9LAogIGRhdGEgKCkgewogICAgcmV0dXJuIHsKICAgICAgaXNGb2N1czogZmFsc2UsCiAgICAgIGhhc0xpc3RPcGVuOiBmYWxzZSwKICAgICAgc2VsZWN0ZWRJbmRleDogbnVsbCwKICAgICAgdG1wVmFsdWU6IHRoaXMudmFsdWUsCiAgICAgIHF1ZXJ5OiAnJywKICAgICAgaW5kZXhJdGVtVG9TaG93OiAwLAogICAgICBpc0hvdmVyOiBmYWxzZQogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGl0ZW1IZWlnaHQgKCkgewogICAgICByZXR1cm4gewogICAgICAgIGhlaWdodDogYCR7dGhpcy5jb3VudHJpZXNIZWlnaHR9cHhgCiAgICAgIH0KICAgIH0sCiAgICBsaXN0SGVpZ2h0ICgpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBoZWlnaHQ6IGAkeyh0aGlzLmNvdW50cmllc0hlaWdodCArIDEpICogN31weGAsCiAgICAgICAgbWF4SGVpZ2h0OiBgJHsodGhpcy5jb3VudHJpZXNIZWlnaHQgKyAxKSAqIDd9cHhgCiAgICAgIH0KICAgIH0sCiAgICBjb3VudHJpZXNMaXN0ICgpIHsKICAgICAgcmV0dXJuIHRoaXMuaXRlbXMuZmlsdGVyKGl0ZW0gPT4gIXRoaXMuaWdub3JlZENvdW50cmllcy5pbmNsdWRlcyhpdGVtLmlzbzIpKQogICAgfSwKICAgIGNvdW50cmllc0ZpbHRlcmVkICgpIHsKICAgICAgY29uc3QgY291bnRyaWVzID0gdGhpcy5vbmx5Q291bnRyaWVzIHx8IHRoaXMucHJlZmVycmVkQ291bnRyaWVzCiAgICAgIHJldHVybiBjb3VudHJpZXMubWFwKGNvdW50cnkgPT4gdGhpcy5jb3VudHJpZXNMaXN0LmZpbmQoaXRlbSA9PiBpdGVtLmlzbzIuaW5jbHVkZXMoY291bnRyeSkpKQogICAgfSwKICAgIG90aGVyQ291bnRyaWVzICgpIHsKICAgICAgcmV0dXJuIHRoaXMuY291bnRyaWVzTGlzdC5maWx0ZXIoaXRlbSA9PiAhdGhpcy5wcmVmZXJyZWRDb3VudHJpZXMuaW5jbHVkZXMoaXRlbS5pc28yKSkKICAgIH0sCiAgICBjb3VudHJpZXNTb3J0ZWQgKCkgewogICAgICByZXR1cm4gdGhpcy5wcmVmZXJyZWRDb3VudHJpZXMKICAgICAgICA/IFsgLi4udGhpcy5jb3VudHJpZXNGaWx0ZXJlZCwKICAgICAgICAgICAgLi4udGhpcy5vdGhlckNvdW50cmllcyBdCiAgICAgICAgOiB0aGlzLm9ubHlDb3VudHJpZXMKICAgICAgICAgID8gdGhpcy5jb3VudHJpZXNGaWx0ZXJlZAogICAgICAgICAgOiB0aGlzLmNvdW50cmllc0xpc3QKICAgIH0sCiAgICBzZWxlY3RlZFZhbHVlSW5kZXggKCkgewogICAgICByZXR1cm4gdGhpcy52YWx1ZQogICAgICAgID8gdGhpcy5jb3VudHJpZXNTb3J0ZWQuZmluZEluZGV4KGMgPT4gYy5pc28yID09PSB0aGlzLnZhbHVlKQogICAgICAgIDogbnVsbAogICAgfSwKICAgIHRtcFZhbHVlSW5kZXggKCkgewogICAgICByZXR1cm4gdGhpcy5jb3VudHJpZXNTb3J0ZWQuZmluZEluZGV4KGMgPT4gYy5pc28yID09PSB0aGlzLnRtcFZhbHVlKQogICAgfSwKICAgIGNhbGxpbmdDb2RlICgpIHsKICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPyBgKyR7Z2V0Q291bnRyeUNhbGxpbmdDb2RlKHRoaXMudmFsdWUpfWAgOiBudWxsCiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVIb3ZlclN0YXRlKHZhbHVlKSB7CiAgICAgIHRoaXMuaXNIb3ZlciA9IHZhbHVlCiAgICB9LAogICAgaGFuZGxlQmx1ciAoZSkgewogICAgICBpZiAodGhpcy4kZWwuY29udGFpbnMoZS5yZWxhdGVkVGFyZ2V0KSkgcmV0dXJuCiAgICAgIHRoaXMuaXNGb2N1cyA9IGZhbHNlCiAgICAgIHRoaXMuY2xvc2VMaXN0KCkKICAgIH0sCiAgICB0b2dnbGVMaXN0ICgpIHsKICAgICAgdGhpcy4kcmVmcy5jb3VudHJpZXNMaXN0Lm9mZnNldFBhcmVudCA/IHRoaXMuY2xvc2VMaXN0KCkgOiB0aGlzLm9wZW5MaXN0KCkKICAgIH0sCiAgICBvcGVuTGlzdCAoKSB7CiAgICAgIGlmICghdGhpcy5kaXNhYmxlZCkgewogICAgICAgIHRoaXMuJHJlZnMuQ291bnRyeVNlbGVjdG9yLmZvY3VzKCkKICAgICAgICB0aGlzLiRlbWl0KCdvcGVuJykKICAgICAgICB0aGlzLmlzRm9jdXMgPSB0cnVlCiAgICAgICAgdGhpcy5oYXNMaXN0T3BlbiA9IHRydWUKICAgICAgICBpZiAodGhpcy52YWx1ZSkgdGhpcy5zY3JvbGxUb1NlbGVjdGVkT25Gb2N1cyh0aGlzLnNlbGVjdGVkVmFsdWVJbmRleCkKICAgICAgfQogICAgfSwKICAgIGNsb3NlTGlzdCAoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJykKICAgICAgdGhpcy5oYXNMaXN0T3BlbiA9IGZhbHNlCiAgICB9LAogICAgYXN5bmMgdXBkYXRlVmFsdWUgKHZhbCkgewogICAgICB0aGlzLnRtcFZhbHVlID0gdmFsCiAgICAgIHRoaXMuJGVtaXQoJ2lucHV0JywgdmFsIHx8IG51bGwpCiAgICAgIGF3YWl0IHRoaXMuJG5leHRUaWNrKCkKICAgICAgdGhpcy5jbG9zZUxpc3QoKQogICAgfSwKICAgIHNjcm9sbFRvU2VsZWN0ZWRPbkZvY3VzIChhcnJheUluZGV4KSB7CiAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAvLyB0aGlzLmluZGV4SXRlbVRvU2hvdyA9IGFycmF5SW5kZXggLSAzCiAgICAgICAgdGhpcy4kcmVmcy5jb3VudHJpZXNMaXN0LnNjcm9sbFRvcCA9IGFycmF5SW5kZXggKiAodGhpcy5jb3VudHJpZXNIZWlnaHQgKyAxKSAtICgodGhpcy5jb3VudHJpZXNIZWlnaHQgKyAxKSAqIDMpCiAgICAgIH0pCiAgICB9LAogICAga2V5Ym9hcmROYXYgKGUpIHsKICAgICAgY29uc3QgY29kZSA9IGUua2V5Q29kZQogICAgICBpZiAoY29kZSA9PT0gNDAgfHwgY29kZSA9PT0gMzgpIHsKICAgICAgICAvLyBhcnJvdyB1cCBkb3duCiAgICAgICAgaWYgKGUudmlldyAmJiBlLnZpZXcuZXZlbnQpIHsKICAgICAgICAgIC8vIFRPRE8gOiBJdCdzIG5vdCBjb21wYXRpYmxlIHdpdGggRmlyZUZveAogICAgICAgICAgZS52aWV3LmV2ZW50LnByZXZlbnREZWZhdWx0KCkKICAgICAgICB9CiAgICAgICAgaWYgKCF0aGlzLmhhc0xpc3RPcGVuKSB0aGlzLm9wZW5MaXN0KCkKICAgICAgICBsZXQgaW5kZXggPSBjb2RlID09PSA0MCA/IHRoaXMudG1wVmFsdWVJbmRleCArIDEgOiB0aGlzLnRtcFZhbHVlSW5kZXggLSAxCiAgICAgICAgaWYgKGluZGV4ID09PSAtMSB8fCBpbmRleCA+PSB0aGlzLmNvdW50cmllc1NvcnRlZC5sZW5ndGgpIHsKICAgICAgICAgIGluZGV4ID0gaW5kZXggPT09IC0xCiAgICAgICAgICAgID8gdGhpcy5jb3VudHJpZXNTb3J0ZWQubGVuZ3RoIC0gMQogICAgICAgICAgICA6IDAKICAgICAgICB9CiAgICAgICAgdGhpcy50bXBWYWx1ZSA9IHRoaXMuY291bnRyaWVzU29ydGVkW2luZGV4XS5pc28yCiAgICAgICAgdGhpcy5zY3JvbGxUb1NlbGVjdGVkT25Gb2N1cyhpbmRleCkKICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAxMykgewogICAgICAgIC8vIGVudGVyCiAgICAgICAgdGhpcy5oYXNMaXN0T3BlbiA/IHRoaXMudXBkYXRlVmFsdWUodGhpcy50bXBWYWx1ZSkgOiB0aGlzLm9wZW5MaXN0KCkKICAgICAgfSBlbHNlIGlmIChjb2RlID09PSAyNykgewogICAgICAgIC8vIGVzY2FwZQogICAgICAgIHRoaXMuY2xvc2VMaXN0KCkKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyB0eXBpbmcgYSBjb3VudHJ5J3MgbmFtZQogICAgICAgIHRoaXMuc2VhcmNoaW5nKGUpCiAgICAgIH0KICAgIH0sCiAgICBzZWFyY2hpbmcgKGUpIHsKICAgICAgY29uc3QgY29kZSA9IGUua2V5Q29kZQogICAgICBjbGVhclRpbWVvdXQodGhpcy5xdWVyeVRpbWVyKQogICAgICB0aGlzLnF1ZXJ5VGltZXIgPSBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICB0aGlzLnF1ZXJ5ID0gJycKICAgICAgfSwgMTAwMCkKICAgICAgY29uc3QgcSA9IFN0cmluZy5mcm9tQ2hhckNvZGUoY29kZSkKICAgICAgaWYgKGNvZGUgPT09IDggJiYgdGhpcy5xdWVyeSAhPT0gJycpIHsKICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5xdWVyeS5zdWJzdHJpbmcoMCwgdGhpcy5xdWVyeS5sZW5ndGggLSAxKQogICAgICB9IGVsc2UgaWYgKC9bYS16QS1aLWUgXS8udGVzdChxKSkgewogICAgICAgIGlmICghdGhpcy5oYXNMaXN0T3BlbikgdGhpcy5vcGVuTGlzdCgpCiAgICAgICAgdGhpcy5xdWVyeSArPSBlLmtleQogICAgICAgIGNvbnN0IGNvdW50cmllcyA9IHRoaXMucHJlZmVycmVkQ291bnRyaWVzID8gdGhpcy5jb3VudHJpZXNTb3J0ZWQuc2xpY2UodGhpcy5wcmVmZXJyZWRDb3VudHJpZXMubGVuZ3RoKSA6IHRoaXMuY291bnRyaWVzU29ydGVkCiAgICAgICAgY29uc3QgcmVzdWx0SW5kZXggPSBjb3VudHJpZXMuZmluZEluZGV4KGMgPT4gewogICAgICAgICAgdGhpcy50bXBWYWx1ZSA9IGMuaXNvMgogICAgICAgICAgcmV0dXJuIGMubmFtZS50b0xvd2VyQ2FzZSgpLnN0YXJ0c1dpdGgodGhpcy5xdWVyeSkKICAgICAgICB9KQogICAgICAgIGlmIChyZXN1bHRJbmRleCAhPT0gLTEpIHsKICAgICAgICAgIHRoaXMuc2Nyb2xsVG9TZWxlY3RlZE9uRm9jdXMocmVzdWx0SW5kZXggKyAodGhpcy5wcmVmZXJyZWRDb3VudHJpZXMgPyB0aGlzLnByZWZlcnJlZENvdW50cmllcy5sZW5ndGggOiAwKSkKICAgICAgICB9CiAgICAgIH0KICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwHA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/uiComponents/SpherePhoneNumberInput/VuePhoneNumberInput/CountrySelector","sourcesContent":["<template>\n  <div\n    ref=\"parent\"\n    :class=\"[{\n      'is-focused': isFocus,\n      'has-value': value,\n      'has-hint': hint,\n      'has-error': error,\n      'is-disabled': disabled,\n      'is-dark': dark,\n      'no-flags': noFlags,\n      'has-list-open': hasListOpen,\n      'is-valid': valid\n    }, size]\"\n    class=\"country-selector\"\n    @blur.capture=\"handleBlur\"\n    @mouseenter=\"updateHoverState(true)\"\n    @mouseleave=\"updateHoverState(false)\"\n  >\n    <div\n      v-if=\"value && !noFlags\"\n      class=\"country-selector__country-flag\"\n      @click.stop=\"toggleList\"\n    >\n      <div :class=\"`iti-flag-small iti-flag ${value.toLowerCase()}`\" />\n    </div>\n    <input\n      :id=\"id\"\n      ref=\"CountrySelector\"\n      :value=\"callingCode\"\n      :placeholder=\"label\"\n      :disabled=\"disabled\"\n      class=\"country-selector__input\"\n      readonly\n      :style=\"[radiusLeftStyle, inputBorderStyle, inputBoxShadowStyle, inputBgColor]\"\n      @focus=\"isFocus = true\"\n      @keydown=\"keyboardNav\"\n      @click.stop=\"toggleList\"\n    >\n    <div\n      class=\"country-selector__toggle\"\n      @click.stop=\"toggleList\"\n    >\n      <slot name=\"arrow\">\n        <svg\n          mlns=\"http://www.w3.org/2000/svg\"\n          width=\"24\"\n          height=\"24\"\n          viewBox=\"0 0 24 24\"\n          class=\"country-selector__toggle__arrow\"\n        >\n          <path\n            class=\"arrow\"\n            d=\"M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z\"\n          />\n          <path\n            fill=\"none\"\n            d=\"M0 0h24v24H0V0z\"\n          />\n        </svg>\n      </slot>\n    </div>\n    <label\n      ref=\"label\"\n      :style=\"[labelColorStyle]\"\n      class=\"country-selector__label\"\n      @click.stop=\"toggleList\"\n    >\n      {{ hint || label }}\n    </label>\n    <Transition name=\"slide\">\n      <div\n        v-show=\"hasListOpen\"\n        ref=\"countriesList\"\n        class=\"country-selector__list\"\n        :class=\"{ 'has-calling-code': showCodeOnList }\"\n        :style=\"[radiusStyle, listHeight, inputBgColor]\"\n      >\n        <RecycleScroller\n          v-slot=\"{ item }\"\n          :items=\"countriesSorted\"\n          :item-size=\"1\"\n          key-field=\"iso2\"\n        >\n          <button\n            :key=\"`item-${item.code}`\"\n            :class=\"[\n              { 'selected': value === item.iso2 },\n              { 'keyboard-selected': value !== item.iso2 && tmpValue === item.iso2 }\n            ]\"\n            class=\"flex align-center country-selector__list__item\"\n            :style=\"[\n              itemHeight,\n              value === item.iso2 ? bgItemSelectedStyle : null\n            ]\"\n            tabindex=\"-1\"\n            type=\"button\"\n            @click.stop=\"updateValue(item.iso2)\"\n          >\n            <div\n              v-if=\"!noFlags\"\n              class=\"country-selector__list__item__flag-container\"\n            >\n              <div :class=\"`iti-flag-small iti-flag ${item.iso2.toLowerCase()}`\" />\n            </div>\n            <span\n              v-if=\"showCodeOnList\"\n              class=\"country-selector__list__item__calling-code flex-fixed\"\n            >+{{ item.dialCode }}</span>\n            <div class=\"dots-text\">\n              {{ item.name }}\n            </div>\n          </button>\n        </RecycleScroller>\n      </div>\n    </Transition>\n  </div>\n</template>\n\n<script>\n  import { getCountryCallingCode } from 'libphonenumber-js'\n  import StylesHandler from '@/VuePhoneNumberInput/mixins/StylesHandler'\n\n  import { RecycleScroller } from 'vue-virtual-scroller'\n\n  export default {\n    name: 'CountrySelector',\n    components: {\n      RecycleScroller\n    },\n    mixins: [StylesHandler],\n    props: {\n      id: { type: String, default: 'CountrySelector' },\n      value: { type: [String, Object], default: null },\n      label: { type: String, default: 'Choose country' },\n      hint: { type: String, default: String },\n      size: { type: String, default: String },\n      error: { type: Boolean, default: false },\n      disabled: { type: Boolean, default: false },\n      valid: { type: Boolean, default: false },\n      dark: { type: Boolean, default: false },\n      items: { type: Array, default: Array, required: true },\n      preferredCountries: { type: Array, default: null },\n      onlyCountries: { type: Array, default: null },\n      ignoredCountries: { type: Array, default: null },\n      noFlags: { type: Boolean, default: false },\n      countriesHeight: { type: Number, default: 35 },\n      showCodeOnList: { type: Boolean, default: false }\n    },\n    data () {\n      return {\n        isFocus: false,\n        hasListOpen: false,\n        selectedIndex: null,\n        tmpValue: this.value,\n        query: '',\n        indexItemToShow: 0,\n        isHover: false\n      }\n    },\n    computed: {\n      itemHeight () {\n        return {\n          height: `${this.countriesHeight}px`\n        }\n      },\n      listHeight () {\n        return {\n          height: `${(this.countriesHeight + 1) * 7}px`,\n          maxHeight: `${(this.countriesHeight + 1) * 7}px`\n        }\n      },\n      countriesList () {\n        return this.items.filter(item => !this.ignoredCountries.includes(item.iso2))\n      },\n      countriesFiltered () {\n        const countries = this.onlyCountries || this.preferredCountries\n        return countries.map(country => this.countriesList.find(item => item.iso2.includes(country)))\n      },\n      otherCountries () {\n        return this.countriesList.filter(item => !this.preferredCountries.includes(item.iso2))\n      },\n      countriesSorted () {\n        return this.preferredCountries\n          ? [ ...this.countriesFiltered,\n              ...this.otherCountries ]\n          : this.onlyCountries\n            ? this.countriesFiltered\n            : this.countriesList\n      },\n      selectedValueIndex () {\n        return this.value\n          ? this.countriesSorted.findIndex(c => c.iso2 === this.value)\n          : null\n      },\n      tmpValueIndex () {\n        return this.countriesSorted.findIndex(c => c.iso2 === this.tmpValue)\n      },\n      callingCode () {\n        return this.value ? `+${getCountryCallingCode(this.value)}` : null\n      }\n    },\n    methods: {\n      updateHoverState(value) {\n        this.isHover = value\n      },\n      handleBlur (e) {\n        if (this.$el.contains(e.relatedTarget)) return\n        this.isFocus = false\n        this.closeList()\n      },\n      toggleList () {\n        this.$refs.countriesList.offsetParent ? this.closeList() : this.openList()\n      },\n      openList () {\n        if (!this.disabled) {\n          this.$refs.CountrySelector.focus()\n          this.$emit('open')\n          this.isFocus = true\n          this.hasListOpen = true\n          if (this.value) this.scrollToSelectedOnFocus(this.selectedValueIndex)\n        }\n      },\n      closeList () {\n        this.$emit('close')\n        this.hasListOpen = false\n      },\n      async updateValue (val) {\n        this.tmpValue = val\n        this.$emit('input', val || null)\n        await this.$nextTick()\n        this.closeList()\n      },\n      scrollToSelectedOnFocus (arrayIndex) {\n        this.$nextTick(() => {\n          // this.indexItemToShow = arrayIndex - 3\n          this.$refs.countriesList.scrollTop = arrayIndex * (this.countriesHeight + 1) - ((this.countriesHeight + 1) * 3)\n        })\n      },\n      keyboardNav (e) {\n        const code = e.keyCode\n        if (code === 40 || code === 38) {\n          // arrow up down\n          if (e.view && e.view.event) {\n            // TODO : It's not compatible with FireFox\n            e.view.event.preventDefault()\n          }\n          if (!this.hasListOpen) this.openList()\n          let index = code === 40 ? this.tmpValueIndex + 1 : this.tmpValueIndex - 1\n          if (index === -1 || index >= this.countriesSorted.length) {\n            index = index === -1\n              ? this.countriesSorted.length - 1\n              : 0\n          }\n          this.tmpValue = this.countriesSorted[index].iso2\n          this.scrollToSelectedOnFocus(index)\n        } else if (code === 13) {\n          // enter\n          this.hasListOpen ? this.updateValue(this.tmpValue) : this.openList()\n        } else if (code === 27) {\n          // escape\n          this.closeList()\n        } else {\n          // typing a country's name\n          this.searching(e)\n        }\n      },\n      searching (e) {\n        const code = e.keyCode\n        clearTimeout(this.queryTimer)\n        this.queryTimer = setTimeout(() => {\n          this.query = ''\n        }, 1000)\n        const q = String.fromCharCode(code)\n        if (code === 8 && this.query !== '') {\n          this.query = this.query.substring(0, this.query.length - 1)\n        } else if (/[a-zA-Z-e ]/.test(q)) {\n          if (!this.hasListOpen) this.openList()\n          this.query += e.key\n          const countries = this.preferredCountries ? this.countriesSorted.slice(this.preferredCountries.length) : this.countriesSorted\n          const resultIndex = countries.findIndex(c => {\n            this.tmpValue = c.iso2\n            return c.name.toLowerCase().startsWith(this.query)\n          })\n          if (resultIndex !== -1) {\n            this.scrollToSelectedOnFocus(resultIndex + (this.preferredCountries ? this.preferredCountries.length : 0))\n          }\n        }\n      }\n    }\n  }\n</script>\n\n<style lang=\"scss\" scoped>\n  @import '@/assets/scss/variables.scss';\n  @import 'style-helpers';\n  @import './assets/iti-flags/flags.css';\n\n  // Light Theme\n  .country-selector {\n    font-family: Roboto, -apple-system, BlinkMacSystemFont, Segoe UI, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;\n    position: relative;\n    height: 40px;\n    min-height: 40px;\n    z-index: 0;\n    user-select: none;\n\n    &:hover {\n      z-index: 1;\n    }\n\n    &__label {\n      position: absolute;\n      top: 3px;\n      cursor: pointer;\n      left: 11px;\n      transform: translateY(25%);\n      opacity: 0;\n      transition: all 0.25s cubic-bezier(0.645, 0.045, 0.355, 1);\n      font-size: 11px;\n      color: $secondary-color;\n    }\n\n    &__input {\n      cursor: pointer;\n      background-color: $bg-color;\n      position: relative;\n      width: 100%;\n      height: 40px;\n      min-height: 40px;\n      padding-right: 22px;\n      font-weight: 400;\n      appearance: none;\n      outline: none;\n      border: 1px solid $third-color;\n      font-size: 13px;\n      z-index: 0;\n      padding-left: 8px;\n      color: $text-color;\n    }\n\n    &__toggle {\n      position: absolute;\n      right: 5px;\n      top: calc(50% - 10px);\n      transition: all 0.25s cubic-bezier(0.645, 0.045, 0.355, 1);\n      text-align: center;\n      display: inline-block;\n      cursor: pointer;\n      height: 24px;\n\n      &__arrow {\n        color: $secondary-color;\n\n        path.arrow {\n          fill: $secondary-color;\n        }\n      }\n    }\n\n    &__country-flag {\n      margin: auto 0;\n      position: absolute;\n      top: 21px;\n      left: 11px;\n      z-index: 1;\n      cursor: pointer;\n\n      img {\n        position: absolute;\n      }\n    }\n\n    &__list {\n      max-width: 100%;\n      top: 100%;\n      width: 100%;\n      min-width: 230px;\n      position: absolute;\n      background-color: $bg-color;\n      overflow: hidden;\n      box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.14), 0 1px 5px 0 rgba(0, 0, 0, 0.12);\n      z-index: 9;\n      list-style: none;\n      overflow-y: auto;\n      overflow-x: hidden;\n      padding: 0;\n      margin: 0;\n\n      &.has-calling-code {\n        min-width: 270px;\n      }\n\n      &__item {\n        padding: 0 10px;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n        overflow: hidden;\n        font-size: 12px;\n        cursor: pointer;\n        background-color: transparent;\n        width: 100%;\n        border: 0;\n        outline: none;\n\n        &__flag-container {\n          margin-right: 10px;\n        }\n\n        &__calling-code {\n          width: 45px;\n          color: $muted-color;\n        }\n\n        &.hover,\n        &.keyboard-selected {\n          background-color: $hover-color;\n        }\n\n        &.selected {\n          color: #FFF;\n          font-weight: 600;\n\n          .country-selector__list__item__calling-code {\n            color: #FFF;\n          }\n        }\n      }\n    }\n\n    // Dark Theme\n    &.is-dark {\n      .country-selector {\n        &__input {\n          cursor: pointer;\n          color: $secondary-color-dark;\n\n          &::-webkit-input-placeholder {\n            color: $secondary-color-dark;\n          }\n\n          &::-moz-placeholder {\n            color: $secondary-color-dark;\n          }\n\n          &:-ms-input-placeholder {\n            color: $secondary-color-dark;\n          }\n\n          &::-ms-input-placeholder {\n            color: $secondary-color-dark;\n          }\n\n          &:-moz-placeholder {\n            color: $secondary-color-dark;\n          }\n\n          &::placeholder {\n            color: $secondary-color-dark;\n          }\n        }\n\n        &__toggle {\n          &__arrow {\n            color: $secondary-color-dark;\n\n            path.arrow {\n              fill: $secondary-color-dark;\n            }\n          }\n        }\n\n        &__list {\n          &__item {\n            color: $text-color-dark;\n\n            &:hover,\n            &.keyboard-selected {\n              background-color: lighten($hover-color-dark, 10%);\n            }\n          }\n\n          &__calling-code {\n            color: $muted-color-dark;\n          }\n        }\n      }\n\n      .country-selector__input,\n      .country-selector__list {\n        color: $secondary-color-dark;\n      }\n    }\n\n    &.has-list-open {\n      z-index: 1;\n\n      .country-selector {\n        &__toggle {\n          transform: rotate(180deg);\n        }\n      }\n    }\n\n    &.is-focused {\n      z-index: 1;\n    }\n\n    &.has-error {\n      .country-selector__input {\n        border-color: $danger-color;\n      }\n\n      .country-selector__label {\n        color: $danger-color;\n      }\n    }\n\n    &.has-value {\n      .country-selector__input {\n        padding-left: 40px;\n      }\n    }\n\n    &.has-value,\n    &.has-hint {\n      .country-selector__label {\n        opacity: 1;\n        transform: translateY(0);\n        font-size: 11px;\n      }\n\n      .country-selector__input {\n        padding-top: 14px;\n      }\n    }\n\n    // Disable theme\n    &.is-disabled {\n      .country-selector {\n        cursor: not-allowed;\n\n        &__input {\n          border-color: #CCC;\n          background-color: #F2F2F2;\n          color: $disabled-color;\n\n          &::-webkit-input-placeholder {\n            color: $disabled-color;\n          }\n\n          &::-moz-placeholder {\n            color: $disabled-color;\n          }\n\n          &:-ms-input-placeholder {\n            color: $disabled-color;\n          }\n\n          &::-ms-input-placeholder {\n            color: $disabled-color;\n          }\n\n          &:-moz-placeholder {\n            color: $disabled-color;\n          }\n\n          &::placeholder {\n            color: $disabled-color;\n          }\n        }\n\n        &__label,\n        &__input,\n        &__toggle__arrow,\n        &__country-flag,\n        &__country-flag > div {\n          cursor: not-allowed;\n          color: $disabled-color;\n        }\n      }\n    }\n\n    &.no-flags {\n      .country-selector__input {\n        padding-left: 10px;\n      }\n    }\n\n    &.sm {\n      height: 36px;\n      min-height: 36px;\n\n      .country-selector__input {\n        height: 36px;\n        min-height: 36px;\n        font-size: 12px;\n      }\n\n      .country-selector__label {\n        font-size: 10px;\n      }\n\n      .country-selector__country-flag {\n        top: 16px;\n\n        img {\n          zoom: 0.3;\n          color: red;\n          /* stylelint-disable */\n          -moz-transform: scale(0.3);\n          -moz-transform-origin: 0 0;\n          /* stylelint-enable */\n        }\n      }\n\n      &.has-value {\n        .country-selector__input {\n          padding-top: 12px;\n        }\n      }\n    }\n\n    &.lg {\n      height: 48px;\n      min-height: 48px;\n\n      .country-selector__input {\n        height: 48px;\n        min-height: 48px;\n        font-size: 14px;\n      }\n\n      .country-selector__label {\n        font-size: 14px;\n      }\n\n      .country-selector__country-flag {\n        top: 25px;\n\n        img {\n          zoom: 0.45;\n          /* stylelint-disable */\n          -moz-transform: scale(0.45);\n          -moz-transform-origin: 0 0;\n          /* stylelint-enable */\n        }\n      }\n\n      &.has-value {\n        .country-selector__input {\n          padding-top: 18px;\n        }\n      }\n    }\n\n    .slide-enter-active,\n    .slide-leave-active {\n      opacity: 1;\n      z-index: 998;\n      transition: all 0.3s;\n      transform: translateY(0);\n    }\n\n    .slide-enter,\n    .slide-leave-to /* .fade-leave-active below version 2.1.8 */ {\n      opacity: 0;\n      z-index: 998;\n      transform: translateY(-20px);\n    }\n  }\n</style>\n"]}]}