{"remainingRequest":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/guest-webapp/src/views/AddPaymentHPS.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vignesh/DIVRT/guest-webapp/src/views/AddPaymentHPS.vue","mtime":1679655130841},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFydGxhbmQgZnJvbSAiLi4vcGx1Z2lucy9zZWN1cmVzdWJtaXQiOwovLyBpbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgQVBJSGVscGVyIGZyb20gIi4uL2FwaUhlbHBlciI7Ci8vIGltcG9ydCBsb2dnZXJIZWxwZXIgZnJvbSAiLi4vbG9nZ2VySGVscGVyIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkZFBheW1lbnQiLAogIGRhdGE6ICgpID0+ICh7CiAgICBkZWZhdWx0Q3JlZGl0Q2FyZENCOiBmYWxzZSwKICAgIGF1dG9DaGVja2luQ0I6IGZhbHNlLAogICAgaHBzOiAiIiwKICAgIHBvc3RhbENvZGU6ICIiLAogICAgZW1haWw6ICIiLAogICAgYWRkUGF5bWVudExvYWRpbmc6IGZhbHNlLAogICAgc2hvd1BheW1lbnRCdG46IHRydWUsCiAgICBkdXJhdGlvbjogMzAwLAogICAgb2Zmc2V0OiAxMDAsCiAgICBlYXNpbmc6ICJlYXNlSW5PdXRDdWJpYyIsCiAgICBlcnJEaWFsb2c6IGZhbHNlLAogICAgZXJyTXNnOiAiIiwKICAgIGluZm9EaWFsb2c6IGZhbHNlLAogICAgaW5mb01zZzogIiIsCiAgfSksCiAgY29tcHV0ZWQ6IHsKICAgIC4uLm1hcEdldHRlcnMoewogICAgICBib29raW5nSWQ6ICJnZXR0ZXJCb29raW5nSWQiLAogICAgICBib29raW5nRGV0YWlsczogImdldHRlckJvb2tpbmdEZXRhaWxzIiwKICAgIH0pLAogICAgb3B0aW9ucygpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBkdXJhdGlvbjogdGhpcy5kdXJhdGlvbiwKICAgICAgICBvZmZzZXQ6IHRoaXMub2Zmc2V0LAogICAgICAgIGVhc2luZzogdGhpcy5lYXNpbmcsCiAgICAgIH07CiAgICB9LAogICAgY2hlY2tQb3N0YWxDb2RlKCkgewogICAgICByZXR1cm4gKAogICAgICAgIC8oXlxkezV9JCl8KF5cZHs1fS1cZHs0fSQpLy50ZXN0KHRoaXMucG9zdGFsQ29kZSkgfHwKICAgICAgICAvXltBLVphLXpdXGRbQS1aYS16XVsgLV0/XGRbQS1aYS16XVxkJC8udGVzdCh0aGlzLnBvc3RhbENvZGUpCiAgICAgICk7CiAgICB9LAogIH0sCiAgY3JlYXRlZCgpIHsgfSwKICBiZWZvcmVSb3V0ZUVudGVyKHRvLCBmcm9tLCBuZXh0KSB7CiAgICBuZXh0KGFzeW5jICh2bSkgPT4gewogICAgICB2bS4kdnVldGlmeS5nb1RvKDApOwogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmluaXRIUFNmb3JtKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkZvcm1TdWJtaXQoKSB7CiAgICAgIHRoaXMuYWRkUGF5bWVudExvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLnNob3dQYXltZW50QnRuID0gZmFsc2U7CiAgICAgIC8vY2hlY2sgVVMgUG9zdGFsIGNvZGUgUmVnZXgKCiAgICAgIGlmICgvXig/PS57MiwxMH0kKShbMC05XXsxLDl9KFstc117MX1bMC05XSspPykkLy50ZXN0KHRoaXMucG9zdGFsQ29kZSkpIHsKICAgICAgICB0aGlzLmhwcy5vcHRpb25zLnB1YmxpY0tleSA9IHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/Lk1JRHMKICAgICAgICAgID8uSFBTX1BVQkxJQ19LRVlfVVMKICAgICAgICAgID8gdGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLk1JRHMuSFBTX1BVQkxJQ19LRVlfVVMKICAgICAgICAgIDogIiI7CiAgICAgICAgdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgcGhvbmU6IHRoaXMuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgICAgcmVmSWQ6IHRoaXMuYm9va2luZ0lkLAogICAgICAgICAgc3RhdHVzVGV4dDoKICAgICAgICAgICAgIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIHBvc3RhbCBjb2RlLSAiICsKICAgICAgICAgICAgdGhpcy5wb3N0YWxDb2RlLAogICAgICAgIH0pOwogICAgICAgIHRoaXMuaHBzLnRva2VuaXplKCk7CiAgICAgIH0KICAgICAgLy9jaGVjayBDQSBQb3N0YWwgY29kZSBSZWdleAogICAgICBlbHNlIGlmICgvLipbYS16QS1aXS4qJC8udGVzdCh0aGlzLnBvc3RhbENvZGUpKSB7CiAgICAgICAgdGhpcy5ocHMub3B0aW9ucy5wdWJsaWNLZXkgPSB0aGlzLmJvb2tpbmdEZXRhaWxzPy5ib29raW5nPy5NSURzCiAgICAgICAgICA/LkhQU19QVUJMSUNfS0VZX0NBCiAgICAgICAgICA/IHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5NSURzLkhQU19QVUJMSUNfS0VZX0NBCiAgICAgICAgICA6ICIiOwogICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgIHBob25lOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgIHJlZklkOiB0aGlzLmJvb2tpbmdJZCwKICAgICAgICAgIHN0YXR1c1RleHQ6CiAgICAgICAgICAgICJQYXJrZXIgY2xpY2tlZCBvbiBBREQgUEFZTUVOVCBidG4gd2l0aCBwb3N0YWwgY29kZS0gIiArCiAgICAgICAgICAgIHRoaXMucG9zdGFsQ29kZSwKICAgICAgICB9KTsKICAgICAgICB0aGlzLmhwcy50b2tlbml6ZSgpOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuYWRkUGF5bWVudExvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dQYXltZW50QnRuID0gdHJ1ZTsKICAgICAgICB0aGlzLmVyckRpYWxvZyA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJNc2cgPQogICAgICAgICAgdGhpcy5wb3N0YWxDb2RlLmxlbmd0aCA+IDAKICAgICAgICAgICAgPyAiSW52YWxpZCBwb3N0YWwgY29kZSIKICAgICAgICAgICAgOiAiUG9zdGFsIGNvZGUgY2Fubm90IGJlIGVtcHR5IjsKICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICBwaG9uZTogdGhpcy5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgICByZWZJZDogdGhpcy5ib29raW5nSWQsCiAgICAgICAgICBlcnJvcjogdGhpcy5lcnJNc2csCiAgICAgICAgICBzdGF0dXNUZXh0OgogICAgICAgICAgICAiUGFya2VyIGNsaWNrZWQgb24gQUREIFBBWU1FTlQgYnRuIHdpdGggaW52YWxpZCBwb3N0YWwgY29kZSAtIiArCiAgICAgICAgICAgIHRoaXMucG9zdGFsQ29kZSwKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGluaXRIUFNmb3JtKCkgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHRoaXMuaHBzID0gbmV3IEhlYXJ0bGFuZC5IUFMoewogICAgICAgIHR5cGU6ICJpZnJhbWUiLAogICAgICAgIGZpZWxkczogewogICAgICAgICAgY2FyZE51bWJlcjogewogICAgICAgICAgICB0YXJnZXQ6ICJpZnJhbWVzQ2FyZE51bWJlciIsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiRW50ZXIgQ2FyZCBOdW1iZXIiLAogICAgICAgICAgfSwKICAgICAgICAgIGNhcmRFeHBpcmF0aW9uOiB7CiAgICAgICAgICAgIHRhcmdldDogImlmcmFtZXNDYXJkRXhwaXJhdGlvbiIsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiTU0gLyBZWVlZIiwKICAgICAgICAgIH0sCiAgICAgICAgICBjYXJkQ3Z2OiB7CiAgICAgICAgICAgIHRhcmdldDogImlmcmFtZXNDYXJkQ3Z2IiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJleCAtIDEyMyIsCiAgICAgICAgICB9LAogICAgICAgIH0sCiAgICAgICAgLy8gQ29sbGVjdGlvbiBvZiBDU1MgdG8gaW5qZWN0IGludG8gdGhlIGlmcmFtZXMuCiAgICAgICAgLy8gVGhlc2UgcHJvcGVydGllcyBjYW4gbWF0Y2ggdGhlIHNpdGUncyBzdHlsZXMKICAgICAgICAvLyB0byBjcmVhdGUgYSBzZWFtbGVzcyBleHBlcmllbmNlLgogICAgICAgIHN0eWxlOiB7CiAgICAgICAgICBpbnB1dDogewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAiI2ZmZiIsCiAgICAgICAgICAgIGJvcmRlcjogIjFweCBzb2xpZCIsCiAgICAgICAgICAgICJib3JkZXItY29sb3IiOiAiI2JiYjNiOSAjYzdjMWM2ICNjN2MxYzYiLAogICAgICAgICAgICAiYm94LXNpemluZyI6ICJib3JkZXItYm94IiwKICAgICAgICAgICAgImZvbnQtZmFtaWx5IjogInNlcmlmIiwKICAgICAgICAgICAgImZvbnQtc2l6ZSI6ICIxNnB4IiwKICAgICAgICAgICAgImxpbmUtaGVpZ2h0IjogIjEiLAogICAgICAgICAgICBtYXJnaW46ICIwIC41ZW0gMCAwIiwKICAgICAgICAgICAgIm1heC13aWR0aCI6ICIxMDAlIiwKICAgICAgICAgICAgb3V0bGluZTogIjAiLAogICAgICAgICAgICBwYWRkaW5nOiAiMC41Mjc4ZW0iLAogICAgICAgICAgICAidmVydGljYWwtYWxpZ24iOiAiYmFzZWxpbmUiLAogICAgICAgICAgICBoZWlnaHQ6ICI1MHB4IiwKICAgICAgICAgICAgd2lkdGg6ICIxMDAlICFpbXBvcnRhbnQiLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkIjogewogICAgICAgICAgICAiZm9udC1mYW1pbHkiOiAic2Fucy1zZXJpZiIsCiAgICAgICAgICAgICJib3gtc2l6aW5nIjogImJvcmRlci1ib3giLAogICAgICAgICAgICBkaXNwbGF5OiAiYmxvY2siLAogICAgICAgICAgICBoZWlnaHQ6ICI1MHB4IiwKICAgICAgICAgICAgcGFkZGluZzogIjZweCA2cHgiLAogICAgICAgICAgICAiZm9udC1zaXplIjogIjE0cHgiLAogICAgICAgICAgICAibGluZS1oZWlnaHQiOiAiMS40Mjg1NzE0MyIsCiAgICAgICAgICAgIGNvbG9yOiAiIzU1NSIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNmZmYiLAogICAgICAgICAgICAiYm9yZGVyLWJvdHRvbSI6ICIxcHggc29saWQgI2NjYyIsCiAgICAgICAgICAgICJib3JkZXItdG9wIjogIjBweCIsCiAgICAgICAgICAgICJib3JkZXItbGVmdCI6ICIwcHgiLAogICAgICAgICAgICAiYm9yZGVyLXJpZ2h0IjogIjBweCIsCiAgICAgICAgICAgICJib3JkZXItcmFkaXVzIjogIjBweCIsCiAgICAgICAgICAgIC8vICItd2Via2l0LWJveC1zaGFkb3ciOiAiaW5zZXQgMCAxcHggMXB4IHJnYmEoMCwwLDAsLjA3NSkiLAogICAgICAgICAgICAvLyAiYm94LXNoYWRvdyI6ICJpbnNldCAwIDFweCAxcHggcmdiYSgwLDAsMCwuMDc1KSIsCiAgICAgICAgICAgICItd2Via2l0LXRyYW5zaXRpb24iOgogICAgICAgICAgICAgICJib3JkZXItY29sb3IgZWFzZS1pbi1vdXQgLjE1cywtd2Via2l0LWJveC1zaGFkb3cgZWFzZS1pbi1vdXQgLjE1cyIsCiAgICAgICAgICAgICItby10cmFuc2l0aW9uIjoKICAgICAgICAgICAgICAiYm9yZGVyLWNvbG9yIGVhc2UtaW4tb3V0IC4xNXMsYm94LXNoYWRvdyBlYXNlLWluLW91dCAuMTVzIiwKICAgICAgICAgICAgdHJhbnNpdGlvbjoKICAgICAgICAgICAgICAiYm9yZGVyLWNvbG9yIGVhc2UtaW4tb3V0IC4xNXMsYm94LXNoYWRvdyBlYXNlLWluLW91dCAuMTVzIiwKICAgICAgICAgICAgd2lkdGg6ICIxMDAlIiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZFtuYW1lPXN1Ym1pdF0iOiB7CiAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNGMTU1NUMiLAogICAgICAgICAgICAiZm9udC1mYW1pbHkiOiAic2Fucy1zZXJpZiIsCiAgICAgICAgICAgICJ0ZXh0LXRyYW5zZm9ybSI6ICJ1cHBlcmNhc2UiLAogICAgICAgICAgICBoZWlnaHQ6ICI1MHB4IiwKICAgICAgICAgICAgY29sb3I6ICIjZmZmZmZmIiwKICAgICAgICAgICAgYm9yZGVyOiAiMHB4IHNvbGlkIHRyYW5zcGFyZW50IiwKICAgICAgICAgICAgImJvcmRlci1yYWRpdXMiOiAiMnB4IiwKICAgICAgICAgICAgImZvbnQtd2VpZ2h0IjogImJvbGRlciIsCiAgICAgICAgICAgICJmb250LXNpemUiOiAibWVkaXVtIiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZFtuYW1lPXN1Ym1pdF06Zm9jdXMiOiB7CiAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNGMTU1NUMiLAogICAgICAgICAgICAiZm9udC1mYW1pbHkiOiAic2Fucy1zZXJpZiIsCiAgICAgICAgICAgICJ0ZXh0LXRyYW5zZm9ybSI6ICJ1cHBlcmNhc2UiLAogICAgICAgICAgICBoZWlnaHQ6ICI1MHB4IiwKICAgICAgICAgICAgY29sb3I6ICIjZmZmZmZmIiwKICAgICAgICAgICAgYm9yZGVyOiAiMHB4IHNvbGlkIHRyYW5zcGFyZW50ICFpbXBvcnRhbnQiLAogICAgICAgICAgICAiYm9yZGVyLXJhZGl1cyI6ICIycHgiLAogICAgICAgICAgICAiZm9udC13ZWlnaHQiOiAiYm9sZGVyIiwKICAgICAgICAgICAgImZvbnQtc2l6ZSI6ICJtZWRpdW0iLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkW25hbWU9c3VibWl0XTpob3ZlciI6IHsKICAgICAgICAgICAgImJhY2tncm91bmQtY29sb3IiOiAiI0YxNTU1QyIsCiAgICAgICAgICAgICJmb250LWZhbWlseSI6ICJzYW5zLXNlcmlmIiwKICAgICAgICAgICAgInRleHQtdHJhbnNmb3JtIjogInVwcGVyY2FzZSIsCiAgICAgICAgICAgIGhlaWdodDogIjUwcHgiLAogICAgICAgICAgICBjb2xvcjogIiNmZmZmZmYiLAogICAgICAgICAgICBib3JkZXI6ICIwcHggc29saWQgdHJhbnNwYXJlbnQgIWltcG9ydGFudCIsCiAgICAgICAgICAgICJib3JkZXItcmFkaXVzIjogIjJweCIsCiAgICAgICAgICAgICJmb250LXdlaWdodCI6ICJib2xkZXIiLAogICAgICAgICAgICAiZm9udC1zaXplIjogIm1lZGl1bSIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGQtd3JhcHBlciAjaGVhcnRsYW5kLWZpZWxkOmZvY3VzIjogewogICAgICAgICAgICAiYm9yZGVyLWxlZnQiOiAiMHB4IiwKICAgICAgICAgICAgImJvcmRlci10b3AiOiAiMHB4IiwKICAgICAgICAgICAgImJvcmRlci1yaWdodCI6ICIwcHgiLAogICAgICAgICAgICAiYm9yZGVyLWJvdHRvbSI6ICIxcHggc29saWQgIzM5ODllMyIsCiAgICAgICAgICAgIG91dGxpbmU6ICJub25lIiwKICAgICAgICAgICAgImJveC1zaGFkb3ciOiAibm9uZSIsCiAgICAgICAgICAgIGhlaWdodDogIjUwcHgiLAogICAgICAgICAgfSwKICAgICAgICAgICJoZWFydGxhbmQtZmllbGQtd3JhcHBlciAjaGVhcnRsYW5kLWZpZWxkIjogewogICAgICAgICAgICBoZWlnaHQ6ICI1MHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiaW5wdXRbdHlwZT1zdWJtaXRdIjogewogICAgICAgICAgICAiYm94LXNpemluZyI6ICJib3JkZXItYm94IiwKICAgICAgICAgICAgZGlzcGxheTogImlubGluZS1ibG9jayIsCiAgICAgICAgICAgIHBhZGRpbmc6ICI2cHggMTJweCIsCiAgICAgICAgICAgICJtYXJnaW4tYm90dG9tIjogIjAiLAogICAgICAgICAgICAiZm9udC1zaXplIjogIjE0cHgiLAogICAgICAgICAgICAiZm9udC13ZWlnaHQiOiAiNDAwIiwKICAgICAgICAgICAgImxpbmUtaGVpZ2h0IjogIjEuNDI4NTcxNDMiLAogICAgICAgICAgICAidGV4dC1hbGlnbiI6ICJjZW50ZXIiLAogICAgICAgICAgICAid2hpdGUtc3BhY2UiOiAibm93cmFwIiwKICAgICAgICAgICAgInZlcnRpY2FsLWFsaWduIjogIm1pZGRsZSIsCiAgICAgICAgICAgICItbXMtdG91Y2gtYWN0aW9uIjogIm1hbmlwdWxhdGlvbiIsCiAgICAgICAgICAgICJ0b3VjaC1hY3Rpb24iOiAibWFuaXB1bGF0aW9uIiwKICAgICAgICAgICAgY3Vyc29yOiAicG9pbnRlciIsCiAgICAgICAgICAgICItd2Via2l0LXVzZXItc2VsZWN0IjogIm5vbmUiLAogICAgICAgICAgICAiLW1vei11c2VyLXNlbGVjdCI6ICJub25lIiwKICAgICAgICAgICAgIi1tcy11c2VyLXNlbGVjdCI6ICJub25lIiwKICAgICAgICAgICAgInVzZXItc2VsZWN0IjogIm5vbmUiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1pbWFnZSI6ICJub25lIiwKICAgICAgICAgICAgYm9yZGVyOiAiMXB4IHNvbGlkIHRyYW5zcGFyZW50IiwKICAgICAgICAgICAgImJvcmRlci1yYWRpdXMiOiAiNHB4IiwKICAgICAgICAgICAgY29sb3I6ICIjZmZmIiwKICAgICAgICAgICAgImJhY2tncm91bmQtY29sb3IiOiAiIzMzN2FiNyIsCiAgICAgICAgICAgICJib3JkZXItY29sb3IiOiAiIzJlNmRhNCIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGRbcGxhY2Vob2xkZXJdIjogewogICAgICAgICAgICAibGV0dGVyLXNwYWNpbmciOiAiMXB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiOjpwbGFjZWhvbGRlciI6IHsKICAgICAgICAgICAgY29sb3I6ICIjOENBMkFEIiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZFtuYW1lPWNhcmRDdnZdIjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOgogICAgICAgICAgICAgICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9jdnYxLnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI2M3B4IDQwcHgiLAogICAgICAgICAgfSwKICAgICAgICAgICJpbnB1dCNoZWFydGxhbmQtZmllbGRbbmFtZT1jYXJkTnVtYmVyXSI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3MtaW5wdXRjYXJkLWJsYW5rQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI1NXB4IDM1cHgiLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLmludmFsaWQuY2FyZC10eXBlLXZpc2EiOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6CiAgICAgICAgICAgICAgInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLXNhdmVkLXZpc2FAMngucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjgzcHggODhweCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXBvc2l0aW9uLXkiOiAiLTQ0cHgiLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLnZhbGlkLmNhcmQtdHlwZS12aXNhIjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOgogICAgICAgICAgICAgICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZC12aXNhQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IHRvcCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXNpemUiOiAiODJweCA4NnB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC5pbnZhbGlkLmNhcmQtdHlwZS1kaXNjb3ZlciI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWQtZGlzY292ZXJAMngucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjg1cHggOTBweCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXBvc2l0aW9uLXkiOiAiLTQ0cHgiLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLnZhbGlkLmNhcmQtdHlwZS1kaXNjb3ZlciI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWQtZGlzY292ZXJAMngucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjg1cHggOTBweCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXBvc2l0aW9uLXkiOiAiMXB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC5pbnZhbGlkLmNhcmQtdHlwZS1hbWV4IjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOgogICAgICAgICAgICAgICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZGNhcmRzLWFtZXhAMngucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjUwcHggOTBweCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXBvc2l0aW9uLXkiOiAiLTQ0cHgiLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLnZhbGlkLmNhcmQtdHlwZS1hbWV4IjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOgogICAgICAgICAgICAgICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZGNhcmRzLWFtZXhAMngucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQgdG9wIiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI1MHB4IDkwcHgiLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLmludmFsaWQuY2FyZC10eXBlLW1hc3RlcmNhcmQiOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6CiAgICAgICAgICAgICAgInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLXNhdmVkLW1hc3RlcmNhcmQucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjYycHggMTA1cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi01MnB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC52YWxpZC5jYXJkLXR5cGUtbWFzdGVyY2FyZCI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWQtbWFzdGVyY2FyZC5wbmc/cmF3PXRydWUpIG5vLXJlcGVhdCByaWdodCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXNpemUiOiAiNjJweCAxMDVweCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXBvc2l0aW9uLXkiOiAiLTFweCIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGQuaW52YWxpZC5jYXJkLXR5cGUtamNiIjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOgogICAgICAgICAgICAgICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZC1qY2JAMngucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjU1cHggOTRweCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXBvc2l0aW9uLXkiOiAiLTQ0cHgiLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLnZhbGlkLmNhcmQtdHlwZS1qY2IiOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6CiAgICAgICAgICAgICAgInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLXNhdmVkLWpjYkAyeC5wbmc/cmF3PXRydWUpIG5vLXJlcGVhdCByaWdodCB0b3AiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjU1cHggOTRweCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXBvc2l0aW9uLXkiOiAiMnB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiaW5wdXQjaGVhcnRsYW5kLWZpZWxkW25hbWU9Y2FyZE51bWJlcl06Oi1tcy1jbGVhciI6IHsKICAgICAgICAgICAgZGlzcGxheTogIm5vbmUiLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIC8vIENhbGxiYWNrIHdoZW4gYSB0b2tlbiBpcyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2aWNlCiAgICAgICAgb25Ub2tlblN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXNwKSB7CiAgICAgICAgICBzZWxmLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAgIHBob25lOiBzZWxmLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgICAgcmVmSWQ6IHNlbGYuYm9va2luZ0lkLAogICAgICAgICAgICBzdGF0dXNUZXh0OiAiSFBTIHRva2VuIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHkiLAogICAgICAgICAgfSk7CiAgICAgICAgICBzZWxmLm9uU3VibWl0KHJlc3ApOwogICAgICAgIH0sCiAgICAgICAgLy8gQ2FsbGJhY2sgd2hlbiBhbiBlcnJvciBpcyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2aWNlCiAgICAgICAgb25Ub2tlbkVycm9yOiBmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgc2VsZi5hZGRQYXltZW50TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgc2VsZi5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgICBzZWxmLmVyckRpYWxvZyA9IHRydWU7CiAgICAgICAgICBzZWxmLmVyck1zZyA9IHJlc3AuZXJyb3IubWVzc2FnZTsKICAgICAgICAgIHNlbGYucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgcGhvbmU6IHNlbGYuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgICAgICByZWZJZDogc2VsZi5ib29raW5nSWQsCiAgICAgICAgICAgIGVycm9yOiByZXNwLmVycm9yLm1lc3NhZ2UsCiAgICAgICAgICAgIHN0YXR1c1RleHQ6ICJFcnJvciBpbiBnZW5lcmF0aW5nIEhQUyB0b2tlbi4iLAogICAgICAgICAgfSk7CiAgICAgICAgICAvLyBhbGVydCgiVGhlcmUgd2FzIGFuIGVycm9yOiAiICsgcmVzcC5lcnJvci5tZXNzYWdlKTsKICAgICAgICB9LAogICAgICAgIC8vIENhbGxiYWNrIHdoZW4gYW4gZXZlbnQgaXMgZmlyZWQgd2l0aGluIGFuIGlGcmFtZQogICAgICAgIG9uRXZlbnQ6IGZ1bmN0aW9uICgpIHsgfSwKICAgICAgfSk7CiAgICB9LAogICAgbmF2aWdhdGVUb0NoZWNrSW4oKSB7CiAgICAgIGlmICh0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcudHlwZSA9PT0gIjE0IikgewogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogIi9wcm9taXNldG9wYXkiIH0pOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICIvY2hlY2tlZGluIiB9KTsKICAgIH0sCiAgICBhc3luYyBvblN1Ym1pdChyZXNwKSB7CiAgICAgIHRoaXMuYWRkUGF5bWVudExvYWRpbmcgPSB0cnVlOwogICAgICB0aGlzLnNob3dQYXltZW50QnRuID0gZmFsc2U7CiAgICAgIGxldCBlbWFpbF92YWx1ZSA9IHRoaXMuZW1haWwudHJpbSgpOyAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZW1haWxfYWRkcmVzcyIpLnZhbHVlOwogICAgICBsZXQgcG9zdGFsQ29kZV92YWx1ZSA9IHRoaXMucG9zdGFsQ29kZS50cmltKCk7IC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBvc3RhbF9jb2RlIikudmFsdWU7CiAgICAgIGlmICgKICAgICAgICB0aGlzLnZhbGlkYXRlRW1haWwoZW1haWxfdmFsdWUpICYmCiAgICAgICAgdGhpcy52YWxpZGF0ZVBvc3RhbENvZGUocG9zdGFsQ29kZV92YWx1ZSkgJiYKICAgICAgICB0aGlzLnZhbGlkYXRlRXhwRGF0ZShyZXNwLmV4cF9tb250aCwgcmVzcC5leHBfeWVhcikKICAgICAgKSB7CiAgICAgICAgaWYgKHJlc3A/LnRva2VuX3ZhbHVlKSB7CiAgICAgICAgICBsZXQgY2FyZERhdGEgPSB7CiAgICAgICAgICAgIGNhcmRUeXBlOiByZXNwLmNhcmRfdHlwZSwKICAgICAgICAgICAgdXNlckRldmljZTogIjIiLAogICAgICAgICAgICBvcmRlclR5cGU6ICIzIiwKICAgICAgICAgICAgZW50cnk6IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbkNvZGU6IHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS5sb2NhdGlvbkNvZGUsCiAgICAgICAgICAgICAgICBzdGFydEF0OiB0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcuc3RhcnRBdCwKICAgICAgICAgICAgICAgIHF1YW50aXR5OiAiMSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgICAgcGF5bWVudDogewogICAgICAgICAgICAgIGxhc3RGb3VyRGlnaXRzOiByZXNwLmxhc3RfZm91ciwKICAgICAgICAgICAgICBleHBpcmF0aW9uTW9udGg6IHJlc3AuZXhwX21vbnRoLAogICAgICAgICAgICAgIGV4cGlyYXRpb25ZZWFyOiByZXNwLmV4cF95ZWFyLAogICAgICAgICAgICAgIHBvc3RhbENvZGU6IHBvc3RhbENvZGVfdmFsdWUsCiAgICAgICAgICAgICAgYXV0aG9yaXphdGlvblRva2VuOiByZXNwLnRva2VuX3ZhbHVlLAogICAgICAgICAgICAgIGVtYWlsOiBlbWFpbF92YWx1ZSwKICAgICAgICAgICAgICBzYXZlQ2FyZDogdGhpcy5kZWZhdWx0Q3JlZGl0Q2FyZENCLnRvU3RyaW5nKCksCiAgICAgICAgICAgICAgaXNEZWZhdWx0OiB0aGlzLmRlZmF1bHRDcmVkaXRDYXJkQ0IsCiAgICAgICAgICAgICAgcHJlQXV0aG9yaXplZE9ubHk6IHRoaXMuYXV0b0NoZWNraW5DQiwKICAgICAgICAgICAgfSwKICAgICAgICAgIH07CgogICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgdmFyIGFkZENhcmQgPSBhd2FpdCBBUElIZWxwZXIoCiAgICAgICAgICAgICAgIlBPU1QiLAogICAgICAgICAgICAgICIvYXBpL3YxL3BheW1lbnQvYWRkQ2FyZC8iICsgdGhpcy5ib29raW5nSWQsCiAgICAgICAgICAgICAgY2FyZERhdGEKICAgICAgICAgICAgKTsKICAgICAgICAgICAgaWYgKAogICAgICAgICAgICAgIGFkZENhcmQ/LmRhdGE/LnN0YXR1cyAmJgogICAgICAgICAgICAgIHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy50eXBlID09PSAiMTQiCiAgICAgICAgICAgICkgewogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogIi9jaGVja291dCIgfSk7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmIChhZGRDYXJkPy5kYXRhPy5zdGF0dXMpIHsKICAgICAgICAgICAgICBhd2FpdCB0aGlzLmdldEJvb2tpbmdTdGF0ZSh0aGlzLmJvb2tpbmdJZCk7CiAgICAgICAgICAgICAgdGhpcy5hZGRQYXltZW50TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogIi9jaGVja2VkaW4iIH0pOwogICAgICAgICAgICAgIHRoaXMuc2hvd1BheW1lbnRCdG4gPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgICAgIHBob25lOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgICAgICAgIHJlZklkOiB0aGlzLmJvb2tpbmdJZCwKICAgICAgICAgICAgICAgIGljb246ICJjcmVkaXRfc2NvcmUiLAogICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogIkNhcmQgYWRkZWQgc3VjY2Vzc2Z1bGx5LiIsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5hZGRQYXltZW50TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIHRoaXMuc2hvd1BheW1lbnRCdG4gPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMuZXJyRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgICB0aGlzLmVyck1zZyA9IGFkZENhcmQ/LmRhdGE/Lm1lc3NhZ2UKICAgICAgICAgICAgICAgID8gYWRkQ2FyZC5kYXRhLm1lc3NhZ2UKICAgICAgICAgICAgICAgIDogIlBsZWFzZSB0cnkgYWdhaW4iOwogICAgICAgICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgICAgIHBob25lOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgICAgICAgIHJlZklkOiB0aGlzLmJvb2tpbmdJZCwKICAgICAgICAgICAgICAgIGVycm9yOiB0aGlzLmVyck1zZywKICAgICAgICAgICAgICAgIGljb246ICJjcmVkaXRfc2NvcmUiLAogICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogIkVycm9yIGluIGFkZGluZyB0aGUgY3JlZGl0IGNhcmQuIiwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICAgICAgdGhpcy5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmVyck1zZyA9ICJQbGVhc2UgdHJ5IGFnYWluLiI7CiAgICAgICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgICBwaG9uZTogdGhpcy5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgICAgICAgcmVmSWQ6IHRoaXMuYm9va2luZ0lkLAogICAgICAgICAgICAgIGVycm9yOiBlcnJvciwKICAgICAgICAgICAgICBpY29uOiAiY3JlZGl0X3Njb3JlIiwKICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAiRXJyb3IgaW4gYWRkaW5nIHRoZSBjcmVkaXQgY2FyZC4iLAogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5hZGRQYXltZW50TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLnNob3dQYXltZW50QnRuID0gdHJ1ZTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGF0ZUV4cERhdGUobW9udGgsIHllYXIpIHsKICAgICAgaWYgKG1vbnRoLmxlbmd0aCA+IDAgJiYgeWVhci5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyTXNnID0gIkV4cGlyYXRpb24gZGF0ZSBjYW5ub3QgYmUgZW1wdHkuIjsKICAgICAgICB0aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgdmFsaWRhdGVFbWFpbChlbWFpbCkgewogICAgICBjb25zdCByZSA9CiAgICAgICAgL14oKFtePD4oKVtcXVxcLiw7OlxzQCJdKyhcLltePD4oKVtcXVxcLiw7OlxzQCJdKykqKXwoIi4rIikpQCgoXFtbMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XC5bMC05XXsxLDN9XF0pfCgoW2EtekEtWlwtMC05XStcLikrW2EtekEtWl17Mix9KSkkLzsKICAgICAgaWYgKHJlLnRlc3QoU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyRGlhbG9nID0gdHJ1ZTsKICAgICAgICB0aGlzLmVyck1zZyA9CiAgICAgICAgICBlbWFpbC5sZW5ndGggPiAwID8gIkludmFsaWQgZW1haWwiIDogIkVtYWlsIGNhbm5vdCBiZSBlbXB0eSI7CiAgICAgICAgdGhpcy5hZGRQYXltZW50TG9hZGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMuc2hvd1BheW1lbnRCdG4gPSB0cnVlOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIHZhbGlkYXRlUG9zdGFsQ29kZShjb2RlKSB7CiAgICAgIGNvbnN0IHJlZ2V4ID0gL15bYS16MC05XSskL2k7CiAgICAgIGlmIChyZWdleC50ZXN0KGNvZGUpICYmIFN0cmluZyhjb2RlKS5sZW5ndGggPD0gMTApIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVyckRpYWxvZyA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJNc2cgPQogICAgICAgICAgY29kZS5sZW5ndGggPiAwCiAgICAgICAgICAgID8gIkludmFsaWQgcG9zdGFsIGNvZGUiCiAgICAgICAgICAgIDogIlBvc3RhbCBjb2RlIGNhbm5vdCBiZSBlbXB0eSI7CiAgICAgICAgdGhpcy5hZGRQYXltZW50TG9hZGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMuc2hvd1BheW1lbnRCdG4gPSB0cnVlOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIGdldEJvb2tpbmdTdGF0ZShib29raW5nSWQpIHsKICAgICAgdmFyIGJvb2tpbmdEZXRhaWxzID0gYXdhaXQgQVBJSGVscGVyKAogICAgICAgICJHRVQiLAogICAgICAgICIvYXBpL3YxL2Jvb2tpbmcvY29uZmlnLyIgKyBib29raW5nSWQKICAgICAgKTsKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KAogICAgICAgICJTRVRfQk9PS0lOR19ERVRBSUxTIiwKICAgICAgICBib29raW5nRGV0YWlscy5kYXRhPy5kYXRhID8gYm9va2luZ0RldGFpbHMuZGF0YS5kYXRhIDogbnVsbAogICAgICApOwogICAgfSwKICAgIG9wZW5JbmZvRGlhbG9nKCkgewogICAgICB0aGlzLmluZm9EaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLmluZm9Nc2cgPQogICAgICAgICJCeSBjaGVja2luZyB0aGlzIGJveCB5b3UgYWdyZWUgdG8gbGV0IHVzIHRvIHNlY3VyZWx5IHNhdmUgeW91ciBjcmVkaXQgY2FyZCBkZXRhaWxzIHNvIHlvdSBkb24ndCBoYXZlIHRvIGVudGVyIHRoZW0gZXZlcnkgdGltZSB5b3UgdmlzaXQuIjsKICAgIH0sCiAgICBvcGVuQXV0b0NoZWNraW5JbmZvRGlhbG9nKCkgewogICAgICB0aGlzLmluZm9EaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLmluZm9Nc2cgPQogICAgICAgICJCeSBjaGVja2luZyB0aGlzIGJveCB5b3UgYWdyZWUgdG8gbGV0IHVzIHNlY3VyZWx5IHNhdmUgeW91ciBsaWNlbnNlIHBsYXRlIG51bWJlciBhbmQgYXV0b21hdGljYWxseSBsZXQgeW91IGluIGFuZCBvdXQgZWFjaCB0aW1lIHlvdSB2aXNpdC4iOwogICAgfSwKICB9LAogIGJlZm9yZURlc3Ryb3k6IGZ1bmN0aW9uICgpIHsKICAgIHRoaXMuaHBzLmRpc3Bvc2UoKTsKICB9LAp9Owo="},{"version":3,"sources":["AddPaymentHPS.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"AddPaymentHPS.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container class=\"pa-0 fill-height\" fluid>\n    <v-card elevation=\"0\" class=\"pa-0 fill-height fit-width\">\n      <v-card-title class=\"justify-center add_payment_title\">\n        <v-spacer></v-spacer>\n        <span>Add Payment</span>\n        <v-spacer></v-spacer>\n        <v-icon @click=\"navigateToCheckIn\">mdi-close</v-icon>\n      </v-card-title>\n      <v-divider style=\"background-color: #a0c5d8\"></v-divider>\n      <v-card-text class=\"pa-2\">\n        <v-dialog v-model=\"addPaymentLoading\" persistent>\n          <v-card class=\"pa-4\">\n            <v-progress-circular indeterminate color=\"red\"></v-progress-circular>\n            <span class=\"ml-4\" style=\"font-size: 14px\">Please wait...</span>\n          </v-card>\n        </v-dialog>\n\n        <div class=\"form-wrapper\">\n          <form id=\"iframes\" action method=\"GET\">\n            <v-container class=\"pa-2\" fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"pa-0\">\n                  <label for=\"iframesCardNumber\">CREDIT CARD*</label>\n                  <div id=\"iframesCardNumber\" style=\"width: 100%\"></div>\n                </v-col>\n                <v-col cols=\"6\" class=\"pa-0\">\n                  <label for=\"iframesCardExpiration\">EXP DATE*</label>\n                  <div id=\"iframesCardExpiration\"></div>\n                </v-col>\n                <v-divider vertical class=\"mx-2 my-4\"></v-divider>\n                <v-col class=\"pa-0\">\n                  <label for=\"iframesCardCvv\">CVV*</label>\n                  <div id=\"iframesCardCvv\"></div>\n                </v-col>\n                <v-col cols=\"12\" class=\"pa-0 mb-2\">\n                  <label class=\"hps_label\" for=\"postalCode\">POSTAL CODE*</label>\n                  <div>\n                    <input ref=\"postalCodeInput\" v-model=\"postalCode\" class=\"hps_input\" type=\"tel\" id=\"postal_code\"\n                      maxlength=\"10\" placeholder=\"Enter Postal Code\" name=\"postalCode\"\n                      @focus=\"$vuetify.goTo($refs.postalCodeInput, options)\"\n                      @mouseup=\"$vuetify.goTo($refs.postalCodeInput, options)\" />\n                  </div>\n                </v-col>\n                <!-- <v-col cols=\"12\" v-show=\"!checkPostalCode\">\n                    <p\n                      style=\"\n                        color: #d3838d;\n                        font-weight: bolder;\n                        font-size: smaller;\n                      \"\n                    >\n                      *This payment method applies for [US | CANADIAN] locations\n                      only.\n                    </p>\n                  </v-col> -->\n                <v-col cols=\"12\" class=\"pa-0\">\n                  <label class=\"hps_label\" for=\"email\">EMAIL*</label>\n                  <div>\n                    <input ref=\"emailInput\" v-model=\"email\" class=\"hps_input\" id=\"email_address\" placeholder=\"Enter Email\"\n                      name=\"email\" v-on:keyup.enter=\"onFormSubmit()\" @focus=\"$vuetify.goTo($refs.emailInput, options)\"\n                      @mouseup=\"$vuetify.goTo($refs.emailInput, options)\" />\n                  </div>\n                </v-col>\n                <v-col cols=\"10\" class=\"pa-0\" v-show=\"\n                  bookingDetails.hasOwnProperty('booking') &&\n                  bookingDetails.booking.hasOwnProperty('accountType') &&\n                  (bookingDetails.booking.accountType == '2' ||\n                    bookingDetails.booking.accountType == '1' ||\n                    bookingDetails.booking.accountType == '0') &&\n                  bookingDetails.booking.guestSaveCard == '1'\n                \">\n                  <v-checkbox v-model=\"defaultCreditCardCB\" label=\"Save card for faster checkout next time\"\n                    hide-details=\"auto\"></v-checkbox> </v-col>\n                <v-col cols=\"2\" class=\"pa-0 text-left pl-10 align-self-end\" v-show=\"\n                  bookingDetails.hasOwnProperty('booking') &&\n                  bookingDetails.booking.hasOwnProperty('accountType') &&\n                  (bookingDetails.booking.accountType == '2' ||\n                    bookingDetails.booking.accountType == '1' ||\n                    bookingDetails.booking.accountType == '0') &&\n                  bookingDetails.booking.guestSaveCard == '1'\n                \">\n                  <v-icon @click=\"openInfoDialog()\" color=\"primary\">mdi-information</v-icon>\n                </v-col>\n                <v-col cols=\"10\" class=\"pa-0\" v-show=\"\n                  defaultCreditCardCB == true &&\n                  bookingDetails.booking.isLPRAutocheckInEnabled == '1'\n                \">\n                  <v-checkbox v-model=\"autoCheckinCB\" hide-details=\"auto\" \n                    label=\"Save my license plate and automatically let me in next time\"></v-checkbox>\n                </v-col>\n                <v-col cols=\"2\" class=\"pa-0 text-left align-self-center pl-10\" v-show=\"\n                  defaultCreditCardCB == true &&\n                  bookingDetails.booking.isLPRAutocheckInEnabled == '1'\n                \">\n                  <v-icon @click=\"openAutoCheckinInfoDialog()\" color=\"primary\">mdi-information</v-icon>\n                </v-col>\n                <p v-show=\"\n                  defaultCreditCardCB == true &&\n                  bookingDetails.booking.isLPRAutocheckInEnabled == '1'\n                \" class=\"px-8 font-weight-bold text-decoration-underline\" style=\"font-size: 11px;\">(Do not check this box for a car you don't own, like a rental)\n</p>\n\n                <v-col cols=\"12\" class=\"mt-10 text-center\" v-show=\"showPaymentBtn\">\n                  <v-btn ref=\"submitBtn\" rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                    @click=\"onFormSubmit()\">Submit</v-btn>\n                </v-col>\n                <!-- <v-col cols=\"12\" class=\"mt-10 text-center\">\n                    <div id=\"iframesSubmit\" v-show=\"showPaymentBtn\"></div>\n                  </v-col>-->\n              </v-row>\n            </v-container>\n          </form>\n        </div>\n      </v-card-text>\n    </v-card>\n    <v-dialog v-model=\"errDialog\" max-width=\"fit-content\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\">\n          <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">\n            {{ errMsg }}\n          </span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"errDialog = false\">OK</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"infoDialog\" max-width=\"fit-content\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\">\n          <v-icon x-large color=\"red accent-2\">mdi-information</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">\n            {{ infoMsg }}\n          </span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"infoDialog = false\">OK</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport Heartland from \"../plugins/securesubmit\";\n// import axios from \"axios\";\nimport APIHelper from \"../apiHelper\";\n// import loggerHelper from \"../loggerHelper\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"AddPayment\",\n  data: () => ({\n    defaultCreditCardCB: false,\n    autoCheckinCB: false,\n    hps: \"\",\n    postalCode: \"\",\n    email: \"\",\n    addPaymentLoading: false,\n    showPaymentBtn: true,\n    duration: 300,\n    offset: 100,\n    easing: \"easeInOutCubic\",\n    errDialog: false,\n    errMsg: \"\",\n    infoDialog: false,\n    infoMsg: \"\",\n  }),\n  computed: {\n    ...mapGetters({\n      bookingId: \"getterBookingId\",\n      bookingDetails: \"getterBookingDetails\",\n    }),\n    options() {\n      return {\n        duration: this.duration,\n        offset: this.offset,\n        easing: this.easing,\n      };\n    },\n    checkPostalCode() {\n      return (\n        /(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(this.postalCode) ||\n        /^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$/.test(this.postalCode)\n      );\n    },\n  },\n  created() { },\n  beforeRouteEnter(to, from, next) {\n    next(async (vm) => {\n      vm.$vuetify.goTo(0);\n    });\n  },\n  mounted: function () {\n    this.initHPSform();\n  },\n  methods: {\n    onFormSubmit() {\n      this.addPaymentLoading = true;\n      this.showPaymentBtn = false;\n      //check US Postal code Regex\n\n      if (/^(?=.{2,10}$)([0-9]{1,9}([-s]{1}[0-9]+)?)$/.test(this.postalCode)) {\n        this.hps.options.publicKey = this.bookingDetails?.booking?.MIDs\n          ?.HPS_PUBLIC_KEY_US\n          ? this.bookingDetails.booking.MIDs.HPS_PUBLIC_KEY_US\n          : \"\";\n        this.postToLoggerAPI({\n          phone: this.bookingDetails.user.contact,\n          refId: this.bookingId,\n          statusText:\n            \"Parker clicked on ADD PAYMENT btn with postal code- \" +\n            this.postalCode,\n        });\n        this.hps.tokenize();\n      }\n      //check CA Postal code Regex\n      else if (/.*[a-zA-Z].*$/.test(this.postalCode)) {\n        this.hps.options.publicKey = this.bookingDetails?.booking?.MIDs\n          ?.HPS_PUBLIC_KEY_CA\n          ? this.bookingDetails.booking.MIDs.HPS_PUBLIC_KEY_CA\n          : \"\";\n        this.postToLoggerAPI({\n          phone: this.bookingDetails.user.contact,\n          refId: this.bookingId,\n          statusText:\n            \"Parker clicked on ADD PAYMENT btn with postal code- \" +\n            this.postalCode,\n        });\n        this.hps.tokenize();\n      } else {\n        this.addPaymentLoading = false;\n        this.showPaymentBtn = true;\n        this.errDialog = true;\n        this.errMsg =\n          this.postalCode.length > 0\n            ? \"Invalid postal code\"\n            : \"Postal code cannot be empty\";\n        this.postToLoggerAPI({\n          phone: this.bookingDetails.user.contact,\n          refId: this.bookingId,\n          error: this.errMsg,\n          statusText:\n            \"Parker clicked on ADD PAYMENT btn with invalid postal code -\" +\n            this.postalCode,\n        });\n      }\n    },\n    initHPSform() {\n      var self = this;\n      this.hps = new Heartland.HPS({\n        type: \"iframe\",\n        fields: {\n          cardNumber: {\n            target: \"iframesCardNumber\",\n            placeholder: \"Enter Card Number\",\n          },\n          cardExpiration: {\n            target: \"iframesCardExpiration\",\n            placeholder: \"MM / YYYY\",\n          },\n          cardCvv: {\n            target: \"iframesCardCvv\",\n            placeholder: \"ex - 123\",\n          },\n        },\n        // Collection of CSS to inject into the iframes.\n        // These properties can match the site's styles\n        // to create a seamless experience.\n        style: {\n          input: {\n            background: \"#fff\",\n            border: \"1px solid\",\n            \"border-color\": \"#bbb3b9 #c7c1c6 #c7c1c6\",\n            \"box-sizing\": \"border-box\",\n            \"font-family\": \"serif\",\n            \"font-size\": \"16px\",\n            \"line-height\": \"1\",\n            margin: \"0 .5em 0 0\",\n            \"max-width\": \"100%\",\n            outline: \"0\",\n            padding: \"0.5278em\",\n            \"vertical-align\": \"baseline\",\n            height: \"50px\",\n            width: \"100% !important\",\n          },\n          \"#heartland-field\": {\n            \"font-family\": \"sans-serif\",\n            \"box-sizing\": \"border-box\",\n            display: \"block\",\n            height: \"50px\",\n            padding: \"6px 6px\",\n            \"font-size\": \"14px\",\n            \"line-height\": \"1.42857143\",\n            color: \"#555\",\n            \"background-color\": \"#fff\",\n            \"border-bottom\": \"1px solid #ccc\",\n            \"border-top\": \"0px\",\n            \"border-left\": \"0px\",\n            \"border-right\": \"0px\",\n            \"border-radius\": \"0px\",\n            // \"-webkit-box-shadow\": \"inset 0 1px 1px rgba(0,0,0,.075)\",\n            // \"box-shadow\": \"inset 0 1px 1px rgba(0,0,0,.075)\",\n            \"-webkit-transition\":\n              \"border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s\",\n            \"-o-transition\":\n              \"border-color ease-in-out .15s,box-shadow ease-in-out .15s\",\n            transition:\n              \"border-color ease-in-out .15s,box-shadow ease-in-out .15s\",\n            width: \"100%\",\n          },\n          \"#heartland-field[name=submit]\": {\n            \"background-color\": \"#F1555C\",\n            \"font-family\": \"sans-serif\",\n            \"text-transform\": \"uppercase\",\n            height: \"50px\",\n            color: \"#ffffff\",\n            border: \"0px solid transparent\",\n            \"border-radius\": \"2px\",\n            \"font-weight\": \"bolder\",\n            \"font-size\": \"medium\",\n          },\n          \"#heartland-field[name=submit]:focus\": {\n            \"background-color\": \"#F1555C\",\n            \"font-family\": \"sans-serif\",\n            \"text-transform\": \"uppercase\",\n            height: \"50px\",\n            color: \"#ffffff\",\n            border: \"0px solid transparent !important\",\n            \"border-radius\": \"2px\",\n            \"font-weight\": \"bolder\",\n            \"font-size\": \"medium\",\n          },\n          \"#heartland-field[name=submit]:hover\": {\n            \"background-color\": \"#F1555C\",\n            \"font-family\": \"sans-serif\",\n            \"text-transform\": \"uppercase\",\n            height: \"50px\",\n            color: \"#ffffff\",\n            border: \"0px solid transparent !important\",\n            \"border-radius\": \"2px\",\n            \"font-weight\": \"bolder\",\n            \"font-size\": \"medium\",\n          },\n          \"#heartland-field-wrapper #heartland-field:focus\": {\n            \"border-left\": \"0px\",\n            \"border-top\": \"0px\",\n            \"border-right\": \"0px\",\n            \"border-bottom\": \"1px solid #3989e3\",\n            outline: \"none\",\n            \"box-shadow\": \"none\",\n            height: \"50px\",\n          },\n          \"heartland-field-wrapper #heartland-field\": {\n            height: \"50px\",\n          },\n          \"input[type=submit]\": {\n            \"box-sizing\": \"border-box\",\n            display: \"inline-block\",\n            padding: \"6px 12px\",\n            \"margin-bottom\": \"0\",\n            \"font-size\": \"14px\",\n            \"font-weight\": \"400\",\n            \"line-height\": \"1.42857143\",\n            \"text-align\": \"center\",\n            \"white-space\": \"nowrap\",\n            \"vertical-align\": \"middle\",\n            \"-ms-touch-action\": \"manipulation\",\n            \"touch-action\": \"manipulation\",\n            cursor: \"pointer\",\n            \"-webkit-user-select\": \"none\",\n            \"-moz-user-select\": \"none\",\n            \"-ms-user-select\": \"none\",\n            \"user-select\": \"none\",\n            \"background-image\": \"none\",\n            border: \"1px solid transparent\",\n            \"border-radius\": \"4px\",\n            color: \"#fff\",\n            \"background-color\": \"#337ab7\",\n            \"border-color\": \"#2e6da4\",\n          },\n          \"#heartland-field[placeholder]\": {\n            \"letter-spacing\": \"1px\",\n          },\n          \"::placeholder\": {\n            color: \"#8CA2AD\",\n          },\n          \"#heartland-field[name=cardCvv]\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/cvv1.png?raw=true) no-repeat right\",\n            \"background-size\": \"63px 40px\",\n          },\n          \"input#heartland-field[name=cardNumber]\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-inputcard-blank@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"55px 35px\",\n          },\n          \"#heartland-field.invalid.card-type-visa\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-visa@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"83px 88px\",\n            \"background-position-y\": \"-44px\",\n          },\n          \"#heartland-field.valid.card-type-visa\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-visa@2x.png?raw=true) no-repeat right top\",\n            \"background-size\": \"82px 86px\",\n          },\n          \"#heartland-field.invalid.card-type-discover\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-discover@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"85px 90px\",\n            \"background-position-y\": \"-44px\",\n          },\n          \"#heartland-field.valid.card-type-discover\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-discover@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"85px 90px\",\n            \"background-position-y\": \"1px\",\n          },\n          \"#heartland-field.invalid.card-type-amex\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-savedcards-amex@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"50px 90px\",\n            \"background-position-y\": \"-44px\",\n          },\n          \"#heartland-field.valid.card-type-amex\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-savedcards-amex@2x.png?raw=true) no-repeat right top\",\n            \"background-size\": \"50px 90px\",\n          },\n          \"#heartland-field.invalid.card-type-mastercard\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-mastercard.png?raw=true) no-repeat right\",\n            \"background-size\": \"62px 105px\",\n            \"background-position-y\": \"-52px\",\n          },\n          \"#heartland-field.valid.card-type-mastercard\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-mastercard.png?raw=true) no-repeat right\",\n            \"background-size\": \"62px 105px\",\n            \"background-position-y\": \"-1px\",\n          },\n          \"#heartland-field.invalid.card-type-jcb\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-jcb@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"55px 94px\",\n            \"background-position-y\": \"-44px\",\n          },\n          \"#heartland-field.valid.card-type-jcb\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-jcb@2x.png?raw=true) no-repeat right top\",\n            \"background-size\": \"55px 94px\",\n            \"background-position-y\": \"2px\",\n          },\n          \"input#heartland-field[name=cardNumber]::-ms-clear\": {\n            display: \"none\",\n          },\n        },\n        // Callback when a token is received from the service\n        onTokenSuccess: function (resp) {\n          self.postToLoggerAPI({\n            phone: self.bookingDetails.user.contact,\n            refId: self.bookingId,\n            statusText: \"HPS token generated successfully\",\n          });\n          self.onSubmit(resp);\n        },\n        // Callback when an error is received from the service\n        onTokenError: function (resp) {\n          self.addPaymentLoading = false;\n          self.showPaymentBtn = true;\n          self.errDialog = true;\n          self.errMsg = resp.error.message;\n          self.postToLoggerAPI({\n            phone: self.bookingDetails.user.contact,\n            refId: self.bookingId,\n            error: resp.error.message,\n            statusText: \"Error in generating HPS token.\",\n          });\n          // alert(\"There was an error: \" + resp.error.message);\n        },\n        // Callback when an event is fired within an iFrame\n        onEvent: function () { },\n      });\n    },\n    navigateToCheckIn() {\n      if (this.bookingDetails.booking.type === \"14\") {\n        this.$router.replace({ path: \"/promisetopay\" });\n        return;\n      }\n      this.$router.replace({ path: \"/checkedin\" });\n    },\n    async onSubmit(resp) {\n      this.addPaymentLoading = true;\n      this.showPaymentBtn = false;\n      let email_value = this.email.trim(); // document.getElementById(\"email_address\").value;\n      let postalCode_value = this.postalCode.trim(); //document.getElementById(\"postal_code\").value;\n      if (\n        this.validateEmail(email_value) &&\n        this.validatePostalCode(postalCode_value) &&\n        this.validateExpDate(resp.exp_month, resp.exp_year)\n      ) {\n        if (resp?.token_value) {\n          let cardData = {\n            cardType: resp.card_type,\n            userDevice: \"2\",\n            orderType: \"3\",\n            entry: [\n              {\n                locationCode: this.bookingDetails.zone.locationCode,\n                startAt: this.bookingDetails.booking.startAt,\n                quantity: \"1\",\n              },\n            ],\n            payment: {\n              lastFourDigits: resp.last_four,\n              expirationMonth: resp.exp_month,\n              expirationYear: resp.exp_year,\n              postalCode: postalCode_value,\n              authorizationToken: resp.token_value,\n              email: email_value,\n              saveCard: this.defaultCreditCardCB.toString(),\n              isDefault: this.defaultCreditCardCB,\n              preAuthorizedOnly: this.autoCheckinCB,\n            },\n          };\n\n          try {\n            var addCard = await APIHelper(\n              \"POST\",\n              \"/api/v1/payment/addCard/\" + this.bookingId,\n              cardData\n            );\n            if (\n              addCard?.data?.status &&\n              this.bookingDetails.booking.type === \"14\"\n            ) {\n              this.$router.replace({ path: \"/checkout\" });\n              return;\n            }\n            if (addCard?.data?.status) {\n              await this.getBookingState(this.bookingId);\n              this.addPaymentLoading = false;\n              this.$router.replace({ path: \"/checkedin\" });\n              this.showPaymentBtn = true;\n              this.postToLoggerAPI({\n                phone: this.bookingDetails.user.contact,\n                refId: this.bookingId,\n                icon: \"credit_score\",\n                statusText: \"Card added successfully.\",\n              });\n            } else {\n              this.addPaymentLoading = false;\n              this.showPaymentBtn = true;\n              this.errDialog = true;\n              this.errMsg = addCard?.data?.message\n                ? addCard.data.message\n                : \"Please try again\";\n              this.postToLoggerAPI({\n                phone: this.bookingDetails.user.contact,\n                refId: this.bookingId,\n                error: this.errMsg,\n                icon: \"credit_score\",\n                statusText: \"Error in adding the credit card.\",\n              });\n            }\n          } catch (error) {\n            this.errDialog = true;\n            this.errMsg = \"Please try again.\";\n            this.postToLoggerAPI({\n              phone: this.bookingDetails.user.contact,\n              refId: this.bookingId,\n              error: error,\n              icon: \"credit_score\",\n              statusText: \"Error in adding the credit card.\",\n            });\n            this.addPaymentLoading = false;\n            this.showPaymentBtn = true;\n          }\n        }\n      }\n    },\n    validateExpDate(month, year) {\n      if (month.length > 0 && year.length > 0) {\n        return true;\n      } else {\n        this.errDialog = true;\n        this.errMsg = \"Expiration date cannot be empty.\";\n        this.addPaymentLoading = false;\n        this.showPaymentBtn = true;\n        return false;\n      }\n    },\n    validateEmail(email) {\n      const re =\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      if (re.test(String(email).toLowerCase())) {\n        return true;\n      } else {\n        this.errDialog = true;\n        this.errMsg =\n          email.length > 0 ? \"Invalid email\" : \"Email cannot be empty\";\n        this.addPaymentLoading = false;\n        this.showPaymentBtn = true;\n        return false;\n      }\n    },\n    validatePostalCode(code) {\n      const regex = /^[a-z0-9]+$/i;\n      if (regex.test(code) && String(code).length <= 10) {\n        return true;\n      } else {\n        this.errDialog = true;\n        this.errMsg =\n          code.length > 0\n            ? \"Invalid postal code\"\n            : \"Postal code cannot be empty\";\n        this.addPaymentLoading = false;\n        this.showPaymentBtn = true;\n        return false;\n      }\n    },\n    async getBookingState(bookingId) {\n      var bookingDetails = await APIHelper(\n        \"GET\",\n        \"/api/v1/booking/config/\" + bookingId\n      );\n      this.$store.commit(\n        \"SET_BOOKING_DETAILS\",\n        bookingDetails.data?.data ? bookingDetails.data.data : null\n      );\n    },\n    openInfoDialog() {\n      this.infoDialog = true;\n      this.infoMsg =\n        \"By checking this box you agree to let us to securely save your credit card details so you don't have to enter them every time you visit.\";\n    },\n    openAutoCheckinInfoDialog() {\n      this.infoDialog = true;\n      this.infoMsg =\n        \"By checking this box you agree to let us securely save your license plate number and automatically let you in and out each time you visit.\";\n    },\n  },\n  beforeDestroy: function () {\n    this.hps.dispose();\n  },\n};\n</script>\n<style lang=\"less\">\ninput {\n  background: \"#fff\";\n  border: \"1px solid\";\n  border-color: \"#bbb3b9 #c7c1c6 #c7c1c6\";\n  box-sizing: \"border-box\";\n  font-family: \"serif\";\n  font-size: \"16px\";\n  line-height: \"1\";\n  margin: \"0 .5em 0 0\";\n  max-width: \"100%\";\n  outline: \"0\";\n  padding: \"0.5278em\";\n  vertical-align: \"baseline\";\n  height: \"50px\";\n  width: \"100% !important\";\n}\n\n#heartland-frame-cardNumber {\n  width: 100% !important;\n}\n\n#heartland-frame-cardExpiration,\n#heartland-frame-cardCvv {\n  width: 100% !important;\n}\n\nbody {\n  font-family: sans-serif;\n}\n\nlabel[for=\"iframesCardNumber\"],\nlabel[for=\"iframesCardExpiration\"],\nlabel[for=\"iframesCardCvv\"],\nlabel[for=\"postalCode\"] {\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 13px;\n  color: #8ca2ad;\n  line-height: 1.5;\n}\n\nuser agent stylesheet div {\n  display: block;\n}\n\n.form-row {\n  margin-top: 10px;\n}\n\n.form-wrapper {\n  display: block;\n  width: 100%;\n  margin: 10px auto;\n}\n\n.hps_input {\n  font-family: sans-serif;\n  box-sizing: border-box;\n  display: block;\n  height: 50px;\n  padding: 6px 6px;\n  font-size: 14px;\n  line-height: 1.42857143;\n  color: #555;\n  background-color: #fff;\n  border-bottom: 1px solid #ccc;\n  border-top: 0px;\n  border-left: 0px;\n  border-right: 0px;\n  border-radius: 0px;\n  -webkit-transition: border-color ease-in-out 0.15s,\n    -webkit-box-shadow ease-in-out 0.15s;\n  -o-transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n  width: 100%;\n}\n\n.add_payment_title {\n  background-color: #f7f9fa;\n\n  span {\n    font-weight: 600;\n    color: #44515a;\n  }\n}\n.v-label{\n  font-size: 12px;\n}\n.hps_label {\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 13px;\n  color: #8ca2ad;\n  line-height: 1.5;\n}\n\n.hps_input[placeholder] {\n  letter-spacing: 1px;\n}\n\n.hps_input:focus {\n  border-top: 0px;\n  border-left: 0px;\n  border-right: 0px;\n  border-bottom: 1px solid #3989e3;\n  outline: none;\n  box-shadow: none;\n  height: 50px;\n}\n\n#heartland-frame-submit {\n  border-radius: 40px;\n  height: 50px !important;\n  width: 100%;\n}\n\n::placeholder {\n  color: #8ca2ad;\n}\n\n:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #8ca2ad;\n}\n\n::-ms-input-placeholder {\n  /* Microsoft Edge */\n  color: #8ca2ad;\n}\n</style>"]}]}