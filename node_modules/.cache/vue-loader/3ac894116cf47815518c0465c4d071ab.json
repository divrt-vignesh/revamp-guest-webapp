{"remainingRequest":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/guest-webapp/src/views/FindUser.vue?vue&type=style&index=0&lang=less&","dependencies":[{"path":"/home/vignesh/DIVRT/guest-webapp/src/views/FindUser.vue","mtime":1678169106673},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgouYm9va2luZ19oZWFkZXIgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBib3R0b206IDMwcHg7CiAgbGVmdDogMTZweDsKICBmb250LXNpemU6IDE4cHg7CiAgZm9udC13ZWlnaHQ6IGJvbGRlcjsKfQouYWRkX2xpY2VuY2VfcGxhdGVfYnRuIHsKICB3aWR0aDogMTAwJTsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjI1NTVjICFpbXBvcnRhbnQ7CiAgZm9udC1zaXplOiAxOHB4ICFpbXBvcnRhbnQ7CiAgZm9udC13ZWlnaHQ6IDcwMCAhaW1wb3J0YW50OwogIGxldHRlci1zcGFjaW5nOiBub3JtYWwgIWltcG9ydGFudDsKICBoZWlnaHQ6IDUwcHggIWltcG9ydGFudDsKfQouY291bnRyeS1zZWxlY3Rvci5tZC5oYXMtdmFsdWUgLmNvdW50cnktc2VsZWN0b3JfX2lucHV0IHsKICBib3JkZXI6IG5vbmU7CiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkIHJnYigxMTgsIDExOCwgMTE4KTsKfQoKLmlucHV0LXRlbC5tZCAuaW5wdXQtdGVsX19pbnB1dCB7CiAgYm9yZGVyOiBub25lOwogIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCByZ2IoMTE4LCAxMTgsIDExOCk7CiAgbWFyZ2luLWxlZnQ6IDJweDsKfQouaW5wdXQtdGVsLmlzLWZvY3VzZWQuaGFzLWVycm9yIC5pbnB1dC10ZWxfX2lucHV0IHsKICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7Cn0KLmlucHV0LXRlbC5pcy1mb2N1c2VkLmlzLXZhbGlkIC5pbnB1dC10ZWxfX2lucHV0IHsKICBib3gtc2hhZG93OiBub25lICFpbXBvcnRhbnQ7Cn0KLnNtcy1pbnB1dCBpbnB1dCB7CiAgZm9udC1zaXplOiAzNnB4OwogIGZvbnQtd2VpZ2h0OiA1MDA7CiAgY29sb3I6ICM0NDUxNWEgIWltcG9ydGFudDsKfQoKLnNtcy1pbnB1dCA+IC52LWlucHV0X19jb250cm9sID4gLnYtaW5wdXRfX3Nsb3QgPiAudi1pbnB1dF9fYXBwZW5kLWlubmVyewogIG1hcmdpbi10b3A6MjhweCAhaW1wb3J0YW50Owp9Ci5zbXMtaW5wdXQgPiAudi1pbnB1dF9fY29udHJvbCA+IC52LWlucHV0X19zbG90ID4gLnYtdGV4dC1maWVsZF9fc2xvdCA+IC52LWxhYmVsewogIHRvcDoyOHB4ICFpbXBvcnRhbnQKfQouc21zLWlucHV0ID4gLnYtaW5wdXRfX2NvbnRyb2wgPiAudi1pbnB1dF9fc2xvdCA+IC52LXRleHQtZmllbGRfX3Nsb3QgPiAudi1sYWJlbC0tYWN0aXZlewogIHRvcDoxOHB4ICFpbXBvcnRhbnQKfQo="},{"version":3,"sources":["FindUser.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"FindUser.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container class=\"pa-4\" fluid>\n    <v-row class=\"text-center\" no-gutters>\n      <v-col cols=\"12\">\n        <v-img\n          alt=\"PARKING.COM\"\n          class=\"my-3\"\n          height=\"42\"\n          contain\n          src=\"../assets/logo_huge_drk.png\"\n        />\n      </v-col>\n    </v-row>\n    <v-row no-gutters>\n      <v-col>\n        <v-card class=\"mx-auto rounded-lg\" max-width=\"374\">\n          <template slot=\"progress\">\n            <v-progress-linear\n              color=\"red\"\n              height=\"10\"\n              indeterminate\n            ></v-progress-linear>\n          </template>\n          <div style=\"position: relative\">\n            <!-- <v-skeleton-loader\n                v-show=\"!zoneDetails.hasOwnProperty('image')\"\n                height=\"260px\"\n                class=\"rounded-t-lg\"\n                type=\"image\"\n              ></v-skeleton-loader> -->\n            <v-img\n              class=\"rounded-t-lg\"\n              max-height=\"260px\"\n              style=\"filter: brightness(50%)\"\n              :src=\"\n                zoneDetails.hasOwnProperty('image') &&\n                zoneDetails.image != '' &&\n                zoneDetails.image != null\n                  ? zoneDetails.image\n                  : zoneImgURL\n              \"\n              :lazy-src=\"\n                zoneDetails.hasOwnProperty('image') &&\n                zoneDetails.image != '' &&\n                zoneDetails.image != null\n                  ? zoneDetails.image\n                  : zoneImgURL\n              \"\n              alt=\"Parking.com garage\"\n            >\n              <template v-slot:placeholder>\n                <v-row\n                  class=\"fill-height ma-0\"\n                  align=\"center\"\n                  justify=\"center\"\n                  no-gutters\n                >\n                  <v-progress-circular\n                    indeterminate\n                    color=\"grey lighten-5\"\n                  ></v-progress-circular>\n                </v-row>\n              </template>\n            </v-img>\n            <div class=\"booking_header white--text text-left mr-4\">\n              Welcome to\n              {{\n                zoneDetails.hasOwnProperty(\"zoneName\")\n                  ? zoneDetails.zoneName\n                  : \"\"\n              }}\n            </div>\n          </div>\n          <!-- :style=\"'height:'+windowHeight+'px'\" -->\n          <v-card-text class=\"pa-2\" :style=\"'height:'+windowHeight+'px'\">\n              <v-container fluid pa-0 style=\"height: 100%;display: inline-grid;\">\n                <v-row no-gutters>\n                  <v-col\n                    cols=\"12\"\n                    class=\"px-4 mt-2 text-center color-black\"\n                    style=\"font-size: 12px\"\n                  >\n                    \n                  </v-col>\n                </v-row>\n                <v-row no-gutters class=\"pt-2\"\n                  ><v-col cols=\"12\" class=\"px-4 text-center\">\n                    <p class=\"mb-4\">\n                      Please enter your license plate\n                    </p>\n                    <v-text-field\n                    class=\"sms-input\"\n                    v-model=\"licencePlate\"\n                    outlined\n                    label=\"License Plate\"\n                    maxlength=\"10\"\n                    autofocus\n                    @keyup=\"uppercase\"\n                    v-on:keyup.enter=\"findUser()\"\n                    clearable\n                    height=\"80px\"\n                    hide-details=\"auto\"\n                  ></v-text-field>\n                     </v-col\n                ></v-row>\n              </v-container>\n          </v-card-text>\n          <v-card-actions class=\"justify-center pb-10\">\n            <v-container class=\"pa-0\" fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"px-2\">\n                  <v-btn\n                    rounded\n                    elevation=\"0\"\n                    class=\"add_licence_plate_btn white--text\"\n                    :loading=\"findUserBtnLoading\"\n                    @click=\"findUser\"\n                    :disabled=\"disableFindUserBtn\"\n                    >Find</v-btn\n                  >\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-actions>\n          <v-dialog v-model=\"errDialog\" max-width=\"fit-content\">\n            <v-card class=\"pa-0\">\n              <v-card-title class=\"justify-center\">\n                <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n              </v-card-title>\n              <v-card-text class=\"text-center mt-5\">\n                <span style=\"font-size: 20px\">\n                  {{ errMsg }}\n                </span>\n              </v-card-text>\n              <v-card-actions class=\"text-center pb-6\">\n                <v-container pa-0 fluid>\n                  <v-row no-gutters>\n                    <v-col cols=\"12\">\n                      <v-btn\n                        rounded\n                        block\n                        elevation=\"0\"\n                        class=\"white--text exit_dialog_btn\"\n                        @click=\"closeErrDialog\"\n                        >OK</v-btn\n                      >\n                    </v-col>\n                    <v-col cols=\"12\" class=\"my-2\">\n                      <v-btn\n                        rounded\n                        block\n                        elevation=\"0\"\n                        class=\"white--text exit_dialog_btn\"\n                        @click=\"navigateToConfirmHostPass\"\n                        >Proceed Anyway</v-btn\n                      >\n                    </v-col>\n                  </v-row>\n                </v-container>\n              </v-card-actions>\n            </v-card>\n          </v-dialog>\n        </v-card>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n  \n  <script>\nimport { mapGetters } from \"vuex\";\nimport APIHelper from \"../apiHelper\";\nimport rules from \"@/utils/rules\";\n\n// import loggerHelper from \"../loggerHelper\";\n// import { mapGetters } from \"vuex\";\nexport default {\n  name: \"FindUser\",\n  components: {},\n  data: () => ({\n    windowHeight:window.innerHeight-500,\n    isContactValid: true,\n    errDialog: false,\n    errMsg: \"\",\n    contactObj: {},\n    rules: rules,\n    licencePlate: \"\",\n    findUserBtnLoading: false,\n  }),\n  props: {\n    routeData: {\n      type: Object,\n    },\n  },\n  beforeRouteEnter(to, from, next) {\n    next((vm) => {\n      vm.$store.commit(\"SET_FINDUSER_DATA\", {});\n      let searchParams = window.location.search.split(\"=\");\n      let searchParamKey = searchParams.length > 0 ? searchParams[0] : \"\";\n      let searchParamValue = searchParams.length > 0 ? searchParams[1] : \"\";\n      switch (searchParamKey) {\n        case \"?zcode\":\n          vm.getZoneDetails(searchParamKey, searchParamValue);\n          break;\n        case \"?gateid\":\n          //await self.getZoneDetails(searchParamKey, searchParamValue);\n          break;\n      }\n    });\n  },\n  computed: {\n    ...mapGetters({\n      zoneDetails: \"getterZoneDetails\",\n    }),\n    disableFindUserBtn() {\n      let disabled = (\n        this.licencePlate == \"\" ||\n        this.licencePlate == null ||\n        /^[a-z0-9]+$/i.test(this.licencePlate) === false\n      );\n      return disabled\n    },\n  },\n  created() {},\n  async mounted() {\n    var self = this;\n    this.findUserBtnLoading = false;\n    let searchParams = window.location.search.split(\"=\");\n    let searchParamKey = searchParams.length > 0 ? searchParams[0] : \"\";\n    let searchParamValue = searchParams.length > 0 ? searchParams[1] : \"\";\n    switch (searchParamKey) {\n      case \"?zcode\":\n        await self.getZoneDetails(searchParamKey, searchParamValue);\n        break;\n      case \"?gateid\":\n        //await self.getZoneDetails(searchParamKey, searchParamValue);\n        break;\n    }\n  },\n  methods: {\n    uppercase() {\n      this.licencePlate = this.licencePlate.toUpperCase();\n    },\n    /**\n     * @method getZoneDetails fetch the zone details and commit SET_ZONE_DETAILS mutation.\n     */\n    async getZoneDetails(searchParamKey, searchParamValue) {\n      try {\n        var zoneDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/user/config\" + searchParamKey + \"=\" + searchParamValue\n        );\n        this.$store.commit(\"SET_ZONE_DETAILS\", zoneDetails.data?.zone);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async findUser(){\n      try {\n        if(this.licencePlate != \"\" && this.licencePlate != null){\n          this.findUserBtnLoading = true;\n        let postData = {\n          searchType: \"vehicleno\",\n          searchValue: this.licencePlate,\n          zid: this.zoneDetails.zid,\n        }\n        const findUser = await APIHelper(\n          \"POST\",\n          \"/api/v2/findBooking\",\n          postData\n        );\n        if(findUser?.data?.status == true){\n          this.$store.commit(\"SET_FINDUSER_DATA\", findUser.data?.data);\n          this.$router.push({path:\"/confirmreservation\"});\n        }else{\n          this.errMsg= \"We couldn’t find your plate. Please try entering it again.\"\n          this.errDialog = true;\n        }\n        this.findUserBtnLoading = false;\n        }\n      } catch (error) {\n        this.findUserBtnLoading = false;\n        console.log(error);\n      }\n    },\n    navigateToConfirmHostPass(){\n      this.$store.commit(\"SET_FINDUSER_DATA\", {vehicleNo:this.licencePlate});\n      this.$router.push({path:\"/confirmreservation\"});\n    },\n    closeErrDialog(){\n      this.errDialog = false;\n      this.licencePlate = \"\";\n    }\n  },\n};\n</script>\n  <style lang=\"less\">\n.booking_header {\n  position: absolute;\n  bottom: 30px;\n  left: 16px;\n  font-size: 18px;\n  font-weight: bolder;\n}\n.add_licence_plate_btn {\n  width: 100%;\n  background-color: #f2555c !important;\n  font-size: 18px !important;\n  font-weight: 700 !important;\n  letter-spacing: normal !important;\n  height: 50px !important;\n}\n.country-selector.md.has-value .country-selector__input {\n  border: none;\n  border-bottom: 1px solid rgb(118, 118, 118);\n}\n\n.input-tel.md .input-tel__input {\n  border: none;\n  border-bottom: 1px solid rgb(118, 118, 118);\n  margin-left: 2px;\n}\n.input-tel.is-focused.has-error .input-tel__input {\n  box-shadow: none !important;\n}\n.input-tel.is-focused.is-valid .input-tel__input {\n  box-shadow: none !important;\n}\n.sms-input input {\n  font-size: 36px;\n  font-weight: 500;\n  color: #44515a !important;\n}\n\n.sms-input > .v-input__control > .v-input__slot > .v-input__append-inner{\n  margin-top:28px !important;\n}\n.sms-input > .v-input__control > .v-input__slot > .v-text-field__slot > .v-label{\n  top:28px !important\n}\n.sms-input > .v-input__control > .v-input__slot > .v-text-field__slot > .v-label--active{\n  top:18px !important\n}\n</style>\n  "]}]}