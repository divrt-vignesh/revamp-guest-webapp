{"remainingRequest":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/guest-webapp/src/views/CheckedIn.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vignesh/DIVRT/guest-webapp/src/views/CheckedIn.vue","mtime":1678273336204},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBBUElIZWxwZXIgZnJvbSAiLi4vYXBpSGVscGVyIjsKLy8gaW1wb3J0IGxvZ2dlckhlbHBlciBmcm9tICIuLi9sb2dnZXJIZWxwZXIiOwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7Ci8vIGltcG9ydCB7IFFyY29kZVN0cmVhbSB9IGZyb20gInZ1ZS1xcmNvZGUtcmVhZGVyIjsKaW1wb3J0IFFyQ29kZVNjYW5uZXIgZnJvbSAiQC92aWV3cy9RckNvZGVTY2FubmVyLnZ1ZSI7CmltcG9ydCBWYWxpZGF0aW9uUXJDb2RlU2Nhbm5lciBmcm9tICJAL3ZpZXdzL1ZhbGlkYXRpb25RckNvZGVTY2FubmVyLnZ1ZSI7CmltcG9ydCB7IGZvcm1hdERhdGVUaW1lIH0gZnJvbSAiQC91dGlscy9mb3JtYXREYXRlVGltZSI7CmltcG9ydCB7IEV2ZW50QnVzIH0gZnJvbSAiQC9saWIvRXZlbnRCdXMiOwovLyBpbXBvcnQgUXJTY2FubmVyIGZyb20gJ3FyLXNjYW5uZXInOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNoZWNrSW4iLAogIGNvbXBvbmVudHM6IHsgUXJDb2RlU2Nhbm5lciwgVmFsaWRhdGlvblFyQ29kZVNjYW5uZXIgfSwKICBkYXRhOiAoKSA9PiAoewogICAgLy8gcnVsZXM6IHsKICAgIC8vICAgY291bnRlcjogdmFsdWUgPT4gdmFsdWUubGVuZ3RoIDw9IDYgfHwgIk1heCA2IGNoYXJhY3RlcnMiCiAgICAvLyB9LAogICAgaW52YWxpZFZhbGlkYXRpb25RUkRpYWxvZzogZmFsc2UsCiAgICBjYW1lcmFTdGF0dXM6IGZhbHNlLAogICAgdmFsaWRhdGlvbkNhbWVyYVN0YXR1czogZmFsc2UsCiAgICB2YWxpZGF0ZWREYXRlVGltZTogMCwKICAgIGdyYWNlUGVyaW9kVGltZTogMCwKICAgIHZhbGlkYXRlZEludGVydmFsOiAiIiwKICAgIGR1cmF0aW9uOiAzMDAsCiAgICBvZmZzZXQ6IDAsCiAgICBwZWRlc3RyaWFuQWNjZXNzRGlhbG9nOiBmYWxzZSwKICAgIHBlZGVzdHJpYW5BY2Nlc3NUZXh0OiAiIiwKICAgIGVhc2luZzogImVhc2VJbk91dEN1YmljIiwKICAgIHBhZ2VIZWlnaHQ6IHdpbmRvdy5vdXRlckhlaWdodCwKICAgIHFyQ29kZURpYWxvZzogZmFsc2UsCiAgICBjb3VudFVwVGltZTogIiIsCiAgICBpbnRlcnZhbDogIiIsCiAgICBpc1ZhbGlkOiB1bmRlZmluZWQsCiAgICBjYW1lcmE6ICJhdXRvIiwKICAgIHNtc1RleHQ6ICIiLAogICAgc21zRGlhbG9nOiBmYWxzZSwKICAgIGRpYWxlckRpYWxvZzogZmFsc2UsCiAgICBpbnZhbGlkUVJNc2c6ICIiLAogICAgaW52YWxpZFZhbGlkYXRpb25RUk1zZzogIiIsCiAgICBpbnZhbGlkUVJEaWFsb2c6IGZhbHNlLAogICAgaW52YWxpZFNNU01zZzogIiIsCgogICAgaW52YWxpZFNNU0RpYWxvZzogZmFsc2UsCiAgICBzbXNQZW5kaW5nOiBmYWxzZSwKICAgIHZhbGlkYXRlQm9va2luZ1BlbmRpbmc6IGZhbHNlLAogICAgdmFsaWRhdGVCb29raW5nRGlhbG9nOiBmYWxzZSwKICAgIHZhbGlkYXRlQm9va2luZ1R4dDogIiIsCiAgICB2YWxpZGF0ZVFSQ29kZVBlbmRpbmc6IGZhbHNlLAogICAgdmFsaWRhdGVRUkNvZGVEaWFsb2c6IGZhbHNlLAogIH0pLAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKHsKICAgICAgYm9va2luZ0lkOiAiZ2V0dGVyQm9va2luZ0lkIiwKICAgICAgYm9va2luZ0RldGFpbHM6ICJnZXR0ZXJCb29raW5nRGV0YWlscyIsCiAgICAgIGVudHJ5VGltZTogImdldHRlckVudHJ5VGltZSIsCiAgICAgIGV4aXRHYXRlQ29kZXM6ICJnZXR0ZXJFeGl0R2F0ZUNvZGVzIiwKICAgIH0pLAogICAgaXNFeHRyYSgpIHsKICAgICAgcmV0dXJuIHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZS5pbmNsdWRlcygiL2d4LyIpOwogICAgfSwKICAgIG9wdGlvbnMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb24sCiAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCwKICAgICAgICBlYXNpbmc6IHRoaXMuZWFzaW5nLAogICAgICB9OwogICAgfSwKICAgIHNob3dQYXltZW50Q2FyZEFkZGVkOiBmdW5jdGlvbiBnZXRDYXJkU3RhdHVzKCkgewogICAgICB2YXIgY2FyZE9uRmlsZSA9IHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmNhcmRPbmZpbGUKICAgICAgICA/IHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5jYXJkT25maWxlCiAgICAgICAgOiBudWxsOwogICAgICB2YXIgdmFsaWRhdGVkU3RhdGUgPSB0aGlzLmJvb2tpbmdEZXRhaWxzPy5ib29raW5nPy52YWxpZGF0ZWQKICAgICAgICA/IHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy52YWxpZGF0ZWQKICAgICAgICA6IG51bGw7CiAgICAgIHZhciBzdGF0ZSA9CiAgICAgICAgY2FyZE9uRmlsZSA9PSAiMSIKICAgICAgICAgID8gdHJ1ZQogICAgICAgICAgOiBjYXJkT25GaWxlID09ICIyIiAmJgogICAgICAgICAgICB2YWxpZGF0ZWRTdGF0ZSA9PSAiMSIgJiYKICAgICAgICAgICAgdGhpcy52YWxpZGF0ZWREYXRlVGltZSA+IDA7CiAgICAgIHJldHVybiBzdGF0ZTsKICAgIH0sCiAgICB0aW1lQWdvOiBmdW5jdGlvbiBnZXRUaW1lQWdvKCkgewogICAgICByZXR1cm4gdGhpcy5jb3VudFVwVGltZTsKICAgIH0sCiAgICB2YWxpZGF0aW9uUGVuZGluZzogZnVuY3Rpb24gcXJWYWxpZGF0aW9uKCkgewogICAgICByZXR1cm4gdGhpcy5pc1ZhbGlkID09PSB1bmRlZmluZWQgJiYgdGhpcy5jYW1lcmEgPT09ICJvZmYiOwogICAgfSwKICAgIGJvb2tpbmdfY29udGVudCgpIHsKICAgICAgbGV0IGRhdGVUaW1lID0gZm9ybWF0RGF0ZVRpbWUoCiAgICAgICAgTnVtYmVyKHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5lbnRyeXRpbWUpCiAgICAgICk7CiAgICAgIHJldHVybiBkYXRlVGltZVswXSArICIgb24gIiArIGRhdGVUaW1lWzFdICsgIiAiICsgZGF0ZVRpbWVbMl07CiAgICB9LAogICAgdmFsaWRhdGVkX2NvbnRlbnQoKSB7CiAgICAgIGlmICh0aGlzLmJvb2tpbmdEZXRhaWxzPy56b25lPy50aW1lem9uZW9mZnNldCkgewogICAgICAgIGxldCBkYXRlVGltZSA9IHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy50eXBlID09ICIxMyIgPyBmb3JtYXREYXRlVGltZSgKICAgICAgICAgIE51bWJlcih0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcucmV2U3RhcnQpICsKICAgICAgICAgIE51bWJlcih0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcuY291cG9uVmFsaWRUaW1lKQogICAgICAgICkgOiBmb3JtYXREYXRlVGltZSgKICAgICAgICAgIE51bWJlcih0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcuZW50cnl0aW1lKSArCiAgICAgICAgICAgIE51bWJlcih0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcuY291cG9uVmFsaWRUaW1lKQogICAgICAgICk7CiAgICAgICAgcmV0dXJuIGRhdGVUaW1lWzBdICsgIiwgIiArIGRhdGVUaW1lWzFdICsgIiAiICsgZGF0ZVRpbWVbMl07CiAgICAgIH0KICAgICAgcmV0dXJuICIiOwogICAgfSwKICAgIGNvdW50RG93blZhbGlkYXRlZFRpbWUoKSB7CiAgICAgIGlmICh0aGlzLnZhbGlkYXRlZERhdGVUaW1lIDwgMCkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX1ZBTElEQVRFRF9USU1FX1NUQVRVUyIsIHRydWUpOwogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy52YWxpZGF0ZWRJbnRlcnZhbCk7CiAgICAgIH0KICAgICAgcmV0dXJuIHRoaXMuc2Vjb25kc1RvSG1zKHRoaXMudmFsaWRhdGVkRGF0ZVRpbWUgLyAxMDAwICsgNTkpOwogICAgfSwKICAgIGNvdW50RG93bkdyYWNlUGVyaW9kVGltZSgpIHsKICAgICAgaWYgKHRoaXMuZ3JhY2VQZXJpb2RUaW1lIDwgMCkgewogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0dSQUNFX1BFUklPRF9USU1FX1NUQVRVUyIsIHRydWUpOwogICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5ncmFjZVBlcmlvZEludGVydmFsKTsKICAgICAgfQogICAgICAvL2FkZCA1OSBzZWMgdG8gZ3JhY2VwZXJpb2QgdGltZSB0byBza2lwIDAgbWluLgogICAgICByZXR1cm4gdGhpcy5zZWNvbmRzVG9IbXModGhpcy5ncmFjZVBlcmlvZFRpbWUgLyAxMDAwICsgNTkpOwogICAgfSwKICAgIC8vIGdyYWNlUGVyaW9kQ291bnREb3duVGltZSwKICAgIC8vIGNvdW50RG93blZhbGlkYXRpb250aW1lKCl7CiAgICAvLyAgIHJldHVybgogICAgLy8gfQogIH0sCiAgd2F0Y2g6IHsKICAgIGN1cnJlbnREYXRlKG5ld1ZhbCkgewogICAgICBjb25zb2xlLmxvZyhuZXdWYWwpOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7fSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICBpZiAoCiAgICAgIHRoaXMuZW50cnlUaW1lICE9IG51bGwgJiYKICAgICAgIXRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmV4aXR0aW1lICYmCiAgICAgIHRoaXMuYm9va2luZ0RldGFpbHM/LnpvbmU/LnRpbWV6b25lICYmCiAgICAgIHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmdyYWNlUGVyaW9kCiAgICApIHsKICAgICAgdGhpcy5jb3VudFVwVGltZSA9IHRoaXMuY2FsY3VsYXRlUGFya2luZ1RpbWUoCiAgICAgICAgdGhpcy5lbnRyeVRpbWUsCiAgICAgICAgdGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLmdyYWNlUGVyaW9kLAogICAgICAgIHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS50aW1lem9uZQogICAgICApOwogICAgfQogICAgdGhpcy5pbnRlcnZhbCA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgaWYgKAogICAgICAgIHRoaXMuZW50cnlUaW1lICE9IG51bGwgJiYKICAgICAgICAhdGhpcy5ib29raW5nRGV0YWlscz8uYm9va2luZz8uZXhpdHRpbWUgJiYKICAgICAgICB0aGlzLmJvb2tpbmdEZXRhaWxzPy56b25lPy50aW1lem9uZSAmJgogICAgICAgIHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmdyYWNlUGVyaW9kCiAgICAgICkgewogICAgICAgIHRoaXMuY291bnRVcFRpbWUgPSB0aGlzLmNhbGN1bGF0ZVBhcmtpbmdUaW1lKAogICAgICAgICAgdGhpcy5lbnRyeVRpbWUsCiAgICAgICAgICB0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcuZ3JhY2VQZXJpb2QsCiAgICAgICAgICB0aGlzLmJvb2tpbmdEZXRhaWxzLnpvbmUudGltZXpvbmUKICAgICAgICApOwogICAgICB9CiAgICB9LCAxMDAwKTsKICAgIGlmICgKICAgICAgdGhpcy5ib29raW5nRGV0YWlscz8uYm9va2luZz8uZXhpdHRpbWUgJiYKICAgICAgdGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLmV4aXR0aW1lICE9IG51bGwgJiYKICAgICAgdGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLmV4aXR0aW1lICE9ICIiCiAgICApIHsKICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmludGVydmFsKTsKICAgIH0KICAgIGlmICgKICAgICAgdGhpcy5ib29raW5nRGV0YWlscz8uYm9va2luZz8udmFsaWRhdGVkICYmCiAgICAgIHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy52YWxpZGF0ZWQgPT0gIjEiICYmCiAgICAgIHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LnZhbGlkYXRpb25UeXBlICYmCiAgICAgIHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy52YWxpZGF0aW9uVHlwZSA9PSAiRElWUlQiCiAgICApIHsKICAgICAgdGhpcy52YWxpZGF0ZWREYXRlVGltZSA9IHRoaXMuY2FsY3VsYXRlVmFsaWRhdGVkVGltZSgpOwogICAgfQoKICAgIHRoaXMudmFsaWRhdGVkSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLmJvb2tpbmdEZXRhaWxzPy56b25lPy50aW1lem9uZSAmJgogICAgICAgIHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LnZhbGlkYXRlZCAmJgogICAgICAgIHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy52YWxpZGF0ZWQgPT0gIjEiICYmCiAgICAgICAgdGhpcy5ib29raW5nRGV0YWlscz8uYm9va2luZz8udmFsaWRhdGlvblR5cGUgJiYKICAgICAgICB0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcudmFsaWRhdGlvblR5cGUgPT0gIkRJVlJUIgogICAgICApIHsKICAgICAgICB0aGlzLnZhbGlkYXRlZERhdGVUaW1lID0gdGhpcy5jYWxjdWxhdGVWYWxpZGF0ZWRUaW1lKCk7CiAgICAgIH0KICAgIH0sIDEwMDApOwogICAgaWYgKAogICAgICB0aGlzLmJvb2tpbmdEZXRhaWxzPy5ib29raW5nPy52YWxpZGF0ZWQgJiYKICAgICAgdGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLnZhbGlkYXRlZCA9PSAiMSIgJiYKICAgICAgdGhpcy5ib29raW5nRGV0YWlscz8uYm9va2luZz8udmFsaWRhdGlvblR5cGUgJiYKICAgICAgdGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLnZhbGlkYXRpb25UeXBlID09ICJESVZSVCIKICAgICkgewogICAgICBpZiAodGhpcy52YWxpZGF0ZWREYXRlVGltZSA8IDApIHsKICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoIlNFVF9WQUxJREFURURfVElNRV9TVEFUVVMiLCB0cnVlKTsKICAgICAgICBjbGVhckludGVydmFsKHRoaXMudmFsaWRhdGVkSW50ZXJ2YWwpOwogICAgICB9CiAgICB9CgogICAgaWYgKHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmdyYWNlUGVyaW9kID4gMCkgewogICAgICB0aGlzLmdyYWNlUGVyaW9kVGltZSA9IHRoaXMuY2FsY3VsYXRlR3JhY2VQZXJpb2RUaW1lKCk7CiAgICB9CgogICAgdGhpcy5ncmFjZVBlcmlvZEludGVydmFsID0gc2V0SW50ZXJ2YWwoKCkgPT4gewogICAgICBpZiAodGhpcy5ib29raW5nRGV0YWlscz8uem9uZT8udGltZXpvbmUpIHsKICAgICAgICB0aGlzLmdyYWNlUGVyaW9kVGltZSA9IHRoaXMuY2FsY3VsYXRlR3JhY2VQZXJpb2RUaW1lKCk7CiAgICAgIH0KICAgIH0sIDEwMDApOwogICAgaWYgKHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmdyYWNlUGVyaW9kID4gMCkgewogICAgICBpZiAodGhpcy5ncmFjZVBlcmlvZFRpbWUgPCAwKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfR1JBQ0VfUEVSSU9EX1RJTUVfU1RBVFVTIiwgdHJ1ZSk7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmdyYWNlUGVyaW9kSW50ZXJ2YWwpOwogICAgICB9CiAgICB9CiAgICBFdmVudEJ1cy4kb24oInNtcy1xci1yZXN1bHQiLCAocmVzdWx0KSA9PiB7CiAgICAgIHRoaXMub25EZWNvZGUocmVzdWx0KTsKICAgIH0pOwogICAgRXZlbnRCdXMuJG9uKCJ2YWxpZGF0aW9uLXFyLXJlc3VsdCIsIChyZXN1bHQpID0+IHsKICAgICAgdGhpcy5vblZhbGlkYXRlUVJDb2RlKHJlc3VsdCk7CiAgICB9KTsKCiAgICAvLyBpZih0aGlzLmJvb2tpbmdEZXRhaWxzPy56b25lPy5pc1BlZGVzdHJpYW49PScxJyl7CiAgICAvLyAgIHRoaXMucGVkZXN0cmlhbkFjY2Vzcz10cnVlCiAgICAvLyB9CiAgfSwKICBkZXN0cm95ZWQoKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMuaW50ZXJ2YWwpOwogICAgY2xlYXJJbnRlcnZhbCh0aGlzLnZhbGlkYXRlZEludGVydmFsKTsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy5ncmFjZVBlcmlvZEludGVydmFsKTsKICB9LAogIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIG5leHQoYXN5bmMgKHZtKSA9PiB7CiAgICAgIGlmICgKICAgICAgICB2bS5ib29raW5nRGV0YWlscz8uYm9va2luZz8uZXhpdHRpbWUgJiYKICAgICAgICB2bS5ib29raW5nRGV0YWlscy5ib29raW5nLmV4aXR0aW1lICE9IG51bGwgJiYKICAgICAgICB2bS5ib29raW5nRGV0YWlscy5ib29raW5nLmV4aXR0aW1lICE9ICIiCiAgICAgICkgewogICAgICAgIGNsZWFySW50ZXJ2YWwodm0uaW50ZXJ2YWwpOwogICAgICB9CiAgICAgIGlmICh2bS5ib29raW5nRGV0YWlscz8uYm9va2luZz8udmFsaWRhdGVkID09ICIwIikgewogICAgICAgIGlmICh2bS52YWxpZGF0ZWREYXRlVGltZSA8IDApIHsKICAgICAgICAgIHZtLiRzdG9yZS5jb21taXQoIlNFVF9WQUxJREFURURfVElNRV9TVEFUVVMiLCB0cnVlKTsKICAgICAgICAgIGNsZWFySW50ZXJ2YWwodm0udmFsaWRhdGVkSW50ZXJ2YWwpOwogICAgICAgIH0KICAgICAgfQogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjbG9zZVFSQ29kZURpYWxvZygpIHsKICAgICAgdGhpcy5xckNvZGVEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy5jYW1lcmFTdGF0dXMgPSBmYWxzZTsKICAgIH0sCiAgICBjbG9zZVZhbGlkYXRpb25RUkRpYWxvZygpIHsKICAgICAgdGhpcy52YWxpZGF0aW9uQ2FtZXJhU3RhdHVzID0gZmFsc2U7CiAgICAgIHRoaXMudmFsaWRhdGVCb29raW5nRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy52YWxpZGF0ZVFSQ29kZURpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIHJlU2NhblFSKCkgewogICAgICB0aGlzLmludmFsaWRRUkRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLmNhbWVyYVN0YXR1cyA9IHRydWU7CiAgICB9LAogICAgcmVTY2FuVmFsaWRhdGlvblFSKCkgewogICAgICB0aGlzLmludmFsaWRWYWxpZGF0aW9uUVJEaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy52YWxpZGF0aW9uQ2FtZXJhU3RhdHVzID0gdHJ1ZTsKICAgIH0sCiAgICBvcGVuU21zUXJTY2FubmVyKCkgewogICAgICB0aGlzLnFyQ29kZURpYWxvZyA9IHRydWU7CiAgICAgIHRoaXMuY2FtZXJhU3RhdHVzID0gdHJ1ZTsKICAgIH0sCiAgICBvcGVuU01TRGlhbG9nKCkgewogICAgICB0aGlzLnNtc0RpYWxvZyA9IHRydWU7CiAgICAgIGxldCBleGl0TGFuZXMgPQogICAgICAgIHRoaXMuZXhpdEdhdGVDb2Rlcy5sZW5ndGggPiAwCiAgICAgICAgICA/IHRoaXMuZXhpdEdhdGVDb2Rlcy5maWx0ZXIoKGEpID0+IGEuaXNQZWRlc3RyaWFuID09ICIwIikKICAgICAgICAgIDogW107CiAgICAgIGlmICgKICAgICAgICB0aGlzLmJvb2tpbmdEZXRhaWxzPy5ib29raW5nPy5wcmVQb3B1bGF0ZUdhdGVDb2RlcyAmJgogICAgICAgIHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5wcmVQb3B1bGF0ZUdhdGVDb2RlcyA9PSAiMSIKICAgICAgKSB7CiAgICAgICAgdGhpcy5zbXNUZXh0ID0gZXhpdExhbmVzLmxlbmd0aCA9PSAxID8gZXhpdExhbmVzWzBdLnNtc19jb2RlIDogIiI7CiAgICAgIH0KICAgIH0sCiAgICBzY3JvbGxUb1N1Ym1pdCgpIHsKICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjc3VibWl0c21zYnRuIik7CiAgICAgIGlmIChlbCkgewogICAgICAgIGVsLnNjcm9sbEludG9WaWV3KHRoaXMub3B0aW9ucyk7CiAgICAgIH0KICAgIH0sCiAgICBzY3JvbGxUb1ZhbGlkYXRlQnRuKCkgewogICAgICBjb25zdCBlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiN2YWxpZGF0ZWJvb2tpbmdidG4iKTsKICAgICAgaWYgKGVsKSB7CiAgICAgICAgZWwuc2Nyb2xsSW50b1ZpZXcodGhpcy5vcHRpb25zKTsKICAgICAgfQogICAgfSwKICAgIGNhbGN1bGF0ZUdyYWNlUGVyaW9kVGltZSgpIHsKICAgICAgdmFyIGN1cnJlbnRUaW1lID0KICAgICAgICBuZXcgRGF0ZSgpLmdldFRpbWUoKSArCiAgICAgICAgKE51bWJlcih0aGlzLmJvb2tpbmdEZXRhaWxzLnpvbmUudGltZXpvbmVvZmZzZXQpICogMTAwMCArCiAgICAgICAgICBOdW1iZXIodGhpcy5ib29raW5nRGV0YWlscy56b25lLnRpbWV6b25lZHN0b2Zmc2V0KSAqIDEwMDApOwogICAgICB2YXIgZ3JhY2VQZXJpb2RUaW1lID0KICAgICAgICAoTnVtYmVyKHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5lbnRyeXRpbWUpICsKICAgICAgICAgIE51bWJlcih0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcuZ3JhY2VQZXJpb2QpKSAqCiAgICAgICAgMTAwMDsgLy8KICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KAogICAgICAgICJTRVRfR1JBQ0VfUEVSSU9EX1RJTUVfU1RBVFVTIiwKICAgICAgICB0aGlzLmdyYWNlUGVyaW9kVGltZSA8PSAwCiAgICAgICk7CiAgICAgIHJldHVybiBncmFjZVBlcmlvZFRpbWUgLSBjdXJyZW50VGltZTsKICAgIH0sCiAgICBjYWxjdWxhdGVWYWxpZGF0ZWRUaW1lKCkgewogICAgICB2YXIgY3VycmVudFRpbWUgPQogICAgICAgIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsKICAgICAgICAoTnVtYmVyKHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS50aW1lem9uZW9mZnNldCkgKiAxMDAwICsKICAgICAgICAgIE51bWJlcih0aGlzLmJvb2tpbmdEZXRhaWxzLnpvbmUudGltZXpvbmVkc3RvZmZzZXQpICogMTAwMCk7CiAgICAgIHZhciB2YWxpZGF0ZWRUaW1lID0gdGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLnR5cGUgPT0gIjEzIiA/CiAgICAgICAgKE51bWJlcih0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcucmV2U3RhcnQpICsKICAgICAgICAgIE51bWJlcih0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcuY291cG9uVmFsaWRUaW1lKSkgKgogICAgICAgIDEwMDAgOiAoTnVtYmVyKHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5lbnRyeXRpbWUpICsKICAgICAgICAgIE51bWJlcih0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcuY291cG9uVmFsaWRUaW1lKSkgKgogICAgICAgIDEwMDAKICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfVkFMSURBVEVEX1RJTUVfU1RBVFVTIiwgdGhpcy52YWxpZGF0ZWRUaW1lIDwgMCk7CiAgICAgIHZhbGlkYXRlZFRpbWUgLSBjdXJyZW50VGltZSA8IDAKICAgICAgICA/IGNsZWFySW50ZXJ2YWwodGhpcy52YWxpZGF0ZWRJbnRlcnZhbCkKICAgICAgICA6ICIiOwogICAgICByZXR1cm4gdmFsaWRhdGVkVGltZSAtIGN1cnJlbnRUaW1lOwogICAgfSwKICAgIGNhbGN1bGF0ZVBhcmtpbmdUaW1lKHBhcmtpbmdTdGFydFRpbWUsIGdyYWNlUGVyaW9kLCB6b25lKSB7CiAgICAgIHZhciBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCk7CiAgICAgIGN1cnJlbnRUaW1lLnRvTG9jYWxlU3RyaW5nKCJlbi1VUyIsIHsgdGltZVpvbmU6IHpvbmUgfSk7CiAgICAgIHZhciBkaWZmZXJlbmNlVGltZSA9CiAgICAgICAgZ3JhY2VQZXJpb2QgPiAwCiAgICAgICAgICA/IGN1cnJlbnRUaW1lLmdldFRpbWUoKSAtIHBhcmtpbmdTdGFydFRpbWUgKiAxMDAwIC8vIC0gZ3JhY2VQZXJpb2QgKiAxMDAwIHRvIGV4Y2x1ZGUgZ3JhY2UgcGVyaW9kCiAgICAgICAgICA6IGN1cnJlbnRUaW1lLmdldFRpbWUoKSAtIHBhcmtpbmdTdGFydFRpbWUgKiAxMDAwOwogICAgICBsZXQgcGFya2VkVGltZSA9IHRoaXMuc2Vjb25kc1RvSG1zKGRpZmZlcmVuY2VUaW1lIC8gMTAwMCk7CiAgICAgIHJldHVybiBwYXJrZWRUaW1lOwogICAgfSwKICAgIHNlY29uZHNUb0htcyh0aW1lRGlmZmVyZW5jZSkgewogICAgICB2YXIgZCA9IE51bWJlcih0aW1lRGlmZmVyZW5jZSk7CiAgICAgIC8vIGlmICh0aW1lRGlmZmVyZW5jZSA+PSA4NjQwMCkgewogICAgICAvLyAgIHZhciBkYXlzID0gTWF0aC5mbG9vcihkIC8gODY0MDApOwogICAgICAvLyAgIHZhciBocnMgPSBNYXRoLmZsb29yKChkICUgODY0MDApIC8gMzYwMCk7CiAgICAgIC8vICAgdmFyIGRheURpc3BsYXkgPQogICAgICAvLyAgICAgZGF5cyA+IDAgPyBkYXlzICsgKGRheXMgPT0gMSA/ICIgZGF5ICIgOiAiIGRheXMgIikgOiAiIjsKICAgICAgLy8gICB2YXIgaHJEaXNwbGF5ID0gaHJzID4gMCA/IGhycyArIChocnMgPT0gMSA/ICIgaHIgIiA6ICIgaHJzICIpIDogIiI7CiAgICAgIC8vICAgcmV0dXJuIGRheURpc3BsYXkgKyBockRpc3BsYXk7CiAgICAgIC8vIH0KICAgICAgdmFyIGggPSBNYXRoLmZsb29yKGQgLyAzNjAwKTsKICAgICAgdmFyIG0gPSBNYXRoLmZsb29yKChkICUgMzYwMCkgLyA2MCk7CiAgICAgIC8vIHZhciBzID0gTWF0aC5mbG9vcihkICUgMzYwMCAlIDYwKTsKICAgICAgdmFyIGhEaXNwbGF5ID0gaCA+IDAgPyBoICsgIiBoICIgOiAiIjsKICAgICAgdmFyIG1EaXNwbGF5ID0gbSA+IDAgPyBtICsgKG0gPT0gMSA/ICIgbWluICIgOiAiIG1pbiIpIDogIiAwIG1pbiI7CiAgICAgIC8vIHZhciBzRGlzcGxheSA9IHMgPiAwID8gcyArIChzID09IDEgPyAiIHNlY29uZCIgOiAiIHNlY29uZHMiKSA6ICIiOwogICAgICByZXR1cm4gaERpc3BsYXkgKyBtRGlzcGxheTsKICAgIH0sCiAgICBpc0NoZWNrb3V0RW5hYmxlZCh0eXBlKSB7CiAgICAgIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbCh0aGlzLmJvb2tpbmdEZXRhaWxzLCAnZXhpdE9wdGlvbnMnKSAmJiB0aGlzLmJvb2tpbmdEZXRhaWxzLmV4aXRPcHRpb25zLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgbGV0IG9wdGlvbiA9IHRoaXMuYm9va2luZ0RldGFpbHMuZXhpdE9wdGlvbnMuc29tZSgKICAgICAgICAgICh0KSA9PiB0LnRlY2hUeXBlID09IHR5cGUKICAgICAgICApOwogICAgICAgIHJldHVybiBvcHRpb247CiAgICAgIH0KICAgICAgcmV0dXJuIGZhbHNlOwoKICAgIH0sCiAgICBhc3luYyBnZXRCb29raW5nRGV0YWlscygpIHsKICAgICAgdHJ5IHsKICAgICAgICBsZXQgYm9va2luZ0lkID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lLnN1YnN0cmluZygzKTsKICAgICAgICB2YXIgYm9va2luZ0RldGFpbHMgPSBhd2FpdCBBUElIZWxwZXIoCiAgICAgICAgICAiR0VUIiwKICAgICAgICAgICIvYXBpL3YxL2Jvb2tpbmcvY29uZmlnLyIgKyBib29raW5nSWQKICAgICAgICApOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgKICAgICAgICAgICJTRVRfQk9PS0lOR19ERVRBSUxTIiwKICAgICAgICAgIGJvb2tpbmdEZXRhaWxzLmRhdGE/LmRhdGEgPyBib29raW5nRGV0YWlscy5kYXRhLmRhdGEgOiBudWxsCiAgICAgICAgKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXRwZWRlc3RyaWFuQWNjZXNzKCkgewogICAgICB0cnkgewogICAgICAgIC8vIGxldCBib29raW5nSWQgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWUuc3Vic3RyaW5nKDMpOwogICAgICAgIHZhciBwZWRlc0FjY2VzcyA9IGF3YWl0IEFQSUhlbHBlcigKICAgICAgICAgICJQT1NUIiwKICAgICAgICAgICJhcGkvdjEvb3Blbi8iICsgdGhpcy5ib29raW5nSWQsCiAgICAgICAgICB7IHNvdXJjZTogIndlYlZpZXciIH0KICAgICAgICApOwogICAgICAgIC8vIGNvbnNvbGUubG9nKHBlZGVzQWNjZXNzKQogICAgICAgIC8vIGNvbnNvbGUubG9nKHBlZGVzQWNjZXNzPy5kYXRhPy5zdGF0dXMpCiAgICAgICAgaWYgKHBlZGVzQWNjZXNzPy5kYXRhPy5zdGF0dXMpIHsKICAgICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgcGhvbmU6IHRoaXMuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgICAgICByZWZJZDogdGhpcy5ib29raW5nSWQsCiAgICAgICAgICAgIGltYWdlOiAiaHR0cHM6Ly9zcHBsLWRldi5kaXZydC5jby9pbWcvcGVkZXN0cmFpbl9kb29yLjA0MmYwOTI3LnBuZyIsCiAgICAgICAgICAgIHN0YXR1c1RleHQ6ICJQYXJrZXIgYWNjZXNzZWQgcGVkZXN0cmlhbiBkb29yIHN1Y2Nlc3NmdWxseS4iLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICIvcGVkZXN0cmlhbmFjY2VzcyIgfSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMucGVkZXN0cmlhbkFjY2Vzc1RleHQgPSBwZWRlc0FjY2Vzcy5kYXRhLm1lc3NhZ2U7CiAgICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAgIHBob25lOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgICAgcmVmSWQ6IHRoaXMuYm9va2luZ0lkLAogICAgICAgICAgICBlcnJvcjogdGhpcy5wZWRlc3RyaWFuQWNjZXNzVGV4dCwKICAgICAgICAgICAgaW1hZ2U6ICJodHRwczovL3NwcGwtZGV2LmRpdnJ0LmNvL2ltZy9wZWRlc3RyYWluX2Rvb3IuMDQyZjA5MjcucG5nIiwKICAgICAgICAgICAgc3RhdHVzVGV4dDogIkVycm9yIGluIG9wZW5pbmcgdGhlIHBlZGVzdHJpYW4gZG9vci4iLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnBlZGVzdHJpYW5BY2Nlc3NEaWFsb2cgPSB0cnVlOwogICAgICAgIH0KICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgICAgLy8gdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiAiL3BlZGVzdHJpYW5hY2Nlc3MvIit0cnVlIH0pOwogICAgfSwKICAgIG5hdmlnYXRlVG9BZGRQYXltZW50KCkgewogICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgcGhvbmU6IHRoaXMuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgIHJlZklkOiB0aGlzLmJvb2tpbmdJZCwKICAgICAgICBzdGF0dXNUZXh0OiAiUGFya2VyIGNsaWNrZWQgb24gQUREIENSRURJVCBDQVJEIGJ0bi4iLAogICAgICB9KTsKICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiAiL2FkZHBheW1lbnQiIH0pOwogICAgfSwKICAgIG9wZW5WYWxpZGF0aW9uRGlhbG9nKCkgewogICAgICB0aGlzLnZhbGlkYXRlQm9va2luZ0RpYWxvZyA9IHRydWU7CiAgICB9LAogICAgYXN5bmMgb3BlblNNU0FwcCgpIHsKICAgICAgdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgIHBob25lOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICByZWZJZDogdGhpcy5ib29raW5nSWQsCiAgICAgICAgc3RhdHVzVGV4dDogIlBhcmtlciBjbGlja2VkIG9uIFNNUyBzdWJtaXQgYnRuLiIsCiAgICAgIH0pOwogICAgICBpZiAodGhpcy5zbXNUZXh0ID09IG51bGwgfHwgdGhpcy5zbXNUZXh0ID09ICIiKSB7CiAgICAgICAgdGhpcy5pbnZhbGlkU01TTXNnID0gIkdhdGUgY29kZSBjYW5ub3QgYmUgZW1wdHkiOwogICAgICAgIHRoaXMuaW52YWxpZFNNU0RpYWxvZyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIHRoaXMuc21zUGVuZGluZyA9IHRydWU7CiAgICAgICAgICB2YXIgcHJlVmFsaWRhdGVTZW5kU01TID0gYXdhaXQgQVBJSGVscGVyKCJQT1NUIiwgIi9yZWNlaXZlX3NtcyIsIHsKICAgICAgICAgICAgYmlkOiB0aGlzLmJvb2tpbmdJZCwKICAgICAgICAgICAgRnJvbTogdGhpcy5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgICAgIFRleHQ6IHRoaXMuc21zVGV4dCwKICAgICAgICAgICAgVG86IHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS5Ub01vYmlsZU5vLAogICAgICAgICAgICBNb2RlOiAiU01TIiwKICAgICAgICAgICAgd2ViVmlldzogIjEiLAogICAgICAgICAgICBwcmVWYWxpZGF0ZTogMSwKICAgICAgICAgIH0pOwogICAgICAgICAgdGhpcy5zbXNQZW5kaW5nID0gZmFsc2U7CiAgICAgICAgICBpZiAoCiAgICAgICAgICAgIHByZVZhbGlkYXRlU2VuZFNNUz8uZGF0YT8uc3RhdHVzICYmCiAgICAgICAgICAgIHByZVZhbGlkYXRlU2VuZFNNUy5kYXRhLnN0YXR1cwogICAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuc21zRGlhbG9nID0gZmFsc2U7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogIi9zdWNjZXNzIiB9KTsKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICB2YXIgc2VuZFNNUyA9IGF3YWl0IEFQSUhlbHBlcigiUE9TVCIsICIvcmVjZWl2ZV9zbXMiLCB7CiAgICAgICAgICAgICAgICBiaWQ6IHRoaXMuYm9va2luZ0lkLAogICAgICAgICAgICAgICAgRnJvbTogdGhpcy5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgICAgICAgICBUZXh0OiB0aGlzLnNtc1RleHQsCiAgICAgICAgICAgICAgICBUbzogdGhpcy5ib29raW5nRGV0YWlscy56b25lLlRvTW9iaWxlTm8sCiAgICAgICAgICAgICAgICBNb2RlOiAiU01TIiwKICAgICAgICAgICAgICAgIHdlYlZpZXc6ICIxIiwKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBpZiAoc2VuZFNNUz8uZGF0YT8uc3RhdHVzICYmIHNlbmRTTVMuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICAgIHRoaXMuc21zRGlhbG9nID0gZmFsc2U7CiAgICAgICAgICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAgICAgICAgIHBob25lOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgICAgICAgICAgcmVmSWQ6IHRoaXMuYm9va2luZ0lkLAogICAgICAgICAgICAgICAgICBpY29uOiAibG9nb3V0IiwKICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dDoKICAgICAgICAgICAgICAgICAgICAiUGFya2VyIGNoZWNrZWQgb3V0IHN1Y2Nlc3NmdWxseSB1c2luZyBTTVMgLSAiICsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNtc1RleHQsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgdGhpcy5pbnZhbGlkU01TTXNnID0gc2VuZFNNUz8uZGF0YT8ubWVzc2FnZQogICAgICAgICAgICAgICAgICA/IHNlbmRTTVMuZGF0YS5tZXNzYWdlCiAgICAgICAgICAgICAgICAgIDogIlBsZWFzZSB0cnkgYWdhaW4iOwogICAgICAgICAgICAgICAgdGhpcy5pbnZhbGlkU01TRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgICAgICAgcGhvbmU6IHRoaXMuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgICAgICAgICAgICByZWZJZDogdGhpcy5ib29raW5nSWQsCiAgICAgICAgICAgICAgICAgIGVycm9yOiB0aGlzLmludmFsaWRTTVNNc2csCiAgICAgICAgICAgICAgICAgIGljb246ICJsb2dvdXQiLAogICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OgogICAgICAgICAgICAgICAgICAgICJFcnJvciBvY2N1cmVkIHdoaWxlIGNoZWNraW5nIG91dCB1c2luZyBTTVMgLSAiICsKICAgICAgICAgICAgICAgICAgICB0aGlzLnNtc1RleHQsCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmludmFsaWRTTVNNc2cgPSBwcmVWYWxpZGF0ZVNlbmRTTVM/LmRhdGE/Lm1lc3NhZ2UKICAgICAgICAgICAgICA/IHByZVZhbGlkYXRlU2VuZFNNUy5kYXRhLm1lc3NhZ2UKICAgICAgICAgICAgICA6ICJQbGVhc2UgdHJ5IGFnYWluIjsKICAgICAgICAgICAgdGhpcy5pbnZhbGlkU01TRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgICAgIHBob25lOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgICAgICByZWZJZDogdGhpcy5ib29raW5nSWQsCiAgICAgICAgICAgICAgZXJyb3I6IHRoaXMuaW52YWxpZFNNU01zZywKICAgICAgICAgICAgICBpY29uOiAibG9nb3V0IiwKICAgICAgICAgICAgICBzdGF0dXNUZXh0OgogICAgICAgICAgICAgICAgIkVycm9yIG9jY3VyZWQgd2hpbGUgY2hlY2tpbmcgb3V0IHVzaW5nIFNNUyAtICIgKyB0aGlzLnNtc1RleHQsCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ2V0TW9iaWxlT3BlcmF0aW5nU3lzdGVtKCkgewogICAgICB2YXIgdXNlckFnZW50ID0gbmF2aWdhdG9yLnVzZXJBZ2VudCB8fCBuYXZpZ2F0b3IudmVuZG9yIHx8IHdpbmRvdy5vcGVyYTsKCiAgICAgIC8vIFdpbmRvd3MgUGhvbmUgbXVzdCBjb21lIGZpcnN0IGJlY2F1c2UgaXRzIFVBIGFsc28gY29udGFpbnMgIkFuZHJvaWQiCiAgICAgIGlmICgvd2luZG93cyBwaG9uZS9pLnRlc3QodXNlckFnZW50KSkgewogICAgICAgIHJldHVybiAiV2luZG93cyBQaG9uZSI7CiAgICAgIH0KCiAgICAgIGlmICgvYW5kcm9pZC9pLnRlc3QodXNlckFnZW50KSkgewogICAgICAgIHJldHVybiAiQW5kcm9pZCI7CiAgICAgIH0KCiAgICAgIC8vIGlPUyBkZXRlY3Rpb24gZnJvbTogaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvOTAzOTg4NS8xNzc3MTAKICAgICAgaWYgKC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KHVzZXJBZ2VudCkgJiYgIXdpbmRvdy5NU1N0cmVhbSkgewogICAgICAgIHJldHVybiAiaU9TIjsKICAgICAgfQogICAgICByZXR1cm4gInVua25vd24iOwogICAgfSwKICAgIGdldEV4aXRJY29uKGV4aXRJZCkgewogICAgICBsZXQgZXhpdERldGFpbHMgPSB0aGlzLmJvb2tpbmdEZXRhaWxzLmV4aXRPcHRpb25zLmZpbmQoCiAgICAgICAgKHApID0+IHAudGVjaFR5cGUgPT0gZXhpdElkCiAgICAgICk7CiAgICAgIHJldHVybiBleGl0RGV0YWlscy5pY29uOwogICAgfSwKICAgIGdldEV4aXRUZXh0KGV4aXRJZCkgewogICAgICBsZXQgZXhpdERldGFpbHMgPSB0aGlzLmJvb2tpbmdEZXRhaWxzLmV4aXRPcHRpb25zLmZpbmQoCiAgICAgICAgKHApID0+IHAudGVjaFR5cGUgPT0gZXhpdElkCiAgICAgICk7CiAgICAgIHJldHVybiBleGl0RGV0YWlscy5uYW1lOwogICAgfSwKICAgIG9wZW5EaWFsZXJBcHAoKSB7CiAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICBwaG9uZTogdGhpcy5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgcmVmSWQ6IHRoaXMuYm9va2luZ0lkLAogICAgICAgIHN0YXR1c1RleHQ6ICJQYXJrZXIgY2xpY2tlZCBvbiBkaWFsZXIgc3VibWl0IGJ0bi4iLAogICAgICB9KTsKICAgICAgdGhpcy5kaWFsZXJEaWFsb2cgPSBmYWxzZTsKICAgICAgdmFyIHVybCA9ICJ0ZWw6IiArIHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS5Ub01vYmlsZU5vOwogICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHVybDsKICAgICAgaWYgKHRoaXMuZ2V0TW9iaWxlT3BlcmF0aW5nU3lzdGVtKCkgPT0gIkFuZHJvaWQiKSB7CiAgICAgICAgd2luZG93LmNsb3NlKCk7CiAgICAgIH0KICAgIH0sCiAgICB0dXJuQ2FtZXJhT24oKSB7CiAgICAgIHRoaXMuY2FtZXJhID0gImF1dG8iOwogICAgfSwKCiAgICB0dXJuQ2FtZXJhT2ZmKCkgewogICAgICB0aGlzLmNhbWVyYSA9ICJvZmYiOwogICAgfSwKICAgIHZhbGlkYXRlRGVjb2RlZFN0cmluZyhzdHIpIHsKICAgICAgbGV0IHZhbGlkYXRlRGl2cnRTdHIgPSBzdHIuc3RhcnRzV2l0aCgiZGl2cnQ6Ly8iKTsKICAgICAgbGV0IHZhbGlkYXRlTU1JRCA9IHN0ci5zcGxpdCgiLyIpWzJdID09IHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5tbWlkOwogICAgICBsZXQgdmFsaWRhdGVNYWpvcklkID0KICAgICAgICBzdHIuc3BsaXQoIi8iKVszXSA9PSB0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcubWFqb3JpZDsKICAgICAgbGV0IHZhbGlkYXRlTWlub3JJZCA9IHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5taW5vcl9pZHMuaW5jbHVkZXMoCiAgICAgICAgc3RyLnNwbGl0KCIvIilbNF0KICAgICAgKTsKICAgICAgcmV0dXJuICgKICAgICAgICB2YWxpZGF0ZURpdnJ0U3RyICYmIHZhbGlkYXRlTU1JRCAmJiB2YWxpZGF0ZU1ham9ySWQgJiYgdmFsaWRhdGVNaW5vcklkCiAgICAgICk7CiAgICB9LAogICAgYXN5bmMgb25EZWNvZGUoZGVjb2RlZFN0cmluZykgewogICAgICB2YXIgc2VsZiA9IHRoaXM7CiAgICAgIHRoaXMucXJDb2RlID0gZGVjb2RlZFN0cmluZzsKICAgICAgdGhpcy5jYW1lcmFTdGF0dXMgPSBmYWxzZTsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgcHJlVmFsaWRhdGVRclJlc3VsdCA9IGF3YWl0IEFQSUhlbHBlcigKICAgICAgICAgICJQT1NUIiwKICAgICAgICAgICIvYXBpL3YxL2NoZWNrb3V0LyIgKyB0aGlzLmJvb2tpbmdJZCwKICAgICAgICAgIHsKICAgICAgICAgICAgYmVhY29uSWQ6IGRlY29kZWRTdHJpbmcsCiAgICAgICAgICAgIHByZVZhbGlkYXRlOiAxLAogICAgICAgICAgICB6aWQ6IHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS5sb2NhdGlvbkNvZGUKICAgICAgICAgIH0KICAgICAgICApOwogICAgICAgIGlmIChwcmVWYWxpZGF0ZVFyUmVzdWx0LmRhdGEuc3RhdHVzKSB7CiAgICAgICAgICB0cnkgewogICAgICAgICAgICBzZWxmLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICIvc3VjY2VzcyIgfSk7CiAgICAgICAgICAgIHZhciBxclJlc3VsdCA9IGF3YWl0IEFQSUhlbHBlcigKICAgICAgICAgICAgICAiUE9TVCIsCiAgICAgICAgICAgICAgIi9hcGkvdjEvY2hlY2tvdXQvIiArIHRoaXMuYm9va2luZ0lkLAogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGJlYWNvbklkOiBkZWNvZGVkU3RyaW5nLAogICAgICAgICAgICAgICAgemlkOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnpvbmUubG9jYXRpb25Db2RlCiAgICAgICAgICAgICAgfQogICAgICAgICAgICApOwogICAgICAgICAgICBpZiAocXJSZXN1bHQuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAgICAgICBwaG9uZTogc2VsZi5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgICAgICAgICByZWZJZDogc2VsZi5ib29raW5nSWQsCiAgICAgICAgICAgICAgICBpY29uOiAibG9nb3V0IiwKICAgICAgICAgICAgICAgIHN0YXR1c1RleHQ6CiAgICAgICAgICAgICAgICAgICJQYXJrZXIgc3VjY2Vzc2Z1bGx5IGNoZWNrZWQgb3V0IHVzaW5nIFFSIC0gIiArIGRlY29kZWRTdHJpbmcsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfQ0hFQ0tPVVQiLCB0cnVlKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB0aGlzLmludmFsaWRRUk1zZyA9IHFyUmVzdWx0Py5kYXRhPy5tZXNzYWdlCiAgICAgICAgICAgICAgICA/IHFyUmVzdWx0LmRhdGEubWVzc2FnZQogICAgICAgICAgICAgICAgOiAiUGxlYXNlIHRyeSBhZ2FpbiI7CiAgICAgICAgICAgICAgdGhpcy5pbnZhbGlkUVJEaWFsb2cgPSB0cnVlOwogICAgICAgICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgICAgIHBob25lOiBzZWxmLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgICAgICAgIHJlZklkOiBzZWxmLmJvb2tpbmdJZCwKICAgICAgICAgICAgICAgIGVycm9yOiBzZWxmLmludmFsaWRRUk1zZywKICAgICAgICAgICAgICAgIGljb246ICJsb2dvdXQiLAogICAgICAgICAgICAgICAgc3RhdHVzVGV4dDoKICAgICAgICAgICAgICAgICAgIkVycm9yIE9jY3VyZWQgd2hpbGUgY2hlY2tpbmcgb3V0IHVzaW5nIFFSIC0gIiArCiAgICAgICAgICAgICAgICAgIGRlY29kZWRTdHJpbmcsCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pbnZhbGlkUVJNc2cgPSBwcmVWYWxpZGF0ZVFyUmVzdWx0Py5kYXRhPy5tZXNzYWdlCiAgICAgICAgICAgID8gcHJlVmFsaWRhdGVRclJlc3VsdC5kYXRhLm1lc3NhZ2UKICAgICAgICAgICAgOiAiUGxlYXNlIHRyeSBhZ2FpbiI7CiAgICAgICAgICB0aGlzLmludmFsaWRRUkRpYWxvZyA9IHRydWU7CiAgICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAgIHBob25lOiBzZWxmLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgICAgcmVmSWQ6IHNlbGYuYm9va2luZ0lkLAogICAgICAgICAgICBpY29uOiAibG9nb3V0IiwKICAgICAgICAgICAgZXJyb3I6IHNlbGYuaW52YWxpZFFSTXNnLAogICAgICAgICAgICBzdGF0dXNUZXh0OgogICAgICAgICAgICAgICJFcnJvciBPY2N1cmVkIHdoaWxlIGNoZWNraW5nIG91dCB1c2luZyBRUiAtICIgKyBkZWNvZGVkU3RyaW5nLAogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIG9uSW5pdChwcm9taXNlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgYXdhaXQgcHJvbWlzZTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBpZiAoZXJyb3IubmFtZSA9PT0gIk5vdEFsbG93ZWRFcnJvciIpIHsKICAgICAgICAgIHRoaXMuaW52YWxpZFFSTXNnID0gIlBsZWFzZSBncmFudCBjYW1lcmEgYWNjZXNzIHBlcm1pc3NvbiI7CiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5uYW1lID09PSAiTm90Rm91bmRFcnJvciIpIHsKICAgICAgICAgIHRoaXMuaW52YWxpZFFSTXNnID0gIk5vIGNhbWVyYSBmb3VuZCBvbiB0aGlzIGRldmljZSI7CiAgICAgICAgfSBlbHNlIGlmIChlcnJvci5uYW1lID09PSAiTm90U3VwcG9ydGVkRXJyb3IiKSB7CiAgICAgICAgICB0aGlzLmludmFsaWRRUk1zZyA9ICJTZWN1cmUgY29udGV4dCByZXF1aXJlZCAoSFRUUFMsIGxvY2FsaG9zdCkiOwogICAgICAgIH0gZWxzZSBpZiAoZXJyb3IubmFtZSA9PT0gIk5vdFJlYWRhYmxlRXJyb3IiKSB7CiAgICAgICAgICB0aGlzLmludmFsaWRRUk1zZyA9ICJJcyB0aGUgY2FtZXJhIGFscmVhZHkgaW4gdXNlPyBQbGVhc2UgY2hlY2suIjsKICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICJPdmVyY29uc3RyYWluZWRFcnJvciIpIHsKICAgICAgICAgIHRoaXMuaW52YWxpZFFSTXNnID0gIkluc3RhbGxlZCBjYW1lcmEgaXMgbm90IHN1aXRhYmxlIjsKICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm5hbWUgPT09ICJTdHJlYW1BcGlOb3RTdXBwb3J0ZWRFcnJvciIpIHsKICAgICAgICAgIHRoaXMuaW52YWxpZFFSTXNnID0gIlN0cmVhbSBBUEkgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGJyb3dzZXIiOwogICAgICAgIH0KICAgICAgICB0aGlzLmludmFsaWRRUkRpYWxvZyA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBvblZhbGlkYXRlVGV4dCgpIHsKICAgICAgdGhpcy52YWxpZGF0ZUJvb2tpbmdQZW5kaW5nID0gdHJ1ZTsKICAgICAgbGV0IHJlc3VsdCA9IGF3YWl0IHRoaXMudmFsaWRhdGVCb29raW5nKHRoaXMudmFsaWRhdGVCb29raW5nVHh0KTsKICAgICAgaWYgKCFyZXN1bHQuZGF0YS5zdGF0dXMpIHsKICAgICAgICB0aGlzLmludmFsaWRTTVNNc2cgPSByZXN1bHQ/LmRhdGE/Lm1lc3NhZ2UKICAgICAgICAgID8gcmVzdWx0LmRhdGEubWVzc2FnZQogICAgICAgICAgOiAiVmFsaWRhdGlvbiBub3QgcmVjb2duaXplZC4gUGxlYXNlIHRyeSBhZ2FpbiI7CiAgICAgICAgdGhpcy5pbnZhbGlkU01TRGlhbG9nID0gdHJ1ZTsKICAgICAgICB0aGlzLnZhbGlkYXRlQm9va2luZ1BlbmRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICBwaG9uZTogdGhpcy5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgICByZWZJZDogdGhpcy5ib29raW5nSWQsCiAgICAgICAgICBlcnJvcjogdGhpcy5pbnZhbGlkU01TTXNnLAogICAgICAgICAgaWNvbjogInJlZGVlbSIsCiAgICAgICAgICBzdGF0dXNUZXh0OgogICAgICAgICAgICAiRXJyb3IgaW4gdmFsaWRhdGluZyB0aGUgc2Vzc2lvbiBvbiBlbnRlcmluZyB2YWxpZGF0aW9uIGNvZGUgLSAiICsKICAgICAgICAgICAgdGhpcy52YWxpZGF0ZUJvb2tpbmdUeHQsCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgcGhvbmU6IHRoaXMuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgICAgcmVmSWQ6IHRoaXMuYm9va2luZ0lkLAogICAgICAgICAgaWNvbjogInJlZGVlbSIsCiAgICAgICAgICBzdGF0dXNUZXh0OgogICAgICAgICAgICAiUGFya2VyIHZhbGlkYXRlZCB0aGUgc2Vzc2lvbiBzdWNjZXNzZnVsbHkgYnkgZW50ZXJpbmcgdmFsaWRhdGlvbiBjb2RlIC0gIiArCiAgICAgICAgICAgIHRoaXMudmFsaWRhdGVCb29raW5nVHh0LAogICAgICAgIH0pOwogICAgICAgIHRoaXMudmFsaWRhdGVCb29raW5nUGVuZGluZyA9IGZhbHNlOwogICAgICAgIHRoaXMudmFsaWRhdGVCb29raW5nRGlhbG9nID0gZmFsc2U7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KAogICAgICAgICAgIlNFVF9WQUxJREFURURfTUVSQ0hBTlQiLAogICAgICAgICAgcmVzdWx0Py5kYXRhPy5tZXJjaGFudE5hbWUKICAgICAgICApOwogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogIi92YWxpZGF0ZXN1Y2Nlc3MiIH0pOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgdmFsaWRhdGVCb29raW5nKGNvZGUpIHsKICAgICAgdHJ5IHsKICAgICAgICBsZXQgdmFsaWRhdGVSZXN1bHQgPSBhd2FpdCBBUElIZWxwZXIoCiAgICAgICAgICAiUE9TVCIsCiAgICAgICAgICAiL2FwaS92MS92YWxpZGF0ZS8iICsgdGhpcy5ib29raW5nSWQsCiAgICAgICAgICB7CiAgICAgICAgICAgIGNvdXBvbjogY29kZSwKICAgICAgICAgICAgemlkOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnpvbmUubG9jYXRpb25Db2RlCiAgICAgICAgICB9CiAgICAgICAgKTsKICAgICAgICByZXR1cm4gdmFsaWRhdGVSZXN1bHQ7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIHJldHVybiBlcnJvcjsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIG9wZW5TY2FuVmFsaWRhdGlvbkNvZGUoKSB7CiAgICAgIHRoaXMudmFsaWRhdGVCb29raW5nRGlhbG9nID0gZmFsc2U7CiAgICAgIHRoaXMudmFsaWRhdGVCb29raW5nVHh0ID0gIiI7CiAgICAgIHRoaXMudmFsaWRhdGVRUkNvZGVEaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLnZhbGlkYXRpb25DYW1lcmFTdGF0dXMgPSB0cnVlOwogICAgfSwKICAgIGFzeW5jIG9uVmFsaWRhdGVRUkNvZGUoZGVjb2RlZFN0cmluZykgewogICAgICB0aGlzLnZhbGlkYXRpb25DYW1lcmFTdGF0dXMgPSBmYWxzZTsKICAgICAgdGhpcy52YWxpZGF0ZVFSQ29kZVBlbmRpbmcgPSB0cnVlOwogICAgICB0cnkgewogICAgICAgIGxldCByZXN1bHQgPSBhd2FpdCB0aGlzLnZhbGlkYXRlQm9va2luZyhkZWNvZGVkU3RyaW5nKTsKICAgICAgICBpZiAoIXJlc3VsdC5kYXRhLnN0YXR1cykgewogICAgICAgICAgdGhpcy5pbnZhbGlkVmFsaWRhdGlvblFSTXNnID0gcmVzdWx0Py5kYXRhPy5tZXNzYWdlCiAgICAgICAgICAgID8gcmVzdWx0LmRhdGEubWVzc2FnZQogICAgICAgICAgICA6ICJWYWxpZGF0aW9uIG5vdCByZWNvZ25pemVkLiBQbGVhc2UgdHJ5IGFnYWluIjsKICAgICAgICAgIHRoaXMuaW52YWxpZFZhbGlkYXRpb25RUkRpYWxvZyA9IHRydWU7CiAgICAgICAgICB0aGlzLnZhbGlkYXRlUVJDb2RlUGVuZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgICBwaG9uZTogdGhpcy5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgICAgIHJlZklkOiB0aGlzLmJvb2tpbmdJZCwKICAgICAgICAgICAgZXJyb3I6IHRoaXMuaW52YWxpZFFSTXNnLAogICAgICAgICAgICBpY29uOiAicmVkZWVtIiwKICAgICAgICAgICAgc3RhdHVzVGV4dDoKICAgICAgICAgICAgICAiRXJyb3IgaW4gdmFsaWRhdGluZyB0aGUgc2Vzc2lvbiBvbiBzY2FubmluZyB2YWxpZGF0aW9uIFFSIC0gIiArCiAgICAgICAgICAgICAgZGVjb2RlZFN0cmluZywKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAgIHBob25lOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgICAgcmVmSWQ6IHRoaXMuYm9va2luZ0lkLAogICAgICAgICAgICBpY29uOiAicmVkZWVtIiwKICAgICAgICAgICAgc3RhdHVzVGV4dDoKICAgICAgICAgICAgICAiUGFya2VyIHZhbGlkYXRlZCB0aGUgc2Vzc2lvbiBzdWNjZXNzZnVsbHkgYnkgc2Nhbm5pbmcgdmFsaWRhdGlvbiBRUiAtICIgKwogICAgICAgICAgICAgIGRlY29kZWRTdHJpbmcsCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMudmFsaWRhdGVRUkNvZGVQZW5kaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLnZhbGlkYXRlUVJDb2RlRGlhbG9nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoCiAgICAgICAgICAgICJTRVRfVkFMSURBVEVEX01FUkNIQU5UIiwKICAgICAgICAgICAgcmVzdWx0Py5kYXRhPy5tZXJjaGFudE5hbWUKICAgICAgICAgICk7CiAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICIvdmFsaWRhdGVzdWNjZXNzIiB9KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9LAogIH0sCn07Cg=="},{"version":3,"sources":["CheckedIn.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"CheckedIn.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container class=\"pa-4\" fluid>\n    <v-row class=\"text-center\" no-gutters>\n      <v-col cols=\"12\">\n        <v-img alt=\"PARKING.COM\" class=\"my-3\" height=\"42\" contain src=\"../assets/logo_huge_drk.png\" />\n      </v-col>\n    </v-row>\n    <v-row no-gutters>\n      <v-col>\n        <v-card class=\"mx-auto rounded-lg\" max-width=\"374\">\n          <!-- <v-responsive :aspect-ratio=\"16/9\"> -->\n\n          <template slot=\"progress\">\n            <v-progress-linear\n              color=\"red\"\n              height=\"10\"\n              indeterminate\n            ></v-progress-linear>\n          </template>\n          <div style=\"position: relative\">\n            <!-- <v-skeleton-loader\n                  v-show=\"!bookingDetails.hasOwnProperty('zone')\"\n                  height=\"260px\"\n                  class=\"rounded-t-lg\"\n                  type=\"image\"\n                ></v-skeleton-loader>-->\n\n            <v-img class=\"rounded-t-lg\" max-height=\"150px\" style=\"filter: brightness(50%)\" :src=\"\n              bookingDetails.hasOwnProperty('zone') &&\n                bookingDetails.zone.image != '' &&\n                bookingDetails.zone.image != null\n                ? bookingDetails.zone.image\n                : zoneImgURL\n            \" :lazy-src=\"\n  bookingDetails.hasOwnProperty('zone') &&\n    bookingDetails.zone.image != '' &&\n    bookingDetails.zone.image != null\n    ? bookingDetails.zone.image\n    : zoneImgURL\n\" alt=\"Parking.com garage\">\n              <template v-slot:placeholder>\n                <v-row\n                  class=\"fill-height ma-0\"\n                  align=\"center\"\n                  justify=\"center\"\n                  no-gutters\n                >\n                  <v-progress-circular\n                    indeterminate\n                    color=\"grey lighten-5\"\n                  ></v-progress-circular>\n                </v-row>\n              </template>\n            </v-img>\n            <div class=\"booking_header white--text text-left mr-4\">\n              <span>\n                {{\n                  bookingDetails.hasOwnProperty(\"booking\")\n                  ? bookingDetails.booking.header\n                  : \"\"\n                }}\n              </span>\n            </div>\n            <div class=\"booking_divider_div\">\n              <v-divider class=\"booking_divider mx-4\"></v-divider>\n            </div>\n            <div class=\"booking_content white--text\">\n              Checked in at\n              {{\n                bookingDetails.hasOwnProperty(\"booking\") ? booking_content : \"\"\n              }}\n              <span v-if=\"\n                bookingDetails.hasOwnProperty('booking') &&\n                bookingDetails.hasOwnProperty('zone') &&\n                bookingDetails.booking.vehicleNo != null &&\n                bookingDetails.booking.vehicleNo != ''\n              \">\n                with license plate\n                {{\n                  bookingDetails.hasOwnProperty(\"booking\")\n                  ? bookingDetails.booking.vehicleNo\n                  : \"\"\n                }}\n              </span>\n            </div>\n          </div>\n          <v-fab-transition>\n            <v-btn v-show=\"\n              Object.hasOwnProperty.call(bookingDetails, 'zone') &&\n              bookingDetails.zone.isPedestrian == 1\n            \" class=\"fabIcon\" color=\"#f2555c !important\" fab dark raised large right @click=\"getpedestrianAccess()\"\n              style=\"bottom: 35px; float: right; right: 10px\">\n              <v-img src=\"../assets/pedestrain_door.png\" style=\"opacity: 1\" width=\"32\" height=\"32\" contain></v-img>\n              <!-- <v-icon class=\"material-icons-outlined\">directions_walk</v-icon> -->\n            </v-btn>\n          </v-fab-transition>\n\n          <v-card-title class=\"pa-1\"></v-card-title>\n\n          <v-card-text class=\"pa-1\">\n            <v-row align=\"center\" class=\"mx-0 pb-0\" no-gutters>\n              <v-col cols=\"2\">\n                <v-icon style=\"font-size: 50px\">mdi-clock-outline</v-icon>\n              </v-col>\n              <v-col cols=\"10\" class=\"pl-1\">\n                <v-row no-gutters class=\"counter-content-position\">\n                  <v-col cols=\"12\" class=\"pa-0\">\n                    <v-skeleton-loader v-show=\"\n                      !bookingDetails.hasOwnProperty('booking') ||\n                      timeAgo == '' ||\n                      timeAgo == null\n                    \" height=\"40px\" max-width=\"200\" type=\"heading\"></v-skeleton-loader>\n                    <span class=\"grey--text text--darken-1 time_ago\" v-show=\"!(validatedDateTime > 0)\">{{\n                      timeAgo\n                    }}</span>\n                    <!-- <span\n                          class=\"grey--text text--darken-1 time_ago\"\n                          v-show=\"gracePeriodTime > 0\"\n                          >{{ countDownGracePeriodTime }}</span\n                        >-->\n                    <span class=\"grey--text text--darken-1 time_ago\" v-show=\"\n                      bookingDetails.hasOwnProperty('booking') &&\n                      bookingDetails.booking.hasOwnProperty('validated') &&\n                      bookingDetails.booking.validated == '1' &&\n                      validatedDateTime > 0\n                    \">{{ countDownValidatedTime }}</span>\n                  </v-col>\n                  <v-col cols=\"12\" v-if=\"\n                    bookingDetails.hasOwnProperty('booking') &&\n                    validatedDateTime <= 0\n                  \">\n                    <span class=\"grey--text text--darken-1 time_ago_context\">Since you parked</span>\n                  </v-col>\n                  <!-- <v-col cols=\"12\" v-else-if=\"bookingDetails.hasOwnProperty('booking') && gracePeriodTime > 0\">\n                        <span class=\"grey--text text--darken-1 time_ago_context\"\n                          >Grace period remaining</span\n                        >\n                      </v-col>-->\n                  <v-col cols=\"12\" v-else-if=\"\n                    bookingDetails.hasOwnProperty('booking') &&\n                    bookingDetails.booking.hasOwnProperty('validated') &&\n                    bookingDetails.booking.validated == '1' &&\n                    validatedDateTime > 0\n                  \">\n                    <span class=\"grey--text text--darken-1 time_ago_context\">Validation time remaining</span>\n                  </v-col>\n                  <v-col cols=\"12\" v-show=\"\n                    bookingDetails.hasOwnProperty('booking') &&\n                    bookingDetails.booking.hasOwnProperty('validated') &&\n                    bookingDetails.booking.validated == '1' &&\n                    bookingDetails.booking.hasOwnProperty(\n                      'validationType'\n                    ) &&\n                    bookingDetails.booking.validationType == 'DIVRT'\n                  \">\n                    <span class=\"grey--text text--darken-1 validated_time\">Validated until {{\n                      validated_content\n                    }}</span>\n                  </v-col>\n                </v-row>\n              </v-col>\n              <v-col cols class=\"align-self-center text-center\" v-show=\"\n                bookingDetails.hasOwnProperty('booking') &&\n                bookingDetails.booking.hasOwnProperty('TypeOfBooking') &&\n                bookingDetails.booking.TypeOfBooking == 'Monthly'\n              \">\n                <v-btn class=\"elevation-0 white--text\" tile x-small color=\"green darken-2\">Monthly</v-btn>\n              </v-col>\n              <v-col cols class=\"align-self-center text-center\" v-show=\"\n                bookingDetails.hasOwnProperty('booking') &&\n                bookingDetails.booking.hasOwnProperty('TypeOfBooking') &&\n                bookingDetails.booking.TypeOfBooking == 'Employee'\n              \">\n                <v-btn class=\"elevation-0 white--text\" tile x-small color=\"green darken-2\">Employee</v-btn>\n              </v-col>\n            </v-row>\n            <v-row no-gutters align=\"center\" class=\"my-1\">\n              <v-col cols=\"12\" class=\"pa-0 align-self-center text-center\">\n                <v-btn class=\"elevation-0 white--text\" tile x-small color=\"green darken-2\" v-show=\"\n                  bookingDetails.hasOwnProperty('booking') &&\n                  bookingDetails.booking.hasOwnProperty('validated') &&\n                  bookingDetails.booking.validated == '1'\n                \">VALIDATED</v-btn>\n                <!-- <v-icon color=\"red\" class=\"ml-2\" v-show=\"(bookingDetails.hasOwnProperty('booking') && bookingDetails.booking.validated == '1' && showPaymentCardAdded == '1')\" >approval</v-icon> -->\n              </v-col>\n            </v-row>\n            <v-row class=\"justify-center mb-3\" no-gutters v-show=\"\n              Object.hasOwnProperty.call(bookingDetails, 'zone') &&\n              !(bookingDetails.zone.isGated == '0')\n            \">\n              <span class=\"grey--text text--darken-1 font-weight-bold\"\n                v-if=\"showPaymentCardAdded && (isCheckoutEnabled(1) || isCheckoutEnabled(2) || isCheckoutEnabled(3))\">Click\n                an option below to exit</span>\n            </v-row>\n            <v-row class=\"justify-center my-3\" no-gutters\n              v-show=\"!(isCheckoutEnabled(1) || isCheckoutEnabled(2) || isCheckoutEnabled(3))\">\n              <span class=\"black--text text--darken-1 font-weight-bold text-h5\">Checked In</span>\n            </v-row>\n          </v-card-text>\n          <!-- <v-card-text class=\"text-center\">Click an option to exit</v-card-text> -->\n          <v-card-actions class=\"text-center justify-center px-0 pb-4 mt-4 px-4\" v-if=\"\n            Object.hasOwnProperty.call(bookingDetails, 'booking') &&\n            !showPaymentCardAdded\n          \">\n            <v-container class=\"pa-0\" fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\">\n                  <v-btn rounded elevation=\"0\" class=\"add_credit_card_btn white--text\" @click=\"navigateToAddPayment\">ADD\n                    CREDIT CARD</v-btn>\n                </v-col>\n                <v-col cols=\"12\" class=\"mt-4\" v-show=\"\n                  bookingDetails.hasOwnProperty('booking') &&\n                  bookingDetails.booking.hasOwnProperty('validated') &&\n                  bookingDetails.booking.validated != '1' &&\n                  bookingDetails.booking.isValidationEnabled == '1'\n                \">\n                  <v-btn rounded elevation=\"0\" dense width=\"55%\"\n                    class=\"validate_btn white--text blue darken-2 no-upper-case\"\n                    @click=\"openValidationDialog()\">Validate</v-btn>\n                </v-col>\n                <v-col cols=\"12\" class=\"mt-4 text-center color-black\" style=\"font-size: 12px\" v-show=\"\n                  Object.hasOwnProperty.call(bookingDetails, 'zone') &&\n                  !(bookingDetails.zone.isGated == '0')\n                \">\n                  <p>\n                    If you fully validate your parking prior to exiting the garage, no credit card is required.\n                    Otherwise, enter your credit card info now to avoid a slow down at exit.\n                  </p>\n                </v-col>\n                <v-col cols=\"12\" class=\"mt-4 text-center color-black\" style=\"font-size: 12px\" v-show=\"\n                  Object.hasOwnProperty.call(bookingDetails, 'zone') &&\n                  !(bookingDetails.zone.isGated == '1') &&\n                  validatedDateTime <= 0\n                \">\n                  <p>\n                    A valid credit card is required to park. Without one, you\n                    could be subject to a parking violation and issued a\n                    citation.\n                  </p>\n                </v-col>\n                <v-col cols=\"12\" class=\"mt-4 color-black text-center\" style=\"font-size: 12px\" v-show=\"\n                  bookingDetails.hasOwnProperty('booking') &&\n                  bookingDetails.booking.hasOwnProperty('validated') &&\n                  bookingDetails.booking.validated == '1' &&\n                  validatedDateTime > 0\n                \">\n                  <p>\n                    Exiting after the validated time period will require a valid\n                    credit card to continue parking. Without one, you could be\n                    subject to a parking violation and issued a citation.\n                  </p>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-actions>\n          <v-card-actions\n            class=\"justify-center pb-10\"\n            v-if=\"showPaymentCardAdded\"\n          >\n            <v-container class=\"pa-0\" fluid>\n              <v-row no-gutters class=\"text-center px-10\" v-if=\"\n                bookingDetails.hasOwnProperty('exitOptions') &&\n                Object.hasOwnProperty.call(bookingDetails, 'zone') &&\n                !(bookingDetails.zone.isGated == '0') && bookingDetails.exitOptions.length > 0\n              \">\n                <v-col v-if=\"isCheckoutEnabled(1)\">\n                  <v-avatar color=\"red\" class=\"pa-6\" @click=\"openSMSDialog()\">\n                    <v-icon medium color=\"white accent-2\" class=\"px-4\" dark>\n                      {{\n                        getExitIcon(1)\n                      }}\n                    </v-icon>\n                  </v-avatar>\n                  <p class=\"grey--text text--darken-1 exit-option-text\">\n                    {{ getExitText(1) }}\n                  </p>\n                </v-col>\n                <v-col v-if=\"isCheckoutEnabled(2)\">\n                  <v-avatar color=\"red\" class=\"pa-6\" @click.stop=\"openSmsQrScanner()\">\n                    <v-icon medium color=\"white accent-2\" class=\"px-4\" dark>\n                      {{\n                        getExitIcon(2)\n                      }}\n                    </v-icon>\n                  </v-avatar>\n                  <p class=\"grey--text text--darken-1 exit-option-text\">\n                    {{ getExitText(2) }}\n                  </p>\n                </v-col>\n                <v-col v-if=\"isCheckoutEnabled(3)\">\n                  <v-avatar color=\"red\" class=\"pa-6\" @click=\"dialerDialog = true\">\n                    <v-icon medium color=\"white accent-2\" class=\"px-4\" dark>\n                      {{\n                        getExitIcon(3)\n                      }}\n                    </v-icon>\n                  </v-avatar>\n                  <p class=\"grey--text text--darken-1 exit-option-text\">{{ getExitText(3) }}</p>\n                </v-col>\n              </v-row>\n\n              <v-row no-gutters v-show=\"\n                Object.hasOwnProperty.call(bookingDetails, 'zone') &&\n                !(bookingDetails.zone.isGated == '0') && (isCheckoutEnabled(1) || isCheckoutEnabled(2) || isCheckoutEnabled(3))\n              \">\n                <v-col cols=\"12\" class=\"mt-2 text-center color-black\" style=\"font-size: 12px\">\n                  <p class=\"mb-0\">\n                    When you're ready to leave, please look for the\n                    <strong>3 digit</strong> gate code on the sign in the exit\n                    lane. Type that code when prompted. Have a good day!\n                  </p>\n                </v-col>\n              </v-row>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"px-4 mt-4 text-center color-black font-weight-bold\" style=\"font-size: 13px\"\n                  v-show=\"\n                    (bookingDetails.hasOwnProperty('booking') &&\n                      bookingDetails.booking.hasOwnProperty('cardNo') &&\n                      bookingDetails.booking.hasOwnProperty('accountType') &&\n                      bookingDetails.booking.accountType == '2') ||\n                    (bookingDetails.booking.cardOnfile == '1' &&\n                      (bookingDetails.booking.accountType == '0' ||\n                        bookingDetails.booking.accountType == '1') &&\n                      !(\n                        bookingDetails.booking.cardNo == '0' ||\n                        bookingDetails.booking.cardNo == '' ||\n                        bookingDetails.booking.cardNo == null\n                      ))\n                  \">\n                  <p class=\"mb-0\">\n                    Card ending with *{{\n                      bookingDetails.hasOwnProperty(\"booking\") &&\n                      bookingDetails.booking.hasOwnProperty(\"cardNo\")\n                      ? bookingDetails.booking.cardNo\n                      : \"\"\n                    }}\n                    on file\n                  </p>\n                </v-col>\n              </v-row>\n              <v-row no-gutters class=\"mt-4\">\n                <v-col cols=\"12\" class=\"text-center mt-2\" v-show=\"\n                  bookingDetails.hasOwnProperty('booking') &&\n                  bookingDetails.booking.hasOwnProperty('validated') &&\n                  bookingDetails.booking.validated != '1' &&\n                  bookingDetails.booking.isValidationEnabled == '1'\n                \">\n                  <v-btn rounded elevation=\"0\" dense width=\"55%\"\n                    class=\"validate_btn white--text blue darken-2 no-upper-case\" @click=\"openValidationDialog()\">Validate\n                    Parking</v-btn>\n                </v-col>\n              </v-row>\n              <v-row no-gutters class=\"text-center mt-1\" v-show=\"\n                Object.hasOwnProperty.call(bookingDetails, 'zone') &&\n                bookingDetails.zone.isGated == '0' &&\n                bookingDetails.booking.cardOnfile == '1' &&\n                validatedDateTime <= 0\n              \">\n                <v-col cols=\"12\" class=\"mt-2 color-black\" style=\"font-size: 12px\">\n                  <p class=\"mb-0\">\n                    The card on file will be automatically charged for the time\n                    parked when you exit the garage.\n                  </p>\n                </v-col>\n              </v-row>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"mt-1 text-center\" v-show=\"\n                  bookingDetails.hasOwnProperty('booking') &&\n                  bookingDetails.booking.hasOwnProperty('cardNo') &&\n                  bookingDetails.booking.hasOwnProperty('accountType') &&\n                  bookingDetails.booking.hasOwnProperty('cardUpdated') &&\n                  !(bookingDetails.booking.cardUpdated == '1') &&\n                  (bookingDetails.booking.accountType == '2' ||\n                    (bookingDetails.booking.cardOnfile == '1' &&\n                      bookingDetails.booking.accountType == '0')) &&\n                  !(bookingDetails.booking.tapToChangeCard == '0')\n                \">\n                  <a class=\"text-caption\" @click=\"navigateToAddPayment()\">Tap to change card</a>\n                </v-col>\n              </v-row>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"mt-4 text-center color-black\" style=\"font-size: 12px\" v-show=\"\n                  Object.hasOwnProperty.call(bookingDetails, 'zone') &&\n                  !(bookingDetails.zone.isGated == '1') &&\n                  validatedDateTime <= 0 &&\n                  bookingDetails.booking.cardOnfile != '1'\n                \">\n                  <p>\n                    A valid credit card is required to park. Without one, you\n                    could be subject to a parking violation and issued a\n                    citation.\n                  </p>\n                </v-col>\n              </v-row>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"mt-4 text-center color-black\" style=\"font-size: 12px\" v-show=\"\n                  bookingDetails.hasOwnProperty('booking') &&\n                  bookingDetails.booking.hasOwnProperty('validated') &&\n                  bookingDetails.booking.validated == '1' &&\n                  validatedDateTime > 0\n                \">\n                  <p>\n                    Exiting after the validated time period will require a valid\n                    credit card to continue parking. Without one, you could be\n                    subject to a parking violation and issued a citation.\n                  </p>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-actions>\n          <!-- <v-row v-if=\"showPaymentCardAdded\">\n                <v-col>\n                  <v-icon\n                    x-small\n                    color=\"green\"\n                    class=\"px-4\"\n                    dark\n                    @click=\"navigateToCheckOut\"\n                  >mdi-exit-to-app</v-icon>\n                </v-col>\n              </v-row>-->\n          <!-- </v-responsive> -->\n        </v-card>\n      </v-col>\n    </v-row>\n    <v-dialog v-model=\"qrCodeDialog\" width=\"fit-content\" persistent>\n      <v-card>\n        <v-card-title>\n          <v-spacer></v-spacer>\n          <v-icon @click=\"closeQRCodeDialog()\">mdi-close</v-icon>\n        </v-card-title>\n        <v-card-text class=\"pa-1\">\n          <qr-code-scanner :scan=\"'sms'\" v-bind:qrbox=\"250\" v-bind:fps=\"30\"\n            :cameraStatus=\"cameraStatus\"></qr-code-scanner>\n          <v-progress-circular v-if=\"!cameraStatus\" class=\"validation-pending\" indeterminate\n            color=\"red\"></v-progress-circular>\n        </v-card-text>\n        <v-card-actions>\n          <v-container class=\"pa-0\" fluid>\n            <v-row no-gutters>\n              <v-col cols=\"7\">\n                <p class=\"grey--text font-weight-bold qr_text mr-4\">Scan the QR code affixed to exit the gate</p>\n              </v-col>\n              <v-spacer></v-spacer>\n              <v-img\n                src=\"../assets/qr-code.png\"\n                style=\"opacity: 0.7\"\n                max-width=\"52\"\n              ></v-img>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <div>\n      <v-dialog v-model=\"smsDialog\" width=\"fit-content\">\n        <v-card class=\"pa-0\" ref=\"smscontainer\">\n          <v-card-title class=\"justify-center\" style=\"position: relative\">\n            <v-btn class elevation=\"0\" color=\"white\" dark fab x-large>\n              <v-icon x-large color=\"red accent-2\">mdi-message-text</v-icon>\n            </v-btn>\n          </v-card-title>\n          <v-card-text class=\"pa-0\">\n            <v-container class=\"px-4\" fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"text-left\">\n                  <p class=\"color-black\" style=\"font-size: 24px; line-height: 35px\">Enter the gate code shown in the\n                    lane to exit.</p>\n                  <!-- <p class=\"sms-caption color-black\">\n                        We'll copy the code into a text message for you. You'll need\n                        to tap send on the message to open the gate.\n                      </p>-->\n                </v-col>\n                <v-col cols=\"12\" class=\"mt-2\">\n                  <v-text-field class=\"sms-input\" color=\"red\" v-model=\"smsText\" outlined label=\"Gate code\" maxlength=\"6\"\n                    type=\"tel\" autofocus v-on:keyup.enter=\"openSMSApp()\" @focus=\"scrollToSubmit()\"\n                    @mouseup=\"scrollToSubmit()\" @keydown=\"scrollToSubmit()\" clearable height=\"80px\"></v-text-field>\n                </v-col>\n              </v-row>\n            </v-container>\n            <v-progress-circular v-if=\"smsPending\" class=\"validation-pending\" indeterminate\n              color=\"red\"></v-progress-circular>\n          </v-card-text>\n          <v-card-actions class=\"text-center\">\n            <v-container pa-0 fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\">\n                  <v-btn id=\"submitsmsbtn\" rounded block elevation=\"0\" :disabled=\"smsText == '' || smsPending\"\n                    class=\"white--text exit_dialog_btn\" @click=\"openSMSApp()\">SUBMIT</v-btn>\n                </v-col>\n                <v-col cols=\"12\" class=\"mt-2\">\n                  <p style=\"cursor: pointer\" @click=\"smsDialog = false\">\n                    Close\n                  </p>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n    <div>\n      <v-dialog v-model=\"validateQRCodeDialog\" width=\"fit-content\" persistent>\n        <v-card>\n          <v-card-title>\n            <v-spacer></v-spacer>\n            <v-icon @click=\"closeValidationQRDialog()\">mdi-close</v-icon>\n          </v-card-title>\n          <v-card-text class=\"pa-1\">\n            <validation-qr-code-scanner :scan=\"'validationCode'\" v-bind:qrbox=\"250\" v-bind:fps=\"30\"\n              :cameraStatus=\"validationCameraStatus\"></validation-qr-code-scanner>\n            <v-progress-circular v-if=\"!validationCameraStatus\" class=\"validation-pending\" indeterminate\n              color=\"red\"></v-progress-circular>\n          </v-card-text>\n          <v-card-actions>\n            <v-container class=\"pa-0\" fluid>\n              <v-row no-gutters>\n                <v-col cols=\"7\">\n                  <p class=\"grey--text font-weight-bold qr_text mr-4\">Please scan the validation QR code</p>\n                </v-col>\n                <v-spacer></v-spacer>\n                <v-img\n                  src=\"../assets/qr-code.png\"\n                  style=\"opacity: 0.7\"\n                  max-width=\"52\"\n                ></v-img>\n              </v-row>\n            </v-container>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n    <div>\n      <v-dialog v-model=\"validateBookingDialog\" width=\"fit-content\">\n        <v-card class=\"pa-0\" ref=\"validatecontainer\">\n          <v-card-title class=\"justify-center\" style=\"position: relative\">\n            <v-btn class elevation=\"0\" color=\"white\" dark fab large>\n              <v-icon x-large color=\"red accent-2\">mdi-ticket-percent</v-icon>\n            </v-btn>\n          </v-card-title>\n          <v-card-text class=\"pa-0\">\n            <v-container class=\"px-4 py-0\" fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"text-left\">\n                  <p\n                    class=\"color-black text-center\"\n                    style=\"font-size: 24px; line-height: 35px\"\n                  >\n                    If the Merchant provided you a validation code, you may scan\n                    it or enter it here.\n                  </p>\n                </v-col>\n                <v-col cols=\"12\">\n                  <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                    @click=\"openScanValidationCode()\">Scan Validation Code</v-btn>\n                </v-col>\n                <v-col cols=\"12\" class=\"text-left mt-4\">\n                  <p class=\"color-black\" style=\"font-size: 24px; line-height: 35px\">or enter it below</p>\n                </v-col>\n                <v-col cols=\"12\">\n                  <v-text-field class=\"sms-input\" color=\"red\" v-model=\"validateBookingTxt\" outlined\n                    label=\"Validation code\" hide-details=\"auto\" v-on:keyup.enter=\"validateBooking()\"\n                    @focus=\"scrollToValidateBtn()\" @mouseup=\"scrollToValidateBtn()\" @keydown=\"scrollToValidateBtn()\"\n                    clearable height=\"80px\"></v-text-field>\n                </v-col>\n              </v-row>\n            </v-container>\n            <v-progress-circular v-if=\"validateBookingPending\" class=\"validation-pending\" indeterminate\n              color=\"red\"></v-progress-circular>\n          </v-card-text>\n          <v-card-actions class=\"text-center\">\n            <v-container pa-0 fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\">\n                  <v-btn id=\"validatebookingbtn\" rounded block elevation=\"0\" :disabled=\"\n                    validateBookingTxt == '' ||\n                    validateBookingTxt == null ||\n                    validateBookingPending\n                  \" class=\"white--text exit_dialog_btn\" @click=\"onValidateText()\">SUBMIT</v-btn>\n                </v-col>\n                <v-col cols=\"12\" class=\"mt-2\">\n                  <p\n                    style=\"cursor: pointer\"\n                    @click=\"validateBookingDialog = false\"\n                  >\n                    Close\n                  </p>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n    <div>\n      <v-dialog v-model=\"dialerDialog\" width=\"fit-content\">\n        <v-card class=\"pa-0\">\n          <v-card-title class=\"justify-center\" style=\"position: relative\">\n            <v-btn class elevation=\"0\" color=\"white\" dark fab x-large>\n              <v-icon x-large color=\"red accent-2\">mdi-phone-in-talk</v-icon>\n            </v-btn>\n          </v-card-title>\n          <v-card-text class=\"pa-0\">\n            <v-container class=\"px-4\" fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"text-left\">\n                  <p\n                    class=\"color-black\"\n                    style=\"font-size: 24px; line-height: 35px\"\n                  >\n                    Tap to call the gate. When prompted, enter the gate code\n                    shown in the lane to exit.\n                  </p>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-text>\n          <v-card-actions class=\"text-center\">\n            <v-container pa-0 fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\">\n                  <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\" @click=\"openDialerApp\">CALL\n                    GATE</v-btn>\n                </v-col>\n                <v-col cols=\"12\" class=\"mt-2\">\n                  <p style=\"cursor: pointer\" @click=\"dialerDialog = false\">\n                    Close\n                  </p>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-actions>\n        </v-card>\n      </v-dialog>\n    </div>\n    <v-dialog v-model=\"invalidQRDialog\" persistent max-width=\"290\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\" style=\"position: relative\">\n          <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">{{ invalidQRMsg }}</span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\" @click=\"reScanQR()\">Re-Scan\n                  Code</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"invalidValidationQRDialog\" persistent max-width=\"290\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\" style=\"position: relative\">\n          <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">{{ invalidValidationQRMsg }}</span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"reScanValidationQR()\">Re-Scan Code</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"invalidSMSDialog\" persistent max-width=\"290\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\" style=\"position: relative\">\n          <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">{{ invalidSMSMsg }}</span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"invalidSMSDialog = false\">Re-Enter Code</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n\n    <v-dialog v-model=\"pedestrianAccessDialog\" persistent max-width=\"290\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\" style=\"position: relative\">\n          <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">{{ pedestrianAccessText }}</span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"pedestrianAccessDialog = false\">Close</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport APIHelper from \"../apiHelper\";\n// import loggerHelper from \"../loggerHelper\";\nimport { mapGetters } from \"vuex\";\n// import { QrcodeStream } from \"vue-qrcode-reader\";\nimport QrCodeScanner from \"@/views/QrCodeScanner.vue\";\nimport ValidationQrCodeScanner from \"@/views/ValidationQrCodeScanner.vue\";\nimport { formatDateTime } from \"@/utils/formatDateTime\";\nimport { EventBus } from \"@/lib/EventBus\";\n// import QrScanner from 'qr-scanner';\nexport default {\n  name: \"CheckIn\",\n  components: { QrCodeScanner, ValidationQrCodeScanner },\n  data: () => ({\n    // rules: {\n    //   counter: value => value.length <= 6 || \"Max 6 characters\"\n    // },\n    invalidValidationQRDialog: false,\n    cameraStatus: false,\n    validationCameraStatus: false,\n    validatedDateTime: 0,\n    gracePeriodTime: 0,\n    validatedInterval: \"\",\n    duration: 300,\n    offset: 0,\n    pedestrianAccessDialog: false,\n    pedestrianAccessText: \"\",\n    easing: \"easeInOutCubic\",\n    pageHeight: window.outerHeight,\n    qrCodeDialog: false,\n    countUpTime: \"\",\n    interval: \"\",\n    isValid: undefined,\n    camera: \"auto\",\n    smsText: \"\",\n    smsDialog: false,\n    dialerDialog: false,\n    invalidQRMsg: \"\",\n    invalidValidationQRMsg: \"\",\n    invalidQRDialog: false,\n    invalidSMSMsg: \"\",\n\n    invalidSMSDialog: false,\n    smsPending: false,\n    validateBookingPending: false,\n    validateBookingDialog: false,\n    validateBookingTxt: \"\",\n    validateQRCodePending: false,\n    validateQRCodeDialog: false,\n  }),\n  computed: {\n    ...mapGetters({\n      bookingId: \"getterBookingId\",\n      bookingDetails: \"getterBookingDetails\",\n      entryTime: \"getterEntryTime\",\n      exitGateCodes: \"getterExitGateCodes\",\n    }),\n    isExtra() {\n      return window.location.pathname.includes(\"/gx/\");\n    },\n    options() {\n      return {\n        duration: this.duration,\n        offset: this.offset,\n        easing: this.easing,\n      };\n    },\n    showPaymentCardAdded: function getCardStatus() {\n      var cardOnFile = this.bookingDetails?.booking?.cardOnfile\n        ? this.bookingDetails.booking.cardOnfile\n        : null;\n      var validatedState = this.bookingDetails?.booking?.validated\n        ? this.bookingDetails.booking.validated\n        : null;\n      var state =\n        cardOnFile == \"1\"\n          ? true\n          : cardOnFile == \"2\" &&\n            validatedState == \"1\" &&\n            this.validatedDateTime > 0;\n      return state;\n    },\n    timeAgo: function getTimeAgo() {\n      return this.countUpTime;\n    },\n    validationPending: function qrValidation() {\n      return this.isValid === undefined && this.camera === \"off\";\n    },\n    booking_content() {\n      let dateTime = formatDateTime(\n        Number(this.bookingDetails.booking.entrytime)\n      );\n      return dateTime[0] + \" on \" + dateTime[1] + \" \" + dateTime[2];\n    },\n    validated_content() {\n      if (this.bookingDetails?.zone?.timezoneoffset) {\n        let dateTime = this.bookingDetails.booking.type == \"13\" ? formatDateTime(\n          Number(this.bookingDetails.booking.revStart) +\n          Number(this.bookingDetails.booking.couponValidTime)\n        ) : formatDateTime(\n          Number(this.bookingDetails.booking.entrytime) +\n            Number(this.bookingDetails.booking.couponValidTime)\n        );\n        return dateTime[0] + \", \" + dateTime[1] + \" \" + dateTime[2];\n      }\n      return \"\";\n    },\n    countDownValidatedTime() {\n      if (this.validatedDateTime < 0) {\n        this.$store.commit(\"SET_VALIDATED_TIME_STATUS\", true);\n        clearInterval(this.validatedInterval);\n      }\n      return this.secondsToHms(this.validatedDateTime / 1000 + 59);\n    },\n    countDownGracePeriodTime() {\n      if (this.gracePeriodTime < 0) {\n        this.$store.commit(\"SET_GRACE_PERIOD_TIME_STATUS\", true);\n        clearInterval(this.gracePeriodInterval);\n      }\n      //add 59 sec to graceperiod time to skip 0 min.\n      return this.secondsToHms(this.gracePeriodTime / 1000 + 59);\n    },\n    // gracePeriodCountDownTime,\n    // countDownValidationtime(){\n    //   return\n    // }\n  },\n  watch: {\n    currentDate(newVal) {\n      console.log(newVal);\n    },\n  },\n  created() {},\n  mounted: function () {\n    if (\n      this.entryTime != null &&\n      !this.bookingDetails?.booking?.exittime &&\n      this.bookingDetails?.zone?.timezone &&\n      this.bookingDetails?.booking?.gracePeriod\n    ) {\n      this.countUpTime = this.calculateParkingTime(\n        this.entryTime,\n        this.bookingDetails.booking.gracePeriod,\n        this.bookingDetails.zone.timezone\n      );\n    }\n    this.interval = setInterval(() => {\n      if (\n        this.entryTime != null &&\n        !this.bookingDetails?.booking?.exittime &&\n        this.bookingDetails?.zone?.timezone &&\n        this.bookingDetails?.booking?.gracePeriod\n      ) {\n        this.countUpTime = this.calculateParkingTime(\n          this.entryTime,\n          this.bookingDetails.booking.gracePeriod,\n          this.bookingDetails.zone.timezone\n        );\n      }\n    }, 1000);\n    if (\n      this.bookingDetails?.booking?.exittime &&\n      this.bookingDetails.booking.exittime != null &&\n      this.bookingDetails.booking.exittime != \"\"\n    ) {\n      clearInterval(this.interval);\n    }\n    if (\n      this.bookingDetails?.booking?.validated &&\n      this.bookingDetails.booking.validated == \"1\" &&\n      this.bookingDetails?.booking?.validationType &&\n      this.bookingDetails.booking.validationType == \"DIVRT\"\n    ) {\n      this.validatedDateTime = this.calculateValidatedTime();\n    }\n\n    this.validatedInterval = setInterval(() => {\n      if (\n        this.bookingDetails?.zone?.timezone &&\n        this.bookingDetails?.booking?.validated &&\n        this.bookingDetails.booking.validated == \"1\" &&\n        this.bookingDetails?.booking?.validationType &&\n        this.bookingDetails.booking.validationType == \"DIVRT\"\n      ) {\n        this.validatedDateTime = this.calculateValidatedTime();\n      }\n    }, 1000);\n    if (\n      this.bookingDetails?.booking?.validated &&\n      this.bookingDetails.booking.validated == \"1\" &&\n      this.bookingDetails?.booking?.validationType &&\n      this.bookingDetails.booking.validationType == \"DIVRT\"\n    ) {\n      if (this.validatedDateTime < 0) {\n        this.$store.commit(\"SET_VALIDATED_TIME_STATUS\", true);\n        clearInterval(this.validatedInterval);\n      }\n    }\n\n    if (this.bookingDetails?.booking?.gracePeriod > 0) {\n      this.gracePeriodTime = this.calculateGracePeriodTime();\n    }\n\n    this.gracePeriodInterval = setInterval(() => {\n      if (this.bookingDetails?.zone?.timezone) {\n        this.gracePeriodTime = this.calculateGracePeriodTime();\n      }\n    }, 1000);\n    if (this.bookingDetails?.booking?.gracePeriod > 0) {\n      if (this.gracePeriodTime < 0) {\n        this.$store.commit(\"SET_GRACE_PERIOD_TIME_STATUS\", true);\n        clearInterval(this.gracePeriodInterval);\n      }\n    }\n    EventBus.$on(\"sms-qr-result\", (result) => {\n      this.onDecode(result);\n    });\n    EventBus.$on(\"validation-qr-result\", (result) => {\n      this.onValidateQRCode(result);\n    });\n\n    // if(this.bookingDetails?.zone?.isPedestrian=='1'){\n    //   this.pedestrianAccess=true\n    // }\n  },\n  destroyed() {\n    clearInterval(this.interval);\n    clearInterval(this.validatedInterval);\n    clearInterval(this.gracePeriodInterval);\n  },\n  beforeRouteEnter(to, from, next) {\n    next(async (vm) => {\n      if (\n        vm.bookingDetails?.booking?.exittime &&\n        vm.bookingDetails.booking.exittime != null &&\n        vm.bookingDetails.booking.exittime != \"\"\n      ) {\n        clearInterval(vm.interval);\n      }\n      if (vm.bookingDetails?.booking?.validated == \"0\") {\n        if (vm.validatedDateTime < 0) {\n          vm.$store.commit(\"SET_VALIDATED_TIME_STATUS\", true);\n          clearInterval(vm.validatedInterval);\n        }\n      }\n    });\n  },\n  methods: {\n    closeQRCodeDialog() {\n      this.qrCodeDialog = false;\n      this.cameraStatus = false;\n    },\n    closeValidationQRDialog() {\n      this.validationCameraStatus = false;\n      this.validateBookingDialog = true;\n      this.validateQRCodeDialog = false;\n    },\n    reScanQR() {\n      this.invalidQRDialog = false;\n      this.cameraStatus = true;\n    },\n    reScanValidationQR() {\n      this.invalidValidationQRDialog = false;\n      this.validationCameraStatus = true;\n    },\n    openSmsQrScanner() {\n      this.qrCodeDialog = true;\n      this.cameraStatus = true;\n    },\n    openSMSDialog() {\n      this.smsDialog = true;\n      let exitLanes =\n        this.exitGateCodes.length > 0\n          ? this.exitGateCodes.filter((a) => a.isPedestrian == \"0\")\n          : [];\n      if (\n        this.bookingDetails?.booking?.prePopulateGateCodes &&\n        this.bookingDetails.booking.prePopulateGateCodes == \"1\"\n      ) {\n        this.smsText = exitLanes.length == 1 ? exitLanes[0].sms_code : \"\";\n      }\n    },\n    scrollToSubmit() {\n      const el = document.querySelector(\"#submitsmsbtn\");\n      if (el) {\n        el.scrollIntoView(this.options);\n      }\n    },\n    scrollToValidateBtn() {\n      const el = document.querySelector(\"#validatebookingbtn\");\n      if (el) {\n        el.scrollIntoView(this.options);\n      }\n    },\n    calculateGracePeriodTime() {\n      var currentTime =\n        new Date().getTime() +\n        (Number(this.bookingDetails.zone.timezoneoffset) * 1000 +\n          Number(this.bookingDetails.zone.timezonedstoffset) * 1000);\n      var gracePeriodTime =\n        (Number(this.bookingDetails.booking.entrytime) +\n          Number(this.bookingDetails.booking.gracePeriod)) *\n        1000; //\n      this.$store.commit(\n        \"SET_GRACE_PERIOD_TIME_STATUS\",\n        this.gracePeriodTime <= 0\n      );\n      return gracePeriodTime - currentTime;\n    },\n    calculateValidatedTime() {\n      var currentTime =\n        new Date().getTime() +\n        (Number(this.bookingDetails.zone.timezoneoffset) * 1000 +\n          Number(this.bookingDetails.zone.timezonedstoffset) * 1000);\n      var validatedTime = this.bookingDetails.booking.type == \"13\" ?\n        (Number(this.bookingDetails.booking.revStart) +\n          Number(this.bookingDetails.booking.couponValidTime)) *\n        1000 : (Number(this.bookingDetails.booking.entrytime) +\n          Number(this.bookingDetails.booking.couponValidTime)) *\n        1000\n      this.$store.commit(\"SET_VALIDATED_TIME_STATUS\", this.validatedTime < 0);\n      validatedTime - currentTime < 0\n        ? clearInterval(this.validatedInterval)\n        : \"\";\n      return validatedTime - currentTime;\n    },\n    calculateParkingTime(parkingStartTime, gracePeriod, zone) {\n      var currentTime = new Date();\n      currentTime.toLocaleString(\"en-US\", { timeZone: zone });\n      var differenceTime =\n        gracePeriod > 0\n          ? currentTime.getTime() - parkingStartTime * 1000 // - gracePeriod * 1000 to exclude grace period\n          : currentTime.getTime() - parkingStartTime * 1000;\n      let parkedTime = this.secondsToHms(differenceTime / 1000);\n      return parkedTime;\n    },\n    secondsToHms(timeDifference) {\n      var d = Number(timeDifference);\n      // if (timeDifference >= 86400) {\n      //   var days = Math.floor(d / 86400);\n      //   var hrs = Math.floor((d % 86400) / 3600);\n      //   var dayDisplay =\n      //     days > 0 ? days + (days == 1 ? \" day \" : \" days \") : \"\";\n      //   var hrDisplay = hrs > 0 ? hrs + (hrs == 1 ? \" hr \" : \" hrs \") : \"\";\n      //   return dayDisplay + hrDisplay;\n      // }\n      var h = Math.floor(d / 3600);\n      var m = Math.floor((d % 3600) / 60);\n      // var s = Math.floor(d % 3600 % 60);\n      var hDisplay = h > 0 ? h + \" h \" : \"\";\n      var mDisplay = m > 0 ? m + (m == 1 ? \" min \" : \" min\") : \" 0 min\";\n      // var sDisplay = s > 0 ? s + (s == 1 ? \" second\" : \" seconds\") : \"\";\n      return hDisplay + mDisplay;\n    },\n    isCheckoutEnabled(type) {\n      if (Object.hasOwnProperty.call(this.bookingDetails, 'exitOptions') && this.bookingDetails.exitOptions.length != 0) {\n        let option = this.bookingDetails.exitOptions.some(\n          (t) => t.techType == type\n        );\n        return option;\n      }\n      return false;\n\n    },\n    async getBookingDetails() {\n      try {\n        let bookingId = window.location.pathname.substring(3);\n        var bookingDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/booking/config/\" + bookingId\n        );\n        this.$store.commit(\n          \"SET_BOOKING_DETAILS\",\n          bookingDetails.data?.data ? bookingDetails.data.data : null\n        );\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async getpedestrianAccess() {\n      try {\n        // let bookingId = window.location.pathname.substring(3);\n        var pedesAccess = await APIHelper(\n          \"POST\",\n          \"api/v1/open/\" + this.bookingId,\n          { source: \"webView\" }\n        );\n        // console.log(pedesAccess)\n        // console.log(pedesAccess?.data?.status)\n        if (pedesAccess?.data?.status) {\n          this.postToLoggerAPI({\n            phone: this.bookingDetails.user.contact,\n            refId: this.bookingId,\n            image: \"https://sppl-dev.divrt.co/img/pedestrain_door.042f0927.png\",\n            statusText: \"Parker accessed pedestrian door successfully.\",\n          });\n          this.$router.replace({ path: \"/pedestrianaccess\" });\n        } else {\n          this.pedestrianAccessText = pedesAccess.data.message;\n          this.postToLoggerAPI({\n            phone: this.bookingDetails.user.contact,\n            refId: this.bookingId,\n            error: this.pedestrianAccessText,\n            image: \"https://sppl-dev.divrt.co/img/pedestrain_door.042f0927.png\",\n            statusText: \"Error in opening the pedestrian door.\",\n          });\n          this.pedestrianAccessDialog = true;\n        }\n      } catch (error) {\n        console.log(error);\n      }\n      // this.$router.replace({ path: \"/pedestrianaccess/\"+true });\n    },\n    navigateToAddPayment() {\n      this.postToLoggerAPI({\n        phone: this.bookingDetails.user.contact,\n        refId: this.bookingId,\n        statusText: \"Parker clicked on ADD CREDIT CARD btn.\",\n      });\n      this.$router.replace({ path: \"/addpayment\" });\n    },\n    openValidationDialog() {\n      this.validateBookingDialog = true;\n    },\n    async openSMSApp() {\n      this.postToLoggerAPI({\n        phone: this.bookingDetails.user.contact,\n        refId: this.bookingId,\n        statusText: \"Parker clicked on SMS submit btn.\",\n      });\n      if (this.smsText == null || this.smsText == \"\") {\n        this.invalidSMSMsg = \"Gate code cannot be empty\";\n        this.invalidSMSDialog = true;\n      } else {\n        try {\n          this.smsPending = true;\n          var preValidateSendSMS = await APIHelper(\"POST\", \"/receive_sms\", {\n            bid: this.bookingId,\n            From: this.bookingDetails.user.contact,\n            Text: this.smsText,\n            To: this.bookingDetails.zone.ToMobileNo,\n            Mode: \"SMS\",\n            webView: \"1\",\n            preValidate: 1,\n          });\n          this.smsPending = false;\n          if (\n            preValidateSendSMS?.data?.status &&\n            preValidateSendSMS.data.status\n          ) {\n            this.smsDialog = false;\n            this.$router.replace({ path: \"/success\" });\n            try {\n              var sendSMS = await APIHelper(\"POST\", \"/receive_sms\", {\n                bid: this.bookingId,\n                From: this.bookingDetails.user.contact,\n                Text: this.smsText,\n                To: this.bookingDetails.zone.ToMobileNo,\n                Mode: \"SMS\",\n                webView: \"1\",\n              });\n              if (sendSMS?.data?.status && sendSMS.data.status) {\n                this.smsDialog = false;\n                this.postToLoggerAPI({\n                  phone: this.bookingDetails.user.contact,\n                  refId: this.bookingId,\n                  icon: \"logout\",\n                  statusText:\n                    \"Parker checked out successfully using SMS - \" +\n                    this.smsText,\n                });\n              } else {\n                this.invalidSMSMsg = sendSMS?.data?.message\n                  ? sendSMS.data.message\n                  : \"Please try again\";\n                this.invalidSMSDialog = true;\n                this.postToLoggerAPI({\n                  phone: this.bookingDetails.user.contact,\n                  refId: this.bookingId,\n                  error: this.invalidSMSMsg,\n                  icon: \"logout\",\n                  statusText:\n                    \"Error occured while checking out using SMS - \" +\n                    this.smsText,\n                });\n              }\n            } catch (error) {\n              console.log(error);\n            }\n          } else {\n            this.invalidSMSMsg = preValidateSendSMS?.data?.message\n              ? preValidateSendSMS.data.message\n              : \"Please try again\";\n            this.invalidSMSDialog = true;\n            this.postToLoggerAPI({\n              phone: this.bookingDetails.user.contact,\n              refId: this.bookingId,\n              error: this.invalidSMSMsg,\n              icon: \"logout\",\n              statusText:\n                \"Error occured while checking out using SMS - \" + this.smsText,\n            });\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    },\n    getMobileOperatingSystem() {\n      var userAgent = navigator.userAgent || navigator.vendor || window.opera;\n\n      // Windows Phone must come first because its UA also contains \"Android\"\n      if (/windows phone/i.test(userAgent)) {\n        return \"Windows Phone\";\n      }\n\n      if (/android/i.test(userAgent)) {\n        return \"Android\";\n      }\n\n      // iOS detection from: http://stackoverflow.com/a/9039885/177710\n      if (/iPad|iPhone|iPod/.test(userAgent) && !window.MSStream) {\n        return \"iOS\";\n      }\n      return \"unknown\";\n    },\n    getExitIcon(exitId) {\n      let exitDetails = this.bookingDetails.exitOptions.find(\n        (p) => p.techType == exitId\n      );\n      return exitDetails.icon;\n    },\n    getExitText(exitId) {\n      let exitDetails = this.bookingDetails.exitOptions.find(\n        (p) => p.techType == exitId\n      );\n      return exitDetails.name;\n    },\n    openDialerApp() {\n      this.postToLoggerAPI({\n        phone: this.bookingDetails.user.contact,\n        refId: this.bookingId,\n        statusText: \"Parker clicked on dialer submit btn.\",\n      });\n      this.dialerDialog = false;\n      var url = \"tel:\" + this.bookingDetails.zone.ToMobileNo;\n      window.location.href = url;\n      if (this.getMobileOperatingSystem() == \"Android\") {\n        window.close();\n      }\n    },\n    turnCameraOn() {\n      this.camera = \"auto\";\n    },\n\n    turnCameraOff() {\n      this.camera = \"off\";\n    },\n    validateDecodedString(str) {\n      let validateDivrtStr = str.startsWith(\"divrt://\");\n      let validateMMID = str.split(\"/\")[2] == this.bookingDetails.booking.mmid;\n      let validateMajorId =\n        str.split(\"/\")[3] == this.bookingDetails.booking.majorid;\n      let validateMinorId = this.bookingDetails.booking.minor_ids.includes(\n        str.split(\"/\")[4]\n      );\n      return (\n        validateDivrtStr && validateMMID && validateMajorId && validateMinorId\n      );\n    },\n    async onDecode(decodedString) {\n      var self = this;\n      this.qrCode = decodedString;\n      this.cameraStatus = false;\n      try {\n        var preValidateQrResult = await APIHelper(\n          \"POST\",\n          \"/api/v1/checkout/\" + this.bookingId,\n          {\n            beaconId: decodedString,\n            preValidate: 1,\n            zid: this.bookingDetails.zone.locationCode\n          }\n        );\n        if (preValidateQrResult.data.status) {\n          try {\n            self.$router.replace({ path: \"/success\" });\n            var qrResult = await APIHelper(\n              \"POST\",\n              \"/api/v1/checkout/\" + this.bookingId,\n              {\n                beaconId: decodedString,\n                zid: this.bookingDetails.zone.locationCode\n              }\n            );\n            if (qrResult.data.status) {\n              this.postToLoggerAPI({\n                phone: self.bookingDetails.user.contact,\n                refId: self.bookingId,\n                icon: \"logout\",\n                statusText:\n                  \"Parker successfully checked out using QR - \" + decodedString,\n              });\n              this.$store.commit(\"SET_CHECKOUT\", true);\n            } else {\n              this.invalidQRMsg = qrResult?.data?.message\n                ? qrResult.data.message\n                : \"Please try again\";\n              this.invalidQRDialog = true;\n              this.postToLoggerAPI({\n                phone: self.bookingDetails.user.contact,\n                refId: self.bookingId,\n                error: self.invalidQRMsg,\n                icon: \"logout\",\n                statusText:\n                  \"Error Occured while checking out using QR - \" +\n                  decodedString,\n              });\n            }\n          } catch (error) {\n            console.log(error);\n          }\n        } else {\n          this.invalidQRMsg = preValidateQrResult?.data?.message\n            ? preValidateQrResult.data.message\n            : \"Please try again\";\n          this.invalidQRDialog = true;\n          this.postToLoggerAPI({\n            phone: self.bookingDetails.user.contact,\n            refId: self.bookingId,\n            icon: \"logout\",\n            error: self.invalidQRMsg,\n            statusText:\n              \"Error Occured while checking out using QR - \" + decodedString,\n          });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async onInit(promise) {\n      try {\n        await promise;\n      } catch (error) {\n        if (error.name === \"NotAllowedError\") {\n          this.invalidQRMsg = \"Please grant camera access permisson\";\n        } else if (error.name === \"NotFoundError\") {\n          this.invalidQRMsg = \"No camera found on this device\";\n        } else if (error.name === \"NotSupportedError\") {\n          this.invalidQRMsg = \"Secure context required (HTTPS, localhost)\";\n        } else if (error.name === \"NotReadableError\") {\n          this.invalidQRMsg = \"Is the camera already in use? Please check.\";\n        } else if (error.name === \"OverconstrainedError\") {\n          this.invalidQRMsg = \"Installed camera is not suitable\";\n        } else if (error.name === \"StreamApiNotSupportedError\") {\n          this.invalidQRMsg = \"Stream API is not supported in this browser\";\n        }\n        this.invalidQRDialog = true;\n      }\n    },\n    async onValidateText() {\n      this.validateBookingPending = true;\n      let result = await this.validateBooking(this.validateBookingTxt);\n      if (!result.data.status) {\n        this.invalidSMSMsg = result?.data?.message\n          ? result.data.message\n          : \"Validation not recognized. Please try again\";\n        this.invalidSMSDialog = true;\n        this.validateBookingPending = false;\n        this.postToLoggerAPI({\n          phone: this.bookingDetails.user.contact,\n          refId: this.bookingId,\n          error: this.invalidSMSMsg,\n          icon: \"redeem\",\n          statusText:\n            \"Error in validating the session on entering validation code - \" +\n            this.validateBookingTxt,\n        });\n      } else {\n        this.postToLoggerAPI({\n          phone: this.bookingDetails.user.contact,\n          refId: this.bookingId,\n          icon: \"redeem\",\n          statusText:\n            \"Parker validated the session successfully by entering validation code - \" +\n            this.validateBookingTxt,\n        });\n        this.validateBookingPending = false;\n        this.validateBookingDialog = false;\n        this.$store.commit(\n          \"SET_VALIDATED_MERCHANT\",\n          result?.data?.merchantName\n        );\n        this.$router.replace({ path: \"/validatesuccess\" });\n      }\n    },\n    async validateBooking(code) {\n      try {\n        let validateResult = await APIHelper(\n          \"POST\",\n          \"/api/v1/validate/\" + this.bookingId,\n          {\n            coupon: code,\n            zid: this.bookingDetails.zone.locationCode\n          }\n        );\n        return validateResult;\n      } catch (error) {\n        console.log(error);\n        return error;\n      }\n    },\n    async openScanValidationCode() {\n      this.validateBookingDialog = false;\n      this.validateBookingTxt = \"\";\n      this.validateQRCodeDialog = true;\n      this.validationCameraStatus = true;\n    },\n    async onValidateQRCode(decodedString) {\n      this.validationCameraStatus = false;\n      this.validateQRCodePending = true;\n      try {\n        let result = await this.validateBooking(decodedString);\n        if (!result.data.status) {\n          this.invalidValidationQRMsg = result?.data?.message\n            ? result.data.message\n            : \"Validation not recognized. Please try again\";\n          this.invalidValidationQRDialog = true;\n          this.validateQRCodePending = false;\n          this.postToLoggerAPI({\n            phone: this.bookingDetails.user.contact,\n            refId: this.bookingId,\n            error: this.invalidQRMsg,\n            icon: \"redeem\",\n            statusText:\n              \"Error in validating the session on scanning validation QR - \" +\n              decodedString,\n          });\n        } else {\n          this.postToLoggerAPI({\n            phone: this.bookingDetails.user.contact,\n            refId: this.bookingId,\n            icon: \"redeem\",\n            statusText:\n              \"Parker validated the session successfully by scanning validation QR - \" +\n              decodedString,\n          });\n          this.validateQRCodePending = false;\n          this.validateQRCodeDialog = false;\n          this.$store.commit(\n            \"SET_VALIDATED_MERCHANT\",\n            result?.data?.merchantName\n          );\n          this.$router.replace({ path: \"/validatesuccess\" });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n  },\n};\n</script>\n<style lang=\"less\">\n.booking_header {\n  position: absolute;\n  bottom: 72px;\n  left: 16px;\n  font-size: 18px;\n  font-weight: bolder;\n}\n\n.time_ago {\n  font-size: 22px;\n  font-weight: 600;\n  line-height: 2.5rem;\n  letter-spacing: 0.0073529412em !important;\n}\n\n.time_ago_context {\n  font-size: 16px;\n  font-weight: 500;\n}\n\n.validated_time {\n  font-size: 13px;\n  font-weight: 500;\n}\n\n.booking_divider {\n  border-color: white !important;\n  margin-top: 12px;\n}\n\n.booking_divider_div {\n  position: absolute;\n  bottom: 60px;\n  width: 100%;\n}\n\n.booking_content {\n  position: absolute !important;\n  bottom: 18px !important;\n  left: 16px !important;\n  font-size: 13px !important;\n  font-weight: normal !important;\n}\n\n.add_credit_card_btn {\n  width: 100%;\n  background-color: #f2555c !important;\n  font-size: 18px !important;\n  font-weight: 700 !important;\n  letter-spacing: normal !important;\n  height: 50px !important;\n}\n\n.validation-pending {\n  position: absolute !important;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translateX(-50%);\n  transform: translateX(-50%);\n}\n\n.qr_text {\n  font-size: 13px;\n}\n\n.exit_dialog_btn {\n  width: 100%;\n  background-color: #f2555c !important;\n  font-size: 18px !important;\n  font-weight: 700 !important;\n  letter-spacing: normal !important;\n  height: 50px !important;\n}\n\n.sms-input input {\n  font-size: 36px;\n  font-weight: 500;\n  color: #44515a !important;\n}\n\n.v-text-field--enclosed .v-input__append-inner {\n  margin-top: 26px !important;\n}\n\n.exit-option-text {\n  font-size: 14px;\n}\n\n.sms-caption {\n  font-size: 0.75rem !important;\n  font-weight: 400;\n  line-height: 1.25rem;\n  letter-spacing: 0.0333333333em !important;\n}\n\n.qrcode-stream-wrapper video {\n  max-height: 300px;\n}\n\n.counter-content-position {\n  position: relative;\n}\n\n.grace-period-image {\n  position: absolute !important;\n  right: -51px;\n  bottom: 5px;\n}\n\n.fabIcon {\n  animation: pulse 2s infinite;\n  box-shadow: 0 0 0 0 rgba(0, 0, 0, 1);\n  transform: scale(1);\n\n  @keyframes pulse {\n    0% {\n      transform: scale(0.95);\n      box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.7);\n    }\n\n    70% {\n      transform: scale(1);\n      box-shadow: 0 0 0 10px rgba(0, 0, 0, 0);\n    }\n\n    100% {\n      transform: scale(0.95);\n      box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);\n    }\n  }\n}\n\n#qr-code-full-region__dashboard {\n  display: none;\n}\n\n#qr-code-full-region>video {\n  width: 100% !important;\n}\n\n#validation-qr-code>video {\n  width: 100% !important;\n}\n\n#qr-code-full-region img {\n  display: none;\n}\n\n.no-upper-case {\n  text-transform: unset !important;\n}\n</style>"]}]}