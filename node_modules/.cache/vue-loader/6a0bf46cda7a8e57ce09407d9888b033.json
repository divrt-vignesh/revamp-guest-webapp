{"remainingRequest":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/guest-webapp/src/views/odExtension.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vignesh/DIVRT/guest-webapp/src/views/odExtension.vue","mtime":1681203506592},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwovLyBpbXBvcnQgeyBhZGRNaW51dGVzIH0gZnJvbSAnZGF0ZS1mbnMnOwppbXBvcnQgeyBFdmVudEJ1cyB9IGZyb20gIkAvbGliL0V2ZW50QnVzIjsKaW1wb3J0IENhbGVuZGFyIGZyb20gJy4uL3VpQ29tcG9uZW50cy9DYWxlbmRhci9DYWxlbmRhcic7CmltcG9ydCBBUElIZWxwZXIgZnJvbSAiLi4vYXBpSGVscGVyIjsKLy8gaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsKaW1wb3J0ICJwcmltZXZ1ZS9yZXNvdXJjZXMvdGhlbWVzL3NhZ2EtYmx1ZS90aGVtZS5jc3MiICAgICAgIC8vdGhlbWUKaW1wb3J0ICJwcmltZXZ1ZS9yZXNvdXJjZXMvcHJpbWV2dWUubWluLmNzcyIgICAgICAgICAgICAgICAgIC8vY29yZSBjc3MKaW1wb3J0ICJwcmltZWljb25zL3ByaW1laWNvbnMuY3NzIiAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vaWNvbnMKLy8gaW1wb3J0IFFyQ29kZVNjYW5uZXIgZnJvbSAiQC92aWV3cy9RckNvZGVTY2FubmVyLnZ1ZSI7CmltcG9ydCB7IGZvcm1hdCwgaXNWYWxpZCB9IGZyb20gImRhdGUtZm5zIjsKaW1wb3J0IHsgZGF0ZVRvVGltZVpvbmVEYXRlIH0gZnJvbSAiQC91dGlscy9mb3JtYXREYXRlVGltZSI7CmltcG9ydCB7IHNlY29uZHNUb0htcyB9IGZyb20gIkAvdXRpbHMvZm9ybWF0RGF0ZVRpbWUiOwovLyBpbXBvcnQge2Zvcm1hdERhdGVUaW1lfSBmcm9tICJAL3V0aWxzL2Zvcm1hdERhdGVUaW1lIjsKaW1wb3J0IFZhbGlkYXRpb25RckNvZGVTY2FubmVyIGZyb20gIkAvdmlld3MvVmFsaWRhdGlvblFyQ29kZVNjYW5uZXIudnVlIjsKLy8gaW1wb3J0IFZ1ZVRpbWVQaWNrZXIgZnJvbSAnQC91aUNvbXBvbmVudHMvVnVlVGltZVBpY2tlcic7CmltcG9ydCBydWxlcyBmcm9tICJAL3V0aWxzL3J1bGVzIjsKaW1wb3J0IG1vbWVudCBmcm9tICJtb21lbnQiOwpWdWUudXNlKG1vbWVudCk7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiAoKSA9PiAoewogICAgYWxlcnREaWFsb2c6IGZhbHNlLAogICAgb3BlblRpbWVQaWNrZXI6IGZhbHNlLAogICAgb3BlbkRhdGVQaWNrZXI6IGZhbHNlLAogICAgbWluVGltZURhdGU6IG51bGwsCiAgICBtYXhUaW1lRGF0ZTogbnVsbCwKICAgIGxvYWRpbmc6IGZhbHNlLAogICAgYWxlcnRNc2c6ICIiLAogICAgZXh0ZW5kQnRuTG9hZGluZzogZmFsc2UsCiAgICBnZXRSYXRlQ2FsbDogZmFsc2UsCiAgICB3aW5kb3dIZWlnaHQ6IHdpbmRvdy5pbm5lckhlaWdodCAtIDM1MCwKICAgIGVzdGltYXRlOiBudWxsLAogICAgc3RvcFRpbWU6ICIiLAogICAgZXhpdFRpbWVTZWxlY3RlZDogbnVsbCwKICAgIHRpbWVQaWNrZXJIclJhbmdlOiBudWxsLAogICAgdGltZVBpY2tlck1pblJhbmdlOiBudWxsLAogICAgbWluRGF0ZTogbnVsbCwKICAgIG1heERhdGU6IG51bGwsCiAgICBtYXhEYXRlVGltZTogbnVsbCwKICAgIERhdGVtZW51OiBmYWxzZSwKICAgIGV4aXREYXRlOiBudWxsLAogICAgZGF0ZUZvcm1hdHRlZDogbnVsbCwKICAgIHZhbGlkYXRlQm9va2luZ1R4dDogJycsCiAgICB2YWxpZGF0ZUJvb2tpbmdEaWFsb2c6IGZhbHNlLAogICAgdmFsaWRhdGVCb29raW5nUGVuZGluZzogZmFsc2UsCiAgICB2YWxpZGF0ZVFSQ29kZVBlbmRpbmc6IGZhbHNlLAogICAgdmFsaWRhdGVRUkNvZGVEaWFsb2c6IGZhbHNlLAogICAgY2FtZXJhOiAiYXV0byIsCiAgICBpbnZhbGlkUVJNc2c6ICIiLAogICAgaW52YWxpZFZhbGlkYXRpb25RUk1zZzogIiIsCiAgICBpbnZhbGlkVmFsaWRhdGlvblFSRGlhbG9nOiBmYWxzZSwKICAgIGludmFsaWRTTVNNc2c6ICIiLAogICAgY2FtZXJhU3RhdHVzOiBmYWxzZSwKICAgIHZhbGlkYXRpb25DYW1lcmFTdGF0dXM6IGZhbHNlLAogICAgdGltZTogJycsCiAgICBUaW1lbWVudTogZmFsc2UsCiAgICBydWxlczogcnVsZXMsCiAgICBsaWNlbmNlUGxhdGU6ICcnLAogICAgZXh0ZW5zaW9uRGlhbG9nOiBmYWxzZSwKICAgIGV4aXREYXRlVGltZTogMAogIH0pLAogIGNvbXBvbmVudHM6IHsKICAgIFZhbGlkYXRpb25RckNvZGVTY2FubmVyLCBDYWxlbmRhcgogIH0sCiAgYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgbmV4dCgodm0pID0+IHsKICAgICAgbGV0IHNlYXJjaFBhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoIj0iKTsKICAgICAgbGV0IHNlYXJjaFBhcmFtS2V5ID0gc2VhcmNoUGFyYW1zLmxlbmd0aCA+IDAgPyBzZWFyY2hQYXJhbXNbMF0gOiAiIjsKICAgICAgbGV0IHNlYXJjaFBhcmFtVmFsdWUgPSBzZWFyY2hQYXJhbXMubGVuZ3RoID4gMCA/IHNlYXJjaFBhcmFtc1sxXSA6ICIiOwogICAgICBzd2l0Y2ggKHNlYXJjaFBhcmFtS2V5KSB7CiAgICAgICAgY2FzZSAiP3pjb2RlIjoKICAgICAgICAgIHZtLmdldFpvbmVEZXRhaWxzKHNlYXJjaFBhcmFtS2V5LCBzZWFyY2hQYXJhbVZhbHVlKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIj9nYXRlaWQiOgogICAgICAgICAgLy9hd2FpdCBzZWxmLmdldFpvbmVEZXRhaWxzKHNlYXJjaFBhcmFtS2V5LCBzZWFyY2hQYXJhbVZhbHVlKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKICAgIHJvdW5kKHRpbWUpIHsKICAgICAgbGV0IGV4aXRkYXRlID0gdGltZSAhPT0gbnVsbCAmJiB0aW1lICE9PSAnJyA/IGZvcm1hdCh0aW1lLCAneXl5eS9NTS9kZCcpIDogbmV3IERhdGUoKTsKICAgICAgbGV0IHNlbGVjdGVkTWlucyA9IHRpbWUgIT09IG51bGwgJiYgdGltZSAhPT0gJycgPyBmb3JtYXQodGltZSwgJ21tJykgOiBuZXcgRGF0ZSgpOwogICAgICBsZXQgc2VsZWN0ZWRIb3VycyA9IHRpbWUgIT09IG51bGwgJiYgdGltZSAhPT0gJycgPyBmb3JtYXQodGltZSwgJ2hoJykgOiBuZXcgRGF0ZSgpOwogICAgICBsZXQgc2VsZWN0ZWRBTVBNID0gdGltZSAhPT0gbnVsbCAmJiB0aW1lICE9PSAnJyA/IGZvcm1hdCh0aW1lLCAnYScpIDogbmV3IERhdGUoKTsKICAgICAgaWYgKGV4aXRkYXRlICE9IG51bGwgJiYgc2VsZWN0ZWRNaW5zICE9ICcxNScgJiYgc2VsZWN0ZWRNaW5zICE9ICczMCcgJiYgc2VsZWN0ZWRNaW5zICE9ICc0NScgJiYgc2VsZWN0ZWRNaW5zICE9ICcwMCcgJiYgc2VsZWN0ZWRNaW5zICE9IG51bGwgJiYgc2VsZWN0ZWRNaW5zICE9ICIiICYmIHNlbGVjdGVkSG91cnMgIT0gbnVsbCAmJiBzZWxlY3RlZEhvdXJzICE9ICIiICYmIHNlbGVjdGVkQU1QTSAhPSBudWxsICYmIHNlbGVjdGVkQU1QTSAhPSAiIikgewogICAgICAgIGxldCBpbnRlcnZhbE1pbGxpc2Vjb25kcyA9IDkwMDAwMAogICAgICAgIGxldCBkYXRldGltZSA9IG5ldyBEYXRlKGV4aXRkYXRlICsgIiAiICsgc2VsZWN0ZWRIb3VycyArICI6IiArIHNlbGVjdGVkTWlucyArICIgIiArIHNlbGVjdGVkQU1QTSkKICAgICAgICBsZXQgaW50ZXJ2YWwgPSBkYXRldGltZS5nZXRUaW1lKCkgJSBpbnRlcnZhbE1pbGxpc2Vjb25kczsKICAgICAgICBsZXQgZGVsdGEgPSBpbnRlcnZhbCA9PT0gMCA/IDAgOiBkYXRldGltZS5nZXRUaW1lKCkgLSBpbnRlcnZhbDsKICAgICAgICBkZWx0YSArPSBpbnRlcnZhbE1pbGxpc2Vjb25kczsKICAgICAgICAvLyB0aGlzLmV4aXRUaW1lU2VsZWN0ZWQgPSBPYmplY3QuYXNzaWduKHRoaXMuZXhpdFRpbWVTZWxlY3RlZCwgeyBoaDogZm9ybWF0KG5ldyBEYXRlKGRlbHRhKSwgJ2hoJyksIG1tOiBmb3JtYXQobmV3IERhdGUoZGVsdGEpLCAnbW0nKSwgYTogZm9ybWF0KG5ldyBEYXRlKGRlbHRhKSwgJ2EnKSwgfSkKICAgICAgICByZXR1cm4gbmV3IERhdGUoZGVsdGEpCiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBleHRlbmRTZXNzaW9uKCkgewogICAgICB0cnkgewogICAgICAgIC8vZm9ybWF0KG5ldyBEYXRlKHRoaXMuY2hlY2tpbkRhdGUpLCAieXl5eS1NTS1kZCdUJ0hIOm1tOnNzIik7CiAgICAgICAgdGhpcy5leHRlbmRCdG5Mb2FkaW5nID0gdHJ1ZTsKICAgICAgICBsZXQgZXhpdERhdGVUaW1lID0gdGhpcy50aW1lICE9IG51bGwgfHwgdGhpcy50aW1lICE9PSB1bmRlZmluZWQgfHwgdGhpcy50aW1lICE9ICIiID8KICAgICAgICAgIGZvcm1hdCh0aGlzLnRpbWUsICd5eXl5L01NL2RkJykKICAgICAgICAgICsKICAgICAgICAgICIgIiArCiAgICAgICAgICBmb3JtYXQodGhpcy50aW1lLCAnaGg6bW0gYScpIDogIiIKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgIGJpZDogdGhpcy5ib29raW5nRGV0YWlscz8uYm9va2luZz8uYmlkLAogICAgICAgICAgZXh0ZW5kZWRUaW1lOiBmb3JtYXQobmV3IERhdGUoZXhpdERhdGVUaW1lKSwgInl5eXktTU0tZGQgSEg6bW06c3MiKS8vIjIwMjItMTItMjlUMDI6MjY6MDAuMDAwIiwKICAgICAgICB9OwogICAgICAgIHZhciBleHRlbmRTZXNzaW9uUmVzID0gYXdhaXQgQVBJSGVscGVyKAogICAgICAgICAgIlBPU1QiLAogICAgICAgICAgIi9hcGkvdjEvcHJlcGFpZC9leHRlbmRSZXNlcnZhdGlvbiIsIGRhdGEKICAgICAgICApOwogICAgICAgIGlmIChleHRlbmRTZXNzaW9uUmVzPy5kYXRhPy5tZXNzYWdlID09ICJTdWNjZXNzZnVsbHkgdXBkYXRlZCEhIikgewogICAgICAgICAgYXdhaXQgdGhpcy5nZXRCb29raW5nRGV0YWlscygpOwogICAgICAgICAgdGhpcy5leHRlbmRCdG5Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB0aGlzLmV4dGVuc2lvbkRpYWxvZyA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmFsZXJ0RGlhbG9nID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuYWxlcnRNc2cgPSBleHRlbmRTZXNzaW9uUmVzPy5kYXRhPy5tZXNzYWdlIHx8ICJFcnJvciBpbiBleHRlbmRpbmcgdGhlIHNlc3Npb24iCiAgICAgICAgfQoKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLmV4dGVuZEJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBnZXRCb29raW5nRGV0YWlscygpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgYm9va2luZ0RldGFpbHMgPSBhd2FpdCBBUElIZWxwZXIoCiAgICAgICAgICAiR0VUIiwKICAgICAgICAgICIvYXBpL3YxL2Jvb2tpbmcvY29uZmlnLyIgKyB0aGlzLmJvb2tpbmdJZAogICAgICAgICk7CiAgICAgICAgLy8gYm9va2luZ0RldGFpbHMuZGF0YS5zZXJ2ZXJOYW1lID09ICdkZXYnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPSJ0aGVtZS1jb2xvciJdJykuc2V0QXR0cmlidXRlKCJjb250ZW50IiwgIiM0M0EwNDciKSA6ICIiOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgKICAgICAgICAgICJTRVRfQk9PS0lOR19ERVRBSUxTIiwKICAgICAgICAgIGJvb2tpbmdEZXRhaWxzLmRhdGE/LmRhdGEgPyBib29raW5nRGV0YWlscy5kYXRhLmRhdGEgOiBudWxsCiAgICAgICAgKTsKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBkYXRlVGltZUNoYW5nZSgpIHsKICAgICAgdHJ5IHsKICAgICAgICAvL2Zvcm1hdChuZXcgRGF0ZSh0aGlzLmNoZWNraW5EYXRlKSwgInl5eXktTU0tZGQnVCdISDptbTpzcyIpOyAgICAgIGNvbnNvbGUubG9nKCkKICAgICAgICBpZiAodGhpcy5zdG9wVGltZSAhPSBudWxsICYmIHRoaXMuc3RvcFRpbWUgIT0gIiIpIHsKICAgICAgICAgIHRoaXMuZXh0ZW5kQnRuTG9hZGluZyA9IHRydWU7CiAgICAgICAgICB0aGlzLnN0YXJ0RGF0ZSA9IHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmVudHJ5dGltZQogICAgICAgICAgICA/IGZvcm1hdChuZXcgRGF0ZSh0aGlzLmZvcm1hdEV4aXREYXRlVGltZSh0aGlzLmJvb2tpbmdEZXRhaWxzPy5ib29raW5nPy5lbnRyeXRpbWUsJ2RhdGUnKSksInl5eXktTU0tZGQnVCdISDptbTpzcyIpCiAgICAgICAgICAgIDogZm9ybWF0KG5ldyBEYXRlKCksICJ5eXl5LU1NLWRkJ1QnSEg6bW06c3MiKTsKICAgICAgICAgIGxldCBzdG9wVGltZSA9IHRoaXMuc3RvcFRpbWU7IC8vPy5oaCsiOiIrdGhpcy5leGl0VGltZVNlbGVjdGVkLm1tKyI6MDAiLy9mb3JtYXQodGhpcy5jaGVja291dERhdGUsICJ5eXl5LU1NLWRkJ1QnSEg6bW06c3MiKTsKICAgICAgICAgIGxldCBleGl0ZGF0ZSA9IHRoaXMudGltZSAhPT0gbnVsbCAmJiB0aGlzLnRpbWUgIT09ICIiICYmIHRoaXMudGltZSAhPT0gdW5kZWZpbmVkID8gZm9ybWF0KHRoaXMudGltZSwgJ3l5eXktTU0tZGQnKSA6ICIiOwogICAgICAgICAgbGV0IHN0b3BEYXRlID0gZXhpdGRhdGUgKyAiVCIgKyBzdG9wVGltZTsKICAgICAgICAgIGxldCBkYXRhID0gewogICAgICAgICAgICBzdGFydEF0OiB0aGlzLnN0YXJ0RGF0ZSwKICAgICAgICAgICAgc3RvcEF0OiBzdG9wRGF0ZSwKICAgICAgICAgICAgemNvZGU6IHRoaXMuYm9va2luZ0RldGFpbHM/LnpvbmU/LmxvY2F0aW9uQ29kZSwKICAgICAgICAgICAgYmlkOiB0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcuYmlkCiAgICAgICAgICB9OwogICAgICAgICAgdmFyIGdldFJhdGUgPSBhd2FpdCBBUElIZWxwZXIoCiAgICAgICAgICAgICJQT1NUIiwKICAgICAgICAgICAgIi9hcGkvdjIvZ2V0UmF0ZSIsIGRhdGEKICAgICAgICAgICk7CiAgICAgICAgICBpZiAoZ2V0UmF0ZT8uZGF0YT8uc3RhdHVzID09IGZhbHNlKSB7CiAgICAgICAgICAgIHRoaXMuYWxlcnREaWFsb2cgPSB0cnVlOwogICAgICAgICAgICB0aGlzLmFsZXJ0TXNnID0gZ2V0UmF0ZT8uZGF0YT8ubWVzc2FnZSB8fCAiRXJyb3IgaW4gZ2V0dGluZyByYXRlIGRldGFpbHMiOwogICAgICAgICAgICBFdmVudEJ1cy4kZW1pdCgnZGF0ZXRpbWUtc2V0Jyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmVzdGltYXRlID0gT2JqZWN0LmFzc2lnbih7fSwgZ2V0UmF0ZT8uZGF0YT8uZGF0YSk7CiAgICAgICAgICAgIEV2ZW50QnVzLiRlbWl0KCdkYXRldGltZS1zZXQnKTsKICAgICAgICAgICAgdGhpcy5vcGVuRGF0ZVBpY2tlciA9IGZhbHNlOwogICAgICAgICAgICB0aGlzLm9wZW5UaW1lUGlja2VyID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLmV4dGVuZEJ0bkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy5leHRlbmRCdG5Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgYXN5bmMgb3BlbkV4dERpYWxvZygpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICB2YXIgem9uZURldGFpbHMgPSBhd2FpdCBBUElIZWxwZXIoCiAgICAgICAgIkdFVCIsCiAgICAgICAgIi9hcGkvdjEvZ2V0T25EZW1hbmQvIiArIHRoaXMuYm9va2luZ0RldGFpbHM/LnpvbmU/LmxvY2F0aW9uQ29kZSwKICAgICAgKTsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgdGhpcy5leHRlbnNpb25EaWFsb2cgPSB0cnVlOwogICAgICAvLyBhd2FpdCBheGlvcy5nZXQoCiAgICAgIC8vICAgcHJvY2Vzcy5lbnYuVlVFX0FQUF9PTl9ERU1BTkRfVVJMICsgIi8iICsgIjMyODk5IisgIi5qc29uIgogICAgICAvLyApOwogICAgICB0aGlzLiRzdG9yZS5jb21taXQoIlNFVF9PTl9ERU1BTkRfWk9ORV9ERVRBSUxTIiwgem9uZURldGFpbHMuZGF0YT8ubG90KTsKICAgICAgdGhpcy5zZXREZWZhdWx0RGF0ZSgpOwogICAgICB0aGlzLnNldERhdGVQaWNrZXIoKQogICAgICAvLyB0aGlzLnNldFRpbWVQaWNrZXIoKTsKICAgICAgdGhpcy5leHRlbmRCdG5Mb2FkaW5nID0gZmFsc2U7CiAgICB9LAoKICAgIHNldERlZmF1bHREYXRlKCkgewogICAgICAvL3RoZSBleGl0IGRhdGUgdmFsdWUgZm9yIHRoZSBleHRlbmRlZCB0aW1lCiAgICAgIHRoaXMuZXhpdERhdGUgPSB0aGlzLmJvb2tpbmdEZXRhaWxzPy5ib29raW5nPy5leGl0dGltZSA/IHRoaXMuZm9ybWF0VVRDRGVmYXVsdERhdGUodGhpcy5ib29raW5nRGV0YWlscz8uYm9va2luZz8uZXhpdHRpbWUKICAgICAgICAsICdleGl0JykgOiAiIjsKICAgICAgLy9mb3JtYXR0ZWQgZXhpdCBkYXRlIHZhbHVlIHRvIGRpc3BsYXkKICAgICAgdGhpcy5kYXRlRm9ybWF0dGVkID0KICAgICAgICB0aGlzLmJvb2tpbmdEZXRhaWxzPy5ib29raW5nPy5leGl0dGltZSA/IHRoaXMuZm9ybWF0VVRDRGVmYXVsdERhdGUodGhpcy5ib29raW5nRGV0YWlscz8uYm9va2luZz8uZXhpdHRpbWUKICAgICAgICAgICwgJ2Zvcm1hdCcpIDogIiI7CiAgICAgIHRoaXMudGltZSA9IG5ldyBEYXRlKHRoaXMuZm9ybWF0RXhpdERhdGVUaW1lKHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmV4aXR0aW1lLCAnZGF0ZScpKQoKICAgIH0sCiAgICBvblRpbWVQaWNrZXJDaGFuZ2UoKSB7CiAgICAgIGxldCBleGl0ZGF0ZSA9IHRoaXMudGltZSAhPT0gbnVsbCAmJiB0aGlzLnRpbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRpbWUgIT09ICIiID8gZm9ybWF0KHRoaXMudGltZSwgJ3l5eXkvTU0vZGQnKSA6ICIiOwogICAgICBsZXQgc2VsZWN0ZWRNaW5zID0gdGhpcy50aW1lICE9PSBudWxsICYmIHRoaXMudGltZSAhPT0gdW5kZWZpbmVkICYmIHRoaXMudGltZSAhPT0gIiIgPyBmb3JtYXQodGhpcy50aW1lLCAnbW0nKSA6ICIiOwogICAgICBsZXQgc2VsZWN0ZWRIb3VycyA9IHRoaXMudGltZSAhPT0gbnVsbCAmJiB0aGlzLnRpbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRpbWUgIT09ICIiID8gZm9ybWF0KHRoaXMudGltZSwgJ2hoJykgOiAiIjsKICAgICAgbGV0IHNlbGVjdGVkQU1QTSA9IHRoaXMudGltZSAhPT0gbnVsbCAmJiB0aGlzLnRpbWUgIT09IHVuZGVmaW5lZCAmJiB0aGlzLnRpbWUgIT09ICIiID8gZm9ybWF0KHRoaXMudGltZSwgJ2EnKSA6ICIiOwogICAgICBpZiAoc2VsZWN0ZWRBTVBNID09ICJQTSIgJiYgTnVtYmVyKHNlbGVjdGVkSG91cnMpIDwgMTIpIHsKICAgICAgICBzZWxlY3RlZEhvdXJzID0gKE51bWJlcihzZWxlY3RlZEhvdXJzKSArIDEyKS50b1N0cmluZygpOwogICAgICAgIHNlbGVjdGVkSG91cnMgPSBzZWxlY3RlZEhvdXJzID09PSAnMCcgPyBzZWxlY3RlZEhvdXJzID0gJzAwJyA6IHNlbGVjdGVkSG91cnM7CgogICAgICB9CiAgICAgIGlmIChzZWxlY3RlZEFNUE0gPT0gIkFNIiAmJiBOdW1iZXIoc2VsZWN0ZWRIb3VycykgPT0gMTIpIHsKICAgICAgICBzZWxlY3RlZEhvdXJzID0gKE51bWJlcihzZWxlY3RlZEhvdXJzKSAtIDEyKS50b1N0cmluZygpCiAgICAgICAgc2VsZWN0ZWRIb3VycyA9IHNlbGVjdGVkSG91cnMgPT09ICcwJyA/IHNlbGVjdGVkSG91cnMgPSAnMDAnIDogc2VsZWN0ZWRIb3VyczsKICAgICAgfQogICAgICB0aGlzLnN0b3BUaW1lID0gc2VsZWN0ZWRNaW5zICE9IG51bGwgJiYgc2VsZWN0ZWRNaW5zICE9ICIiICYmIHNlbGVjdGVkSG91cnMgIT0gbnVsbCAmJiBzZWxlY3RlZEhvdXJzICE9ICIiICYmIHNlbGVjdGVkQU1QTSAhPSBudWxsICYmIHNlbGVjdGVkQU1QTSAhPSAiIiA/IHNlbGVjdGVkSG91cnMgKyAiOiIgKyBzZWxlY3RlZE1pbnMgKyAiOiIgKyAiMDAiIDogIiI7CiAgICAgIGxldCBjdXJyZW5UaW1lID0gdGhpcy5ib29raW5nRGV0YWlscy56b25lLnRpbWV6b25lCiAgICAgICAgPyBmb3JtYXQoCiAgICAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUobmV3IERhdGUoKSwgdGhpcy5ib29raW5nRGV0YWlscy56b25lLnRpbWV6b25lKSwKICAgICAgICAgICJ5eXl5LU1NLWRkIEhIOm1tOnNzIgogICAgICAgICkKICAgICAgICA6IGZvcm1hdChuZXcgRGF0ZSgpLCAieXl5eS1NTS1kZCAgSEg6bW06c3MiKTsKICAgICAgLy8gbGV0IGN1cnJlbnREYXRlID0gdGhpcy5ib29raW5nRGV0YWlscy56b25lLnRpbWV6b25lCiAgICAgIC8vICAgPyBmb3JtYXQoCiAgICAgIC8vICAgICBkYXRlVG9UaW1lWm9uZURhdGUobmV3IERhdGUoKSwgdGhpcy5ib29raW5nRGV0YWlscy56b25lLnRpbWV6b25lKSwKICAgICAgLy8gICAgICJ5eXl5LU1NLWRkIgogICAgICAvLyAgICkKICAgICAgLy8gICA6IGZvcm1hdChuZXcgRGF0ZSgpLCAieXl5eS1NTS1kZCIpOwogICAgICBpZiAoCiAgICAgICAgZXhpdGRhdGUgIT0gbnVsbCAmJiBleGl0ZGF0ZSAhPT0gIiIgJiYgZXhpdGRhdGUgIT09ICIiICYmIHNlbGVjdGVkTWlucyAhPSBudWxsICYmIHNlbGVjdGVkTWlucyAhPSAiIiAmJiBzZWxlY3RlZEhvdXJzICE9IG51bGwgJiYgc2VsZWN0ZWRIb3VycyAhPSAiIiAmJiBzZWxlY3RlZEFNUE0gIT0gbnVsbCAmJiBzZWxlY3RlZEFNUE0gIT0gIiIgJiYKICAgICAgICBuZXcgRGF0ZShleGl0ZGF0ZSArICIgIiArIHRoaXMuc3RvcFRpbWUpLmdldFRpbWUoKSA+CiAgICAgICAgbmV3IERhdGUoY3VycmVuVGltZSkuZ2V0VGltZSgpCiAgICAgICkgewogICAgICAgIHRoaXMuZGF0ZVRpbWVDaGFuZ2UoKTsKICAgICAgfQogICAgfSwKICAgIHNldERhdGVQaWNrZXIoKSB7CiAgICAgIHRoaXMubWluRGF0ZSA9IHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS50aW1lem9uZQogICAgICAgID8KICAgICAgICBuZXcgRGF0ZSh0aGlzLmZvcm1hdEV4aXREYXRlVGltZSh0aGlzLmJvb2tpbmdEZXRhaWxzPy5ib29raW5nPy5leGl0dGltZSwgJ2RhdGUnKSkKICAgICAgICA6CiAgICAgICAgZGF0ZVRvVGltZVpvbmVEYXRlKAogICAgICAgICAgbmV3IERhdGUoTnVtYmVyKHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmV4aXR0aW1lKSAqIDEwMDAgLSBOdW1iZXIodGhpcy5ib29raW5nRGV0YWlscy56b25lLnRpbWV6b25lb2Zmc2V0KSAqIDEwMDApCiAgICAgICAgICAsIHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS50aW1lem9uZQogICAgICAgICk7CiAgICAgIGxldCBtYXhQYXJraW5nVGltZSA9CiAgICAgICAgdGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzICE9IG51bGwKICAgICAgICAgID8gTnVtYmVyKHRoaXMub25EZW1hbmRab25lRGV0YWlscy5tYXhQYXJraW5nVGltZS5kYXlzKSAqCiAgICAgICAgICAyNCAqCiAgICAgICAgICA2MCAqCiAgICAgICAgICA2MCArCiAgICAgICAgICBOdW1iZXIodGhpcy5vbkRlbWFuZFpvbmVEZXRhaWxzLm1heFBhcmtpbmdUaW1lLmhvdXJzKSAqIDYwICogNjAgKwogICAgICAgICAgTnVtYmVyKHRoaXMub25EZW1hbmRab25lRGV0YWlscy5tYXhQYXJraW5nVGltZS5taW51dGVzKSAqIDYwCiAgICAgICAgICA6IG51bGw7CiAgICAgIGxldCBjdXJyZW50RGF0ZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTsKICAgICAgbGV0IG1heFpvbmVEYXRlID0KICAgICAgICBtYXhQYXJraW5nVGltZSAhPSBudWxsID8gY3VycmVudERhdGVUaW1lICsgbWF4UGFya2luZ1RpbWUgKiAxMDAwIDogbnVsbDsKICAgICAgdGhpcy5tYXhEYXRlID0gdGhpcy5ib29raW5nRGV0YWlscy56b25lLnRpbWV6b25lCiAgICAgICAgPwogICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZSgKICAgICAgICAgIG5ldyBEYXRlKG1heFpvbmVEYXRlKSwKICAgICAgICAgIHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS50aW1lem9uZQogICAgICAgICkKICAgICAgICA6IG5ldyBEYXRlKG1heFpvbmVEYXRlKQoKICAgICAgdGhpcy5tYXhEYXRlVGltZSA9IHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS50aW1lem9uZQogICAgICAgID8gZm9ybWF0KAogICAgICAgICAgZGF0ZVRvVGltZVpvbmVEYXRlKAogICAgICAgICAgICBuZXcgRGF0ZShtYXhab25lRGF0ZSksCiAgICAgICAgICAgIHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS50aW1lem9uZQogICAgICAgICAgKSwKICAgICAgICAgICJ5eXl5LU1NLWRkIgogICAgICAgICkKICAgICAgICA6IGZvcm1hdChuZXcgRGF0ZSgpKTsKICAgIH0sCiAgICAvLyBzZXRUaW1lUGlja2VyKHZhbCkgewogICAgLy8gbGV0IGN1cnJlbnRUaW1lTWVyaWRpYW4gPSB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgIC8vICAgPyBmb3JtYXQoCiAgICAvLyAgICAgICBkYXRlVG9UaW1lWm9uZURhdGUoCiAgICAvLyAgICAgICAgIGFkZE1pbnV0ZXMobmV3IERhdGUoKSwgMTUpLAogICAgLy8gICAgICAgICB0aGlzLm9uRGVtYW5kWm9uZURldGFpbHMudGltZVpvbmUKICAgIC8vICAgICAgICksCiAgICAvLyAgICAgICAiYWFhIgogICAgLy8gICAgICkKICAgIC8vICAgOiBmb3JtYXQobmV3IERhdGUoKSwgImFhYSIpOwogICAgLy8gbGV0IGN1cnJlbnRIciA9IHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZQogICAgLy8gICA/IGZvcm1hdCgKICAgIC8vICAgICAgIGRhdGVUb1RpbWVab25lRGF0ZSgKICAgIC8vICAgICAgICAgYWRkTWludXRlcyhuZXcgRGF0ZSgpLCAxNSksCiAgICAvLyAgICAgICAgIHRoaXMub25EZW1hbmRab25lRGV0YWlscy50aW1lWm9uZQogICAgLy8gICAgICAgKSwKICAgIC8vICAgICAgICJoIgogICAgLy8gICAgICkKICAgIC8vICAgOiBmb3JtYXQobmV3IERhdGUoKSwgImgiKTsKICAgIC8vIGNvbnNvbGUubG9nKGN1cnJlbnRIcikKCiAgICAvL2dldCB0aGUgdG9kYXlzIGN1cnJlbnQgem9uZSB0aW1lCiAgICAvLyBsZXQgZXhpdGRhdGVob3VyID0gdGhpcy5mb3JtYXRFeGl0RGF0ZVRpbWUodGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLmV4aXR0aW1lLCAnaG91cicpCiAgICAvLyBsZXQgZXhpdGRhdGVtaW5zID0gdGhpcy5mb3JtYXRFeGl0RGF0ZVRpbWUodGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLmV4aXR0aW1lLCAnbWlucycpCiAgICAvLyBsZXQgZXhpdGRhdGV0aW1lID0gdGhpcy5mb3JtYXRFeGl0RGF0ZVRpbWUodGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLmV4aXR0aW1lLCAnZGF0ZScpCgogICAgLy8gbGV0IGN1cnJlbnRUaW1lID0gdGhpcy5ib29raW5nRGV0YWlscy56b25lLnRpbWV6b25lCiAgICAvLyAgID8gZm9ybWF0KAogICAgLy8gICAgIGRhdGVUb1RpbWVab25lRGF0ZSgKICAgIC8vICAgICAgIG5ldyBEYXRlKCksCiAgICAvLyAgICAgICB0aGlzLmJvb2tpbmdEZXRhaWxzLnpvbmUudGltZXpvbmUKICAgIC8vICAgICApLAogICAgLy8gICAgICJoYWFhYWEiCiAgICAvLyAgICkKICAgIC8vICAgOiBmb3JtYXQobmV3IERhdGUoKSwgImhhYWFhYSIpOwogICAgLy9zZXQgdGhlIGhyIHJhbmdlCiAgICAvLyBpZiAoCiAgICAvLyAgIHRoaXMuZXhpdERhdGUgPT0KICAgIC8vICAgZm9ybWF0KAogICAgLy8gICAgIG5ldyBEYXRlKGV4aXRkYXRldGltZSksCiAgICAvLyAgICAgInl5eXktTU0tZGQiCiAgICAvLyAgICkKICAgIC8vICkgewogICAgLy8gICB0aGlzLnRpbWVQaWNrZXJIclJhbmdlID0gWwogICAgLy8gICAgIFtleGl0ZGF0ZWhvdXIgPT0gIjEyYSIgPyAiMGEiIDogZXhpdGRhdGVob3VyLCAiMTFwIl0sCiAgICAvLyAgIF07CiAgICAvLyB9CiAgICAvLyBpZiBtYXhkYXRlID09IGV4aXQgZGF0ZQogICAgLy8gZWxzZSBpZiAoCiAgICAvLyAgIHRoaXMubWF4RGF0ZVRpbWUgIT0gbnVsbCAmJgogICAgLy8gICB0aGlzLm1heERhdGVUaW1lLnNwbGl0KCIgIilbMF0gPT0gdGhpcy5leGl0RGF0ZQogICAgLy8gKSB7CiAgICAvLyAgIGNvbnNvbGUubG9nKHRoaXMubWF4RGF0ZVRpbWUpCiAgICAvLyAgIGxldCB0aW1lID0gdGhpcy5tYXhEYXRlVGltZS5zcGxpdCgiICIpWzFdOwogICAgLy8gICBsZXQgaHIgPSB0aW1lLnNwbGl0KCI6IilbMF0gKyB0aGlzLm1heERhdGVUaW1lLnNwbGl0KCIgIilbMl07CiAgICAvLyAgIGhyID09ICIxMmEiCiAgICAvLyAgICAgPyAiMGEiCiAgICAvLyAgICAgOiB0aW1lLnNwbGl0KCI6IilbMF0gKyB0aGlzLm1heERhdGVUaW1lLnNwbGl0KCIgIilbMl07CiAgICAvLyAgIHRoaXMudGltZVBpY2tlckhyUmFuZ2UgPSBbWyIwYSIsIGhyXV07CiAgICAvLyB9CgogICAgLy8gZWxzZSB7CiAgICAvLyAgIHRoaXMudGltZVBpY2tlckhyUmFuZ2UgPSBudWxsOwogICAgLy8gfQoKICAgIC8vIGxldCBockluUE0gPSB0aGlzLmJvb2tpbmdEZXRhaWxzLnpvbmUudGltZXpvbmUKICAgIC8vICAgPyBmb3JtYXQoCiAgICAvLyAgICAgbmV3IERhdGUoZXhpdGRhdGV0aW1lKSwKICAgIC8vICAgICAiaGhhYWEiCiAgICAvLyAgICkKICAgIC8vICAgOiBmb3JtYXQobmV3IERhdGUoZXhpdGRhdGV0aW1lKSwgImhoYWFhIik7CiAgICAvL3NldCB0aGUgbWluIHJhbmdlCgogICAgLy8gaWYgKAogICAgLy8gICAgICAgICB0aGlzLmV4aXREYXRlID09CiAgICAvLyAgICAgICAgIGZvcm1hdCgKICAgIC8vICAgICAgICAgICBuZXcgRGF0ZShleGl0ZGF0ZXRpbWUpLAogICAgLy8gICAgICAgICAgICJ5eXl5LU1NLWRkIgogICAgLy8gICAgICAgICApICYmCiAgICAvLyAgICAgICAgIHZhbCAhPSBudWxsICYmCiAgICAvLyAgICAgICAgIGhySW5QTSA9PSB2YWw/LmhoICsgdmFsLmEKICAgIC8vICAgICAgICkgewogICAgLy8gICAgICAgICB0aGlzLnRpbWVQaWNrZXJNaW5SYW5nZSA9IFsKICAgIC8vICAgICAgICAgICBbCiAgICAvLyAgICAgICAgICAgICB0aGlzLmJvb2tpbmdEZXRhaWxzLnpvbmUudGltZXpvbmUKICAgIC8vICAgICAgICAgICAgICAgPyAoCiAgICAvLyAgICAgICAgICAgICAgICAgZm9ybWF0KAogICAgLy8gICAgICAgICAgICAgICAgICAgbmV3IERhdGUoZXhpdGRhdGV0aW1lKSwKICAgIC8vICAgICAgICAgICAgICAgICAgICJtbSIKICAgIC8vICAgICAgICAgICAgICAgICApCiAgICAvLyAgICAgICAgICAgICAgICkKICAgIC8vICAgICAgICAgICAgICAgOiBmb3JtYXQobmV3IERhdGUoZXhpdGRhdGV0aW1lKSwgIm1tIiksCiAgICAvLyAgICAgICAgICAgICA1OSwKICAgIC8vICAgICAgICAgICBdLAogICAgLy8gICAgICAgICBdOwogICAgLy8gICAgICAgfSAgICAgIAogICAgLy8gZWxzZSBpZiAoCiAgICAvLyAgIHRoaXMubWF4RGF0ZVRpbWUgIT0gbnVsbCAmJgogICAgLy8gICB0aGlzLm1heERhdGVUaW1lLnNwbGl0KCIgIilbMF0gPT0gdGhpcy5leGl0RGF0ZQogICAgLy8gKSB7CiAgICAvLyAgIGxldCB0aW1lID0gdGhpcy5tYXhEYXRlVGltZS5zcGxpdCgiICIpWzFdOwogICAgLy8gICBsZXQgaHIgPSB0aW1lLnNwbGl0KCI6IilbMF0gKyB0aGlzLm1heERhdGVUaW1lLnNwbGl0KCIgIilbMl07CiAgICAvLyAgIGlmICh2YWwgIT0gbnVsbCAmJiBociA9PSB2YWw/LmhoICsgdmFsLmFbMF0pIHsKICAgIC8vICAgICBsZXQgbWluID0gdGltZS5zcGxpdCgiOiIpWzFdOwogICAgLy8gICAgIHRoaXMudGltZVBpY2tlck1pblJhbmdlID0gW1swLCBtaW5dXTsKICAgIC8vICAgfSBlbHNlIHsKICAgIC8vICAgICB0aGlzLnRpbWVQaWNrZXJNaW5SYW5nZSA9IFtbMCwgNTldXTsKICAgIC8vICAgfQogICAgLy8gICAvLyAvLyB9IAogICAgLy8gICAvLyBlbHNlIHsKICAgIC8vICAgLy8gICB0aGlzLnRpbWVQaWNrZXJNaW5SYW5nZSA9IFtbMCwgNTldXTsKICAgIC8vICAgLy8gfQogICAgLy8gICAvLyBpZiAoCiAgICAvLyAgIC8vICAgdGhpcy5leGl0VGltZVNlbGVjdGVkID09IG51bGwgJiYKICAgIC8vICAgLy8gICB0aGlzLmJvb2tpbmdEZXRhaWxzPy5ib29raW5nPy50aW1lem9uZSAhPSB1bmRlZmluZWQKICAgIC8vICAgLy8gKSB7CiAgICAvLyAgIC8vICAgdGhpcy50aW1lUGlja2VySHJSYW5nZSA9IFtdOwogICAgLy8gICAvLyAgIHRoaXMudGltZVBpY2tlck1pblJhbmdlID0gW107CiAgICAvLyAgIC8vICAgcmV0dXJuOwogICAgLy8gICAvLyB9IGVsc2UgaWYgKHRoaXMuZXhpdFRpbWVTZWxlY3RlZD8uaGggPT0gIiIpIHsKICAgIC8vICAgLy8gICB0aGlzLnRpbWVQaWNrZXJNaW5SYW5nZSA9IFtdOwogICAgLy8gICAvLyB9CiAgICAvLyB9LAogICAgLy8gb25PcGVuKCkgewogICAgLy8gICB0aGlzLnNldFRpbWVQaWNrZXIodGhpcy5leGl0VGltZVNlbGVjdGVkKTsKICAgIC8vIH0sCiAgICByZVNjYW5WYWxpZGF0aW9uUVIoKSB7CiAgICAgIHRoaXMuaW52YWxpZFZhbGlkYXRpb25RUkRpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLnZhbGlkYXRpb25DYW1lcmFTdGF0dXMgPSB0cnVlOwogICAgfSwKICAgIGNsb3NlVmFsaWRhdGlvblFSRGlhbG9nKCkgewogICAgICB0aGlzLnZhbGlkYXRpb25DYW1lcmFTdGF0dXMgPSBmYWxzZTsKICAgICAgdGhpcy52YWxpZGF0ZUJvb2tpbmdEaWFsb2cgPSB0cnVlOwogICAgICB0aGlzLnZhbGlkYXRlUVJDb2RlRGlhbG9nID0gZmFsc2U7CiAgICB9LAogICAgc2Nyb2xsVG9WYWxpZGF0ZUJ0bigpIHsKICAgICAgY29uc3QgZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjdmFsaWRhdGVib29raW5nYnRuIik7CiAgICAgIGlmIChlbCkgewogICAgICAgIGVsLnNjcm9sbEludG9WaWV3KHRoaXMub3B0aW9ucyk7CiAgICAgIH0KICAgIH0sCiAgICBhc3luYyBvcGVuU2NhblZhbGlkYXRpb25Db2RlKCkgewogICAgICB0aGlzLnZhbGlkYXRlQm9va2luZ0RpYWxvZyA9IGZhbHNlOwogICAgICB0aGlzLnZhbGlkYXRlQm9va2luZ1R4dCA9ICIiOwogICAgICB0aGlzLnZhbGlkYXRlUVJDb2RlRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy52YWxpZGF0aW9uQ2FtZXJhU3RhdHVzID0gdHJ1ZTsKICAgIH0sCiAgICBhc3luYyBvblZhbGlkYXRlUVJDb2RlKGRlY29kZWRTdHJpbmcpIHsKICAgICAgdGhpcy52YWxpZGF0aW9uQ2FtZXJhU3RhdHVzID0gZmFsc2U7CiAgICAgIHRoaXMudmFsaWRhdGVRUkNvZGVQZW5kaW5nID0gdHJ1ZTsKICAgICAgdHJ5IHsKICAgICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy52YWxpZGF0ZUJvb2tpbmcoZGVjb2RlZFN0cmluZyk7CiAgICAgICAgaWYgKCFyZXN1bHQuZGF0YS5zdGF0dXMpIHsKICAgICAgICAgIHRoaXMuaW52YWxpZFZhbGlkYXRpb25RUk1zZyA9IHJlc3VsdD8uZGF0YT8ubWVzc2FnZQogICAgICAgICAgICA/IHJlc3VsdC5kYXRhLm1lc3NhZ2UKICAgICAgICAgICAgOiAiVmFsaWRhdGlvbiBub3QgcmVjb2duaXplZC4gUGxlYXNlIHRyeSBhZ2FpbiI7CiAgICAgICAgICB0aGlzLmludmFsaWRWYWxpZGF0aW9uUVJEaWFsb2cgPSB0cnVlOwogICAgICAgICAgdGhpcy52YWxpZGF0ZVFSQ29kZVBlbmRpbmcgPSBmYWxzZTsKICAgICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgcGhvbmU6IHRoaXMuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgICAgICByZWZJZDogdGhpcy5ib29raW5nSWQsCiAgICAgICAgICAgIGVycm9yOiB0aGlzLmludmFsaWRRUk1zZywKICAgICAgICAgICAgaWNvbjogInJlZGVlbSIsCiAgICAgICAgICAgIHN0YXR1c1RleHQ6CiAgICAgICAgICAgICAgIkVycm9yIGluIHZhbGlkYXRpbmcgdGhlIHNlc3Npb24gb24gc2Nhbm5pbmcgdmFsaWRhdGlvbiBRUiAtICIgKwogICAgICAgICAgICAgIGRlY29kZWRTdHJpbmcsCiAgICAgICAgICB9KTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgICBwaG9uZTogdGhpcy5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgICAgIHJlZklkOiB0aGlzLmJvb2tpbmdJZCwKICAgICAgICAgICAgaWNvbjogInJlZGVlbSIsCiAgICAgICAgICAgIHN0YXR1c1RleHQ6CiAgICAgICAgICAgICAgIlBhcmtlciB2YWxpZGF0ZWQgdGhlIHNlc3Npb24gc3VjY2Vzc2Z1bGx5IGJ5IHNjYW5uaW5nIHZhbGlkYXRpb24gUVIgLSAiICsKICAgICAgICAgICAgICBkZWNvZGVkU3RyaW5nLAogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnZhbGlkYXRlUVJDb2RlUGVuZGluZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy52YWxpZGF0ZVFSQ29kZURpYWxvZyA9IGZhbHNlOwogICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KAogICAgICAgICAgICAiU0VUX1ZBTElEQVRFRF9NRVJDSEFOVCIsCiAgICAgICAgICAgIHJlc3VsdD8uZGF0YT8ubWVyY2hhbnROYW1lCiAgICAgICAgICApOwogICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiAiL3ZhbGlkYXRlc3VjY2VzcyIgfSk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIG9uVmFsaWRhdGVUZXh0KCkgewogICAgICB0aGlzLnZhbGlkYXRlQm9va2luZ1BlbmRpbmcgPSB0cnVlOwogICAgICBsZXQgcmVzdWx0ID0gYXdhaXQgdGhpcy52YWxpZGF0ZUJvb2tpbmcodGhpcy52YWxpZGF0ZUJvb2tpbmdUeHQpOwogICAgICBpZiAoIXJlc3VsdC5kYXRhLnN0YXR1cykgewogICAgICAgIHRoaXMuYWxlcnRNc2cgPSByZXN1bHQ/LmRhdGE/Lm1lc3NhZ2UKICAgICAgICAgID8gcmVzdWx0LmRhdGEubWVzc2FnZQogICAgICAgICAgOiAiVmFsaWRhdGlvbiBub3QgcmVjb2duaXplZC4gUGxlYXNlIHRyeSBhZ2FpbiI7CiAgICAgICAgdGhpcy5hbGVydERpYWxvZyA9IHRydWU7CiAgICAgICAgdGhpcy52YWxpZGF0ZUJvb2tpbmdQZW5kaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgcGhvbmU6IHRoaXMuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgICAgcmVmSWQ6IHRoaXMuYm9va2luZ0lkLAogICAgICAgICAgZXJyb3I6IHRoaXMuaW52YWxpZFNNU01zZywKICAgICAgICAgIGljb246ICJyZWRlZW0iLAogICAgICAgICAgc3RhdHVzVGV4dDoKICAgICAgICAgICAgIkVycm9yIGluIHZhbGlkYXRpbmcgdGhlIHNlc3Npb24gb24gZW50ZXJpbmcgdmFsaWRhdGlvbiBjb2RlIC0gIiArCiAgICAgICAgICAgIHRoaXMudmFsaWRhdGVCb29raW5nVHh0LAogICAgICAgIH0pOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgIHBob25lOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgIHJlZklkOiB0aGlzLmJvb2tpbmdJZCwKICAgICAgICAgIGljb246ICJyZWRlZW0iLAogICAgICAgICAgc3RhdHVzVGV4dDoKICAgICAgICAgICAgIlBhcmtlciB2YWxpZGF0ZWQgdGhlIHNlc3Npb24gc3VjY2Vzc2Z1bGx5IGJ5IGVudGVyaW5nIHZhbGlkYXRpb24gY29kZSAtICIgKwogICAgICAgICAgICB0aGlzLnZhbGlkYXRlQm9va2luZ1R4dCwKICAgICAgICB9KTsKICAgICAgICB0aGlzLnZhbGlkYXRlQm9va2luZ1BlbmRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLnZhbGlkYXRlQm9va2luZ0RpYWxvZyA9IGZhbHNlOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgKICAgICAgICAgICJTRVRfVkFMSURBVEVEX01FUkNIQU5UIiwKICAgICAgICAgIHJlc3VsdD8uZGF0YT8ubWVyY2hhbnROYW1lCiAgICAgICAgKTsKICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICIvdmFsaWRhdGVzdWNjZXNzIiB9KTsKICAgICAgfQogICAgfSwKICAgIGFzeW5jIHZhbGlkYXRlQm9va2luZyhjb2RlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgbGV0IHZhbGlkYXRlUmVzdWx0ID0gYXdhaXQgQVBJSGVscGVyKAogICAgICAgICAgIlBPU1QiLAogICAgICAgICAgIi9hcGkvdjEvdmFsaWRhdGUvIiArIHRoaXMuYm9va2luZ0lkLAogICAgICAgICAgewogICAgICAgICAgICBjb3Vwb246IGNvZGUsCiAgICAgICAgICAgIHppZDogdGhpcy5ib29raW5nRGV0YWlscy56b25lLmxvY2F0aW9uQ29kZQogICAgICAgICAgfQogICAgICAgICk7CiAgICAgICAgcmV0dXJuIHZhbGlkYXRlUmVzdWx0OwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICByZXR1cm4gZXJyb3I7CiAgICAgIH0KICAgIH0sCiAgICBvcGVuVmFsaWRhdGlvbkRpYWxvZygpIHsKICAgICAgdGhpcy52YWxpZGF0ZUJvb2tpbmdEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIGFkZFBheW1lbnQoKSB7CiAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogJ2FkZHBheW1lbnQnIH0pCiAgICB9LAogICAgZm9ybWF0RGF0ZShkYXRlKSB7CiAgICAgIGlmICghZGF0ZSkgcmV0dXJuIG51bGwKCiAgICAgIGNvbnN0IFt5ZWFyLCBtb250aCwgZGF5XSA9IGRhdGUuc3BsaXQoJy0nKQogICAgICByZXR1cm4gYCR7bW9udGh9LyR7ZGF5fS8ke3llYXJ9YAogICAgfSwKICAgIHBhcnNlRGF0ZShkYXRlKSB7CiAgICAgIGlmICghZGF0ZSkgcmV0dXJuIG51bGwKCiAgICAgIGNvbnN0IFttb250aCwgZGF5LCB5ZWFyXSA9IGRhdGUuc3BsaXQoJy8nKQogICAgICByZXR1cm4gYCR7eWVhcn0tJHttb250aC5wYWRTdGFydCgyLCAnMCcpfS0ke2RheS5wYWRTdGFydCgyLCAnMCcpfWAKICAgIH0sCiAgICB1cHBlcmNhc2UoKSB7CiAgICAgIHRoaXMubGljZW5jZVBsYXRlID0gdGhpcy5saWNlbmNlUGxhdGUudG9VcHBlckNhc2UoKTsKICAgIH0sCiAgICAvKioKKiBAbWV0aG9kIGdldFpvbmVEZXRhaWxzIGZldGNoIHRoZSB6b25lIGRldGFpbHMgYW5kIGNvbW1pdCBTRVRfWk9ORV9ERVRBSUxTIG11dGF0aW9uLgoqLwogICAgYXN5bmMgZ2V0Wm9uZURldGFpbHMoc2VhcmNoUGFyYW1LZXksIHNlYXJjaFBhcmFtVmFsdWUpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgem9uZURldGFpbHMgPSBhd2FpdCBBUElIZWxwZXIoCiAgICAgICAgICAiR0VUIiwKICAgICAgICAgICIvYXBpL3YxL3VzZXIvY29uZmlnIiArIHNlYXJjaFBhcmFtS2V5ICsgIj0iICsgc2VhcmNoUGFyYW1WYWx1ZQogICAgICAgICk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfWk9ORV9ERVRBSUxTIiwgem9uZURldGFpbHMuZGF0YT8uem9uZSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgY2FsY3VsYXRlRXhpdERhdGVUaW1lKCkgewogICAgICBpZiAodGhpcy5ib29raW5nRGV0YWlscz8uem9uZT8udGltZXpvbmUgJiYKICAgICAgICB0aGlzLmJvb2tpbmdEZXRhaWxzPy5ib29raW5nPy5lbnRyeU1vZGUgPT0gIk9EIikgewogICAgICAgIC8vICAgdmFyIGN1cnJlbnRUaW1lID0KICAgICAgICAvLyBuZXcgRGF0ZSgpLmdldFRpbWUoKSArCiAgICAgICAgLy8gKE51bWJlcih0aGlzLmJvb2tpbmdEZXRhaWxzLnpvbmUudGltZXpvbmVvZmZzZXQpICogMTAwMCArCiAgICAgICAgLy8gICBOdW1iZXIodGhpcy5ib29raW5nRGV0YWlscy56b25lLnRpbWV6b25lZHN0b2Zmc2V0KSAqIDEwMDApOwogICAgICAgIHZhciBjdXJyZW50VGltZSA9CiAgICAgICAgICBuZXcgRGF0ZSgpLmdldFRpbWUoKSArCiAgICAgICAgICAoTnVtYmVyKHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS50aW1lem9uZW9mZnNldCkgKiAxMDAwICsKICAgICAgICAgICAgTnVtYmVyKHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS50aW1lem9uZWRzdG9mZnNldCkgKiAxMDAwKTsKICAgICAgICB2YXIgZXhpdFRpbWUgPQogICAgICAgICAgTnVtYmVyKHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5leGl0dGltZSkgKiAxMDAwOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX0VYSVRfVElNRV9USU1FX1NUQVRVUyIsIHRoaXMuZXhpdERhdGVUaW1lIDwgMCk7CiAgICAgICAgZXhpdFRpbWUgLSBjdXJyZW50VGltZSA8IDAKICAgICAgICAgID8gY2xlYXJJbnRlcnZhbCh0aGlzLmV4aXRJbnRlcnZhbCkKICAgICAgICAgIDogIiI7CiAgICAgICAgcmV0dXJuIGV4aXRUaW1lIC0gY3VycmVudFRpbWU7CiAgICAgIH0KICAgICAgcmV0dXJuIDAKCiAgICB9LAoKICAgIC8qKiBAbWV0aG9kcyB0byBmaW5kIHRoZSB0aGUgVVRDIGRhdGUgCiAgICBAcGFyYW1zIHRoZSBib29raW5ncyBkYXRlIHZhbHVlICwgdHlwZSAnZXhpdCAoMjAyMy0xMi0wMiknIG9yICdmb3JtYXRkYXRlICgxMi8wMi8yMDIzKScKICAgICovCiAgICBmb3JtYXRVVENEZWZhdWx0RGF0ZShkZWZhdWx0RGF0ZSwgdHlwZSkgewogICAgICBsZXQgdXRjRGF0ZSA9IG5ldyBEYXRlKGRlZmF1bHREYXRlICogMTAwMCkudG9VVENTdHJpbmcoKTsKICAgICAgbGV0IG1vbnRoID0gdXRjRGF0ZS5zcGxpdCgiLCIpWzFdLnNwbGl0KCIgIilbMl07IC8vIEphbgogICAgICBsZXQgZGF0ZSA9IHV0Y0RhdGUuc3BsaXQoIiwiKVsxXS5zcGxpdCgiICIpWzFdOyAvLyAyNwogICAgICBsZXQgeWVhciA9IHV0Y0RhdGUuc3BsaXQoIiwiKVsxXS5zcGxpdCgiICIpWzNdOyAvLzIwMjMKICAgICAgbGV0IGV4aXRmb3JtYXQgPSBmb3JtYXQobmV3IERhdGUobW9udGggKyAiICIgKyBkYXRlICsgIiAiICsgeWVhciksICd5eXl5LU1NLWRkJyk7CiAgICAgIGxldCBkYXRlZm9ybWF0ID0gZm9ybWF0KG5ldyBEYXRlKG1vbnRoICsgIiAiICsgZGF0ZSArICIgIiArIHllYXIpLCAiTU0vZGQveXl5eSIpOwogICAgICByZXR1cm4gdHlwZSA9PT0gImV4aXQiID8gZXhpdGZvcm1hdCA6IGRhdGVmb3JtYXQ7CgogICAgfSwKICAgIGZvcm1hdEV4aXREYXRlVGltZSh0aW1lLCB2YWwpIHsKICAgICAgaWYgKHRpbWUgIT09IG51bGwgJiYgdGltZSAhPT0gdW5kZWZpbmVkICYmIHRpbWUgIT0gJycpIHsKICAgICAgICBsZXQgdXRjRGF0ZSA9IG5ldyBEYXRlKHRpbWUgKiAxMDAwKS50b1VUQ1N0cmluZygpOyAvLyJXZWQsIDI3IEphbiAyMDIxIDEzOjU5OjA0IEdNVCIKICAgICAgICBsZXQgbW9udGggPSB1dGNEYXRlLnNwbGl0KCIsIilbMV0uc3BsaXQoIiAiKVsyXTsgLy8gSmFuCiAgICAgICAgbGV0IGRhdGUgPSB1dGNEYXRlLnNwbGl0KCIsIilbMV0uc3BsaXQoIiAiKVsxXTsgLy8gMjcKICAgICAgICBsZXQgeWVhciA9IHV0Y0RhdGUuc3BsaXQoIiwiKVsxXS5zcGxpdCgiICIpWzNdOwogICAgICAgIGxldCBociA9IHV0Y0RhdGUuc3BsaXQoIiwiKVsxXS5zcGxpdCgiICIpWzRdLnNwbGl0KCI6IilbMF07IC8vIDEzCiAgICAgICAgbGV0IG1pbiA9IHV0Y0RhdGUuc3BsaXQoIiwiKVsxXS5zcGxpdCgiICIpWzRdLnNwbGl0KCI6IilbMV07IC8vNTkKICAgICAgICBsZXQgZm9ybWF0SHIgPSBOdW1iZXIoaHIpID4gMTIgPyBOdW1iZXIoaHIpIC0gMTIgOiBOdW1iZXIoaHIpOyAvLyAxCiAgICAgICAgZm9ybWF0SHIgPSBOdW1iZXIoZm9ybWF0SHIpID49IDEwID8gTnVtYmVyKGZvcm1hdEhyKSA6IGZvcm1hdEhyOyAvLzAxCiAgICAgICAgbGV0IGFtT3JwbSA9IE51bWJlcihocikgPj0gMTIgPyAicCIgOiAiYSI7IC8vUE0KICAgICAgICBsZXQgYW1wbSA9IE51bWJlcihocikgPj0gMTIgPyAiUE0iIDogIkFNIjsKICAgICAgICBzd2l0Y2ggKHZhbCkgewogICAgICAgICAgY2FzZSAnaG91cic6IHsKICAgICAgICAgICAgcmV0dXJuIGZvcm1hdEhyICsgYW1PcnBtOwogICAgICAgICAgfQogICAgICAgICAgY2FzZSAnbWlucyc6IHsKICAgICAgICAgICAgcmV0dXJuIG1pbgogICAgICAgICAgfQogICAgICAgICAgY2FzZSAnZGF0ZSc6IHsKICAgICAgICAgICAgcmV0dXJuIG1vbnRoICsgIiAiICsgZGF0ZSArICIsICIgKyB5ZWFyICsgIiAiICsgZm9ybWF0SHIgKyAiOiIgKyBtaW4gKyAiICIgKyBhbXBtOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICAvL0phbiAyNywgMDE6NTkgUE0KICAgIH0sCiAgICBmb3JtYXREYXRlVGltZSh0aW1lKSB7CiAgICAgIGxldCB1dGNEYXRlID0gbmV3IERhdGUodGltZSAqIDEwMDApLnRvVVRDU3RyaW5nKCk7IC8vIldlZCwgMjcgSmFuIDIwMjEgMTM6NTk6MDQgR01UIgogICAgICBsZXQgbW9udGggPSB1dGNEYXRlLnNwbGl0KCIsIilbMV0uc3BsaXQoIiAiKVsyXTsgLy8gSmFuCiAgICAgIGxldCBkYXRlID0gdXRjRGF0ZS5zcGxpdCgiLCIpWzFdLnNwbGl0KCIgIilbMV07IC8vIDI3CiAgICAgIGxldCBociA9IHV0Y0RhdGUuc3BsaXQoIiwiKVsxXS5zcGxpdCgiICIpWzRdLnNwbGl0KCI6IilbMF07IC8vIDEzCiAgICAgIGxldCBtaW4gPSB1dGNEYXRlLnNwbGl0KCIsIilbMV0uc3BsaXQoIiAiKVs0XS5zcGxpdCgiOiIpWzFdOyAvLzU5CiAgICAgIGxldCBmb3JtYXRIciA9IE51bWJlcihocikgPiAxMiA/IE51bWJlcihocikgLSAxMiA6IE51bWJlcihocik7IC8vIDEKICAgICAgZm9ybWF0SHIgPSBOdW1iZXIoZm9ybWF0SHIpID49IDEwID8gTnVtYmVyKGZvcm1hdEhyKSA6ICIwIiArIGZvcm1hdEhyOyAvLzAxCiAgICAgIGxldCBhbU9ycG0gPSBOdW1iZXIoaHIpID49IDEyID8gIlBNIiA6ICJBTSI7IC8vUE0KICAgICAgcmV0dXJuIG1vbnRoICsgIiAiICsgZGF0ZSArICIsICIgKyBmb3JtYXRIciArICI6IiArIG1pbiArICIgIiArIGFtT3JwbTsgLy9KYW4gMjcsIDAxOjU5IFBNCiAgICB9LAogIH0sCiAgd2F0Y2g6IHsKICAgIC8vIGV4aXRUaW1lU2VsZWN0ZWQobmV3VmFsLCBvbGRWYWwpIHsKICAgIC8vICAgaWYgKG9sZFZhbCAhPSBudWxsICYmIG5ld1ZhbCAhPSBudWxsICYmIG9sZFZhbD8uYSAhPSBuZXdWYWw/LmEpIHsKICAgIC8vICAgICB0aGlzLmV4aXRUaW1lU2VsZWN0ZWQgPSBPYmplY3QuYXNzaWduKHRoaXMuZXhpdFRpbWVTZWxlY3RlZCwgeyBoaDogIiIsIG1tOiAiIiB9KQogICAgLy8gICB9CiAgICAvLyAgIGlmIChvbGRWYWwgIT0gbnVsbCAmJiBuZXdWYWwgIT0gbnVsbCAmJiBvbGRWYWw/LmhoICE9IG5ld1ZhbD8uaGgpIHsKICAgIC8vICAgICB0aGlzLmV4aXRUaW1lU2VsZWN0ZWQgPSBPYmplY3QuYXNzaWduKHRoaXMuZXhpdFRpbWVTZWxlY3RlZCwgeyBtbTogIiIgfSkKICAgIC8vICAgfQogICAgLy8gICB0aGlzLnNldFRpbWVQaWNrZXIobmV3VmFsKTsKICAgIC8vIH0sCiAgICB0aW1lKG5ld1ZhbCwgb2xkVmFsKSB7CiAgICAgIGlmIChvbGRWYWwgIT0gbnVsbCAmJiBuZXdWYWwgIT0gbnVsbCAmJiBvbGRWYWwgIT0gbmV3VmFsICYmIG9sZFZhbCAhPSAiIiAmJiBuZXdWYWwgIT0gIiIgJiYgKGlzVmFsaWQobmV3VmFsKSkpIHsKICAgICAgICB0aGlzLnJvdW5kKG5ld1ZhbCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBleGl0RGF0ZShuZXdWYWwsIG9sZFZhbCkgewogICAgLy8gICBsZXQgZXhpdGRhdGV0aW1lID0gdGhpcy5mb3JtYXRFeGl0RGF0ZVRpbWUodGhpcy5ib29raW5nRGV0YWlscz8uYm9va2luZz8uZXhpdHRpbWUsICdkYXRlJyk7CiAgICAvLyAgIHRoaXMuZGF0ZUZvcm1hdHRlZCA9IHRoaXMuZm9ybWF0RGF0ZSh0aGlzLmV4aXREYXRlKQogICAgLy8gICBpZiAob2xkVmFsICE9IG5ld1ZhbCAmJiB0aGlzLmV4aXREYXRlID09IGZvcm1hdCgKICAgIC8vICAgICBuZXcgRGF0ZShleGl0ZGF0ZXRpbWUpLAogICAgLy8gICAgICJ5eXl5LU1NLWRkIgogICAgLy8gICApKSB7CiAgICAvLyAgICAgbGV0IHNlbGVjdGVkSG91cnMgPQogICAgLy8gICAgICAgZm9ybWF0KAogICAgLy8gICAgICAgICBuZXcgRGF0ZShleGl0ZGF0ZXRpbWUpLAogICAgLy8gICAgICAgICAiaGgiCiAgICAvLyAgICAgICApCgogICAgLy8gICAgIGxldCBzZWxlY3RlZE1pbnMgPQogICAgLy8gICAgICAgZm9ybWF0KAogICAgLy8gICAgICAgICBuZXcgRGF0ZShleGl0ZGF0ZXRpbWUpCiAgICAvLyAgICAgICAgICwKICAgIC8vICAgICAgICAgIm1tIgogICAgLy8gICAgICAgKQogICAgLy8gICAgIGxldCBzZWxlY3RlZEFNUE0gPQogICAgLy8gICAgICAgZm9ybWF0KAogICAgLy8gICAgICAgICBuZXcgRGF0ZShleGl0ZGF0ZXRpbWUpLAogICAgLy8gICAgICAgICAiYWFhIgogICAgLy8gICAgICAgKQogICAgLy8gICAgIHRoaXMuZXhpdFRpbWVTZWxlY3RlZCA9IE9iamVjdC5hc3NpZ24oe30sIHsKICAgIC8vICAgICAgIGhoOiBzZWxlY3RlZEhvdXJzLAogICAgLy8gICAgICAgbW06IHNlbGVjdGVkTWlucywKICAgIC8vICAgICAgIGE6IHNlbGVjdGVkQU1QTQogICAgLy8gICAgIH0pOwogICAgLy8gICAgIHRoaXMucm91bmQoKQogICAgLy8gICAgIHRoaXMuZ2V0UmF0ZUNhbGwgPSB0cnVlOwogICAgLy8gICB9CiAgICAvLyAgIGVsc2UgewogICAgLy8gICAgIHRoaXMuZ2V0UmF0ZUNhbGwgPSBmYWxzZQogICAgLy8gICB9CiAgICAvLyB9LAogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBmb3JtYXR0ZWREYXRlVGltZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudGltZSAhPT0gbnVsbCAmJiB0aGlzLnRpbWUgIT09ICIiID8gZm9ybWF0KHRoaXMudGltZSwgJ2lpaSwgTExMIGRkJykgOiAiIgogICAgfSwKICAgIGZvcm1hdHRlZFllYXIoKSB7CiAgICAgIHJldHVybiB0aGlzLnRpbWUgIT09IG51bGwgJiYgdGhpcy50aW1lICE9PSAiIiA/IGZvcm1hdCh0aGlzLnRpbWUsICd5eXl5JykgOiAiIgogICAgfSwKICAgIC4uLm1hcEdldHRlcnMoewogICAgICBib29raW5nSWQ6ICJnZXR0ZXJCb29raW5nSWQiLAogICAgICB6b25lRGV0YWlsczogImdldHRlclpvbmVEZXRhaWxzIiwKICAgICAgYm9va2luZ0RldGFpbHM6ICJnZXR0ZXJCb29raW5nRGV0YWlscyIsCiAgICAgIG9uRGVtYW5kWm9uZURldGFpbHM6ICJnZXR0ZXJPbkRlbWFuZFpvbmVEZXRhaWxzIiwKICAgIH0pLAogICAgZm9ybWF0dGVkVGltZSgpIHsKICAgICAgcmV0dXJuIHRoaXMudGltZSA/IGZvcm1hdCh0aGlzLnRpbWUsICdoaDptbSBhYScpIDogIiIKICAgIH0sCiAgICBmb3JtYXR0ZWRFeGl0VGltZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmV4aXR0aW1lID8gdGhpcy5mb3JtYXREYXRlVGltZSh0aGlzLmJvb2tpbmdEZXRhaWxzLmJvb2tpbmcuZXhpdHRpbWUpIDogIiIKICAgICAgLy8gIHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmV4aXR0aW1lID8gZm9ybWF0KAogICAgICAvLyBuZXcgRGF0ZSgoTnVtYmVyKHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5leGl0dGltZSkgICsgTnVtYmVyKHRoaXMuYm9va2luZ0RldGFpbHMuem9uZS50aW1lem9uZW9mZnNldCkpKiAxMDAwKSwKICAgICAgLy8gICAiaGg6bW0gYSwgTExMIGRkIHl5eXkiIAogICAgICAvLyApIDogIiIKICAgIH0sCiAgICBib29raW5nX2NvbnRlbnQoKSB7CiAgICAgIHJldHVybiB0aGlzLmJvb2tpbmdEZXRhaWxzPy5ib29raW5nPy5lbnRyeXRpbWUgPyB0aGlzLmZvcm1hdERhdGVUaW1lKHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmVudHJ5dGltZSkuc3BsaXQoIiwiKVsxXSArICIgb24gIiArIHRoaXMuZm9ybWF0RGF0ZVRpbWUodGhpcy5ib29raW5nRGV0YWlscz8uYm9va2luZz8uZW50cnl0aW1lKS5zcGxpdCgiLCIpWzBdIDogIiIKICAgICAgLy8gbGV0IGRhdGVUaW1lID0gZm9ybWF0RGF0ZVRpbWUoCiAgICAgIC8vICAgTnVtYmVyKHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5lbnRyeXRpbWUpCiAgICAgIC8vICk7CiAgICAgIC8vIHJldHVybiBkYXRlVGltZVswXSArICIgb24gIiArIGRhdGVUaW1lWzFdICsgIiAiICsgZGF0ZVRpbWVbMl07CiAgICB9LAogICAgZGF0ZVRleHRGb3JtYXQoKSB7CiAgICAgIHZhciBldmVudCA9IG5ldyBEYXRlKHRoaXMuZGF0ZSk7CiAgICAgIHJldHVybiBldmVudC50b0xvY2FsZURhdGVTdHJpbmcoJ2VuLVVTJywgeyB5ZWFyOiAnbnVtZXJpYycsIG1vbnRoOiAnc2hvcnQnLCBkYXk6ICdudW1lcmljJyB9KQogICAgfSwKICAgIGNvbXB1dGVkRGF0ZUZvcm1hdHRlZCgpIHsKICAgICAgcmV0dXJuIHRoaXMudGltZSAhPT0gbnVsbCAmJiB0aGlzLnRpbWUgIT09ICIiICYmIHRoaXMudGltZSAhPT0gdW5kZWZpbmVkID8gZm9ybWF0KHRoaXMudGltZSwgJ3l5eXkvTU0vZGQnKSA6ICIiCiAgICB9LAogICAgZGlzYWJsZUV4dGVuZCgpIHsKICAgICAgbGV0IGRpc2FibGVkID0gKAogICAgICAgIHRoaXMudGltZSA9PT0gbnVsbCB8fCB0aGlzLnRpbWUgPT09ICIiIHx8IHRoaXMudGltZSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuZXN0aW1hdGUgPT09IG51bGwgfHwgdGhpcy5lc3RpbWF0ZSA9PT0gdW5kZWZpbmVkIHx8IE9iamVjdC5rZXlzKHRoaXMuZXN0aW1hdGUpLmxlbmd0aCA9PT0gMCkKICAgICAgcmV0dXJuIGRpc2FibGVkOwogICAgfSwKICAgIGNvdW50RG93bkV4aXRUaW1lKCkgewogICAgICBpZiAodGhpcy5leGl0RGF0ZVRpbWUgPCAwKSB7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfVkFMSURBVEVEX1RJTUVfU1RBVFVTIiwgdHJ1ZSk7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLmV4aXRUaW1lSW50ZXJ2YWwpOwogICAgICB9CiAgICAgIHJldHVybiBzZWNvbmRzVG9IbXModGhpcy5leGl0RGF0ZVRpbWUgLyAxMDAwICsgNTkpOwogICAgfSwKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmV4aXREYXRlVGltZSA9IHRoaXMuY2FsY3VsYXRlRXhpdERhdGVUaW1lKCk7CiAgICB0aGlzLmV4aXRUaW1lSW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgIGlmICgKICAgICAgICB0aGlzLmJvb2tpbmdEZXRhaWxzPy56b25lPy50aW1lem9uZSAmJgogICAgICAgIHRoaXMuYm9va2luZ0RldGFpbHM/LmJvb2tpbmc/LmVudHJ5TW9kZSA9PSAiT0QiCiAgICAgICkgewogICAgICAgIHRoaXMuZXhpdERhdGVUaW1lID0gdGhpcy5jYWxjdWxhdGVFeGl0RGF0ZVRpbWUoKTsKICAgICAgfQogICAgfSwgMTAwMCk7CgogICAgRXZlbnRCdXMuJG9uKCdTRVRfVElNRScsICgpID0+IHsKICAgICAgdGhpcy5vblRpbWVQaWNrZXJDaGFuZ2UoKTsKICAgIH0pCiAgICBFdmVudEJ1cy4kb24oInZhbGlkYXRpb24tcXItcmVzdWx0IiwgKHJlc3VsdCkgPT4gewogICAgICB0aGlzLm9uVmFsaWRhdGVRUkNvZGUocmVzdWx0KTsKICAgIH0pOwogIH0sCn0K"},{"version":3,"sources":["odExtension.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA0jBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"odExtension.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container>\n    <v-row class=\"text-center\" no-gutters>\n      <v-col cols=\"12\">\n        <v-img alt=\"PARKING.COM\" class=\"my-3\" height=\"42\" contain src=\"../assets/logo_huge_drk.png\" />\n      </v-col>\n    </v-row>\n    <v-row no-gutters>\n      <v-col>\n        <v-card class=\"mx-auto rounded-lg\" max-width=\"374\">\n          <v-dialog v-model=\"loading\" persistent>\n            <v-card class=\"pa-4\">\n              <v-progress-circular indeterminate color=\"red\"></v-progress-circular>\n              <span class=\"ml-4\" style=\"font-size: 14px\">Please wait...</span>\n            </v-card>\n          </v-dialog>\n          <template slot=\"progress\">\n            <v-progress-linear color=\"red\" height=\"10\" indeterminate></v-progress-linear>\n          </template>\n          <div style=\"position: relative\">\n            <!-- <v-skeleton-loader\n                                                                                                              v-show=\"!bookingDetails.hasOwnProperty('zone')\"\n                                                                                                              height=\"260px\"\n                                                                                                              class=\"rounded-t-lg\"\n                                                                                                              type=\"image\"\n                                                                                                            ></v-skeleton-loader>-->\n\n            <v-img class=\"rounded-t-lg\" max-height=\"150px\" style=\"filter: brightness(50%)\" :src=\"\n              bookingDetails.hasOwnProperty('zone') &&\n                bookingDetails.zone.image != '' &&\n                bookingDetails.zone.image != null\n                ? bookingDetails.zone.image\n                : zoneImgURL\n            \" :lazy-src=\"\n  bookingDetails.hasOwnProperty('zone') &&\n    bookingDetails.zone.image != '' &&\n    bookingDetails.zone.image != null\n    ? bookingDetails.zone.image\n    : zoneImgURL\n\" alt=\"Parking.com garage\">\n              <template v-slot:placeholder>\n                <v-row class=\"fill-height ma-0\" align=\"center\" justify=\"center\" no-gutters>\n                  <v-progress-circular indeterminate color=\"grey lighten-5\"></v-progress-circular>\n                </v-row>\n              </template>\n            </v-img>\n            <div v-if=\"exitDateTime > 0\">\n              <div class=\"booking_header white--text text-left mr-4\">\n                <span>\n                  {{\n                    bookingDetails.hasOwnProperty(\"booking\")\n                    ? bookingDetails.booking.header\n                    : \"\"\n                  }}\n                </span>\n              </div>\n              <div class=\"booking_divider_div\">\n                <v-divider class=\"booking_divider mx-4\"></v-divider>\n              </div>\n              <div class=\"booking_content white--text\">\n                Checked in at\n                {{\n                  bookingDetails.hasOwnProperty(\"booking\") ? booking_content : \"\"\n                }}\n                <span v-if=\"\n                  bookingDetails.hasOwnProperty('booking') &&\n                  bookingDetails.hasOwnProperty('zone') &&\n                  bookingDetails.booking.vehicleNo != null &&\n                  bookingDetails.booking.vehicleNo != ''\n                \">\n                  with license plate\n                  {{\n                    bookingDetails.hasOwnProperty(\"booking\")\n                    ? bookingDetails.booking.vehicleNo\n                    : \"\"\n                  }}\n                </span>\n              </div>\n            </div>\n            <div v-else-if=\"exitDateTime < 0\" class=\"thankyou_header white--text\">THANK YOU!</div>\n          </div>\n          <v-card-text v-if=\"exitDateTime > 0\">\n            <v-container fluid pa-0>\n              <v-row align=\"center\" class=\"mx-0 pb-0\" no-gutters>\n                <v-col cols=\"2\">\n                  <v-icon class=\"material-icons-outlined\" style=\"font-size: 50px\">history_toggle_off</v-icon>\n                </v-col>\n                <v-col cols=\"10\" class=\"pl-1\">\n                  <v-row no-gutters class=\"counter-content-position\">\n                    <v-col cols=\"12\" class=\"pa-0\">\n                      <v-skeleton-loader v-show=\"\n                        !bookingDetails.hasOwnProperty('booking')\n                      \" height=\"40px\" max-width=\"200\" type=\"heading\"></v-skeleton-loader>\n                      <span class=\"grey--text text--darken-1 time_ago\" v-show=\"\n                        exitDateTime > 0\n                      \">{{ countDownExitTime }}</span>\n                    </v-col>\n                    <v-col cols=\"12\" v-if=\"\n                      exitDateTime > 0\n                    \">\n                      <span class=\"grey--text text--darken-1 time_ago_context\">Remaining</span>\n                    </v-col>\n                  </v-row>\n                </v-col>\n              </v-row>\n              <!-- <v-row no-gutters class=\"mt-0\">  \n              <v-col cols=\"1\">\n                    <v-icon class=\"material-icons-outlined\">history_toggle_off</v-icon>\n                </v-col>\n                <v-col>\n                <p style=\"font-size:x-large;font-weight: bold;\" class=\"mb-0\">{{countDownExitTime}}</p>\n                <p class=\"mb-0\" style=\"font-size:12px\" >Remaining</p>\n              </v-col>\n                      </v-row> -->\n\n              <v-row no-gutters class=\"text-center mt-4\">\n                <v-col cols=\"12\">\n                  <p class=\"mb-0\">Expires at {{ formattedExitTime }}</p>\n                </v-col>\n              </v-row>\n\n              <v-row no-gutters class=\"mt-5\">\n                <v-col cols=\"6\" class=\"text-left\">\n                  <p style=\"font-weight: bold;color:#F2555C;font-size:15px\">\n                    Purchase Total <sup>*</sup>\n                  </p>\n                </v-col>\n                <v-spacer></v-spacer>\n                <v-col cols=\"4\" class=\"text-left\">\n                  <p style=\"font-size: small;font-weight: bold;color:#F2555C\" class=\" text-right\">\n                    {{ bookingDetails.hasOwnProperty(\"booking\") &&\n                      bookingDetails.booking.hasOwnProperty(\"estimatedTotal\") ? '$ ' + bookingDetails.booking.estimatedTotal\n                      :\n                      '-' }}\n\n                  </p>\n                </v-col>\n                <p class=\"ma-0 pa-0\">\n                  *Includes validated or extended parking\n                </p>\n              </v-row>\n              <v-row no-gutters align=\"center\" class=\"my-2\">\n                <v-col cols=\"12\" class=\"pa-0 align-self-center text-center\">\n                  <v-btn class=\"elevation-0 white--text\" tile x-small color=\"green darken-2\" v-show=\"\n                    bookingDetails.hasOwnProperty('booking') &&\n                    bookingDetails.booking.hasOwnProperty('validated') &&\n                    bookingDetails.booking.validated == '1'\n                  \">VALIDATED</v-btn>\n                </v-col>\n              </v-row>\n            </v-container>\n          </v-card-text>\n\n          <v-card-text :style=\"'height:' + windowHeight + 'px'\" v-else-if=\"exitDateTime < 0\">\n            <v-row class=\"text-center mt-2\">\n              <v-col cols=\"12\" class=\"black--text\">\n                <p class=\"text-body-2 font-weight-bold\">Checkout In Progress</p>\n              </v-col>\n            </v-row>\n            <v-row no-gutters class=\"mx-0\">\n              <v-col class=\"pa-1\">\n                <p class=\"black--text\">\n                  {{\n                    bookingDetails.hasOwnProperty(\"booking\")\n                    ? bookingDetails.booking.header\n                    : \"\"\n                  }}\n                </p>\n              </v-col>\n            </v-row>\n            <v-row no-gutters>\n              <v-col cols=\"\" class=\"align-self-center text-center\" v-show=\"\n                bookingDetails.hasOwnProperty('booking') &&\n                bookingDetails.booking.hasOwnProperty('TypeOfBooking') &&\n                bookingDetails.booking.TypeOfBooking == 'Monthly'\n              \">\n                <v-btn class=\"elevation-0 white--text\" tile x-small color=\"green darken-2\">Monthly</v-btn>\n              </v-col>\n              <v-col cols=\"\" class=\"align-self-center text-center\" v-show=\"\n                bookingDetails.hasOwnProperty('booking') &&\n                bookingDetails.booking.hasOwnProperty('TypeOfBooking') &&\n                bookingDetails.booking.TypeOfBooking == 'Employee'\n              \">\n                <v-btn class=\"elevation-0 white--text\" tile x-small color=\"green darken-2\">Employee</v-btn>\n              </v-col>\n            </v-row>\n            <v-row no-gutters class=\"mt-1 mx-0\"\n              v-if=\"bookingDetails.hasOwnProperty('booking') && bookingDetails.hasOwnProperty('zone') && bookingDetails.booking.vehicleNo != null && bookingDetails.booking.vehicleNo != ''\">\n              <v-col cols=\"4\" class=\"text-left pa-1\">\n                <p class=\"booking_date_header mb-0\">License Plate :</p>\n              </v-col>\n              <v-col class=\"text-right pa-1\">\n                <p class=\"booking_date mb-0\">\n                  {{ bookingDetails.hasOwnProperty(\"booking\") ? bookingDetails.booking.vehicleNo : \"\" }}\n                </p>\n              </v-col>\n            </v-row>\n            <v-row no-gutters class=\"mt-1 mx-0\">\n              <v-col cols=\"4\" class=\"text-left pa-1\">\n                <p class=\"booking_date_header mb-0\">Booked At :</p>\n              </v-col>\n              <v-col class=\"text-right pa-1\">\n                <p class=\"booking_date mb-0\">\n                  {{\n                    bookingDetails.hasOwnProperty(\"booking\") &&\n                    bookingDetails.booking.hasOwnProperty(\"entrytime\")\n                    ? formatDateTime(bookingDetails.booking.entrytime)\n                    : \"\"\n                  }}\n                </p>\n              </v-col>\n            </v-row>\n            <v-row no-gutters class=\"mx-0\">\n              <v-col cols=\"4\" class=\"text-left pa-1\">\n                <p class=\"booking_date_header\">Expired At :</p>\n              </v-col>\n              <v-col class=\"text-right pa-1\">\n                <p class=\"booking_date\">\n                  {{\n                    bookingDetails.hasOwnProperty(\"booking\") &&\n                    bookingDetails.booking.hasOwnProperty(\"exittime\")\n                    ? formatDateTime(bookingDetails.booking.exittime)\n                    : \"\"\n                  }}\n                </p>\n              </v-col>\n            </v-row>\n            <v-row no-gutters v-if=\"\n              bookingDetails.hasOwnProperty('booking') &&\n              bookingDetails.booking.state != '11'\n            \">\n              <v-col cols=\"12\" class=\" text-center \" style=\"font-size: 12px\">\n                <v-row no-gutters class=\"pt-2 px-3\">\n                  <v-col cols=\"4\" class=\"text-left\">\n                    <p style=\"font-size: small\" class=\"black--text\">\n                      Parking\n                    </p>\n                  </v-col>\n                  <v-spacer></v-spacer>\n                  <v-col cols=\"4\" class=\"text-left\">\n                    <p style=\"font-size: small\" class=\"black--text text-right\">\n                      {{ bookingDetails.hasOwnProperty(\"booking\") &&\n                        bookingDetails.booking.hasOwnProperty('estimatedPrice') ? \"$ \" +\n                      Number(bookingDetails.booking.estimatedPrice).toFixed(2) : \"-\" }}\n\n                    </p>\n                  </v-col>\n                </v-row>\n                <v-row no-gutters class=\"mt-0 px-3\">\n                  <v-col cols=\"4\" class=\"text-left\">\n                    <p style=\"font-size: small\" class=\"black--text\">\n                      Service Fee\n                    </p>\n                  </v-col>\n                  <v-spacer></v-spacer>\n                  <v-col cols=\"4\" class=\"text-left\">\n                    <p style=\"font-size: small\" class=\"black--text text-right\">\n                      {{ bookingDetails.hasOwnProperty(\"booking\") &&\n                        bookingDetails.booking.hasOwnProperty('estimatedFee') ? \"$ \" +\n                      Number(bookingDetails.booking.estimatedFee).toFixed(2) : \"-\" }}\n\n                    </p>\n                  </v-col>\n                </v-row>\n                <hr />\n                <v-row no-gutters class=\"mt-2 px-3\">\n                  <v-col cols=\"6\" class=\"text-left\">\n                    <p style=\"font-weight: bold;color:#F2555C;font-size:15px\">\n                      Purchase Total <sup>*</sup>\n                    </p>\n                  </v-col>\n                  <v-spacer></v-spacer>\n                  <v-col cols=\"4\" class=\"text-left\">\n                    <p style=\"font-size: small;font-weight: bold;color:#F2555C\" class=\" text-right\">\n                      {{ bookingDetails.hasOwnProperty(\"booking\") &&\n                        bookingDetails.booking.hasOwnProperty('estimatedTotal') ? \"$ \" +\n                      Number(bookingDetails.booking.estimatedTotal).toFixed(2) : \"-\" }}\n\n                    </p>\n                  </v-col>\n                  <p>\n                    *Includes state and local taxes of {{ bookingDetails.hasOwnProperty(\"booking\") &&\n                      bookingDetails.booking.hasOwnProperty('estimatedTax') ? \"$ \" +\n                    Number(bookingDetails.booking.estimatedTax).toFixed(2) : \"-\" }}\n\n                  </p>\n                </v-row>\n              </v-col>\n            </v-row>\n          </v-card-text>\n          <v-card-actions v-if=\"exitDateTime > 0\" class=\"text-center pt-0 mt-0 pb-10\">\n            <v-container class=\"pa-0\" fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"px-2\">\n                  <v-btn rounded elevation=\"0\" class=\"add_licence_plate_btn white--text\" @click=\"openExtDialog()\">Extend\n                    Parking</v-btn>\n                </v-col>\n              </v-row>\n              <v-row v-show=\"\n                bookingDetails.hasOwnProperty('booking') &&\n                bookingDetails.booking.hasOwnProperty('validated') &&\n                bookingDetails.booking.validated == '0'\n              \">\n                <v-col class=\"px-2\">\n                  <v-btn rounded elevation=\"0\" dense width=\"65%\" @click=\"openValidationDialog()\"\n                    class=\"validate_btn white--text blue darken-2 no-upper-case\">Apply Your Validation</v-btn>\n                </v-col>\n              </v-row>\n\n              <!-- QR code Dialog -->\n\n              <v-dialog v-model=\"validateQRCodeDialog\" width=\"fit-content\" persistent>\n                <v-card>\n                  <v-card-title>\n                    <v-spacer></v-spacer>\n                    <v-icon @click=\"closeValidationQRDialog()\">mdi-close</v-icon>\n                  </v-card-title>\n                  <v-card-text class=\"pa-1\">\n                    <validation-qr-code-scanner :scan=\"'validationCode'\" v-bind:qrbox=\"250\" v-bind:fps=\"30\"\n                      :cameraStatus=\"validationCameraStatus\"></validation-qr-code-scanner>\n                    <v-progress-circular v-if=\"!validationCameraStatus\" class=\"validation-pending\" indeterminate\n                      color=\"red\"></v-progress-circular>\n                  </v-card-text>\n                  <v-card-actions>\n                    <v-container class=\"pa-0\" fluid>\n                      <v-row no-gutters>\n                        <v-col cols=\"7\">\n                          <p class=\"grey--text font-weight-bold qr_text mr-4\">Please scan the validation QR code</p>\n                        </v-col>\n                        <v-spacer></v-spacer>\n                        <v-img src=\"../assets/qr-code.png\" style=\"opacity: 0.7\" max-width=\"52\"></v-img>\n                      </v-row>\n                    </v-container>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n\n              <!-- Overall validate booking Dialog -->\n\n              <v-dialog v-model=\"validateBookingDialog\" width=\"fit-content\">\n                <v-card class=\"pa-0\" ref=\"validatecontainer\">\n                  <v-card-title class=\"justify-center\" style=\"position: relative\">\n                    <v-btn class elevation=\"0\" color=\"white\" dark fab large>\n                      <v-icon x-large color=\"red accent-2\">mdi-ticket-percent</v-icon>\n                    </v-btn>\n                  </v-card-title>\n                  <v-card-text class=\"pa-0\">\n                    <v-container class=\"px-4 py-0\" fluid>\n                      <v-row no-gutters>\n                        <v-col cols=\"12\" class=\"text-left\">\n                          <p class=\"color-black text-center\" style=\"font-size: 24px; line-height: 35px\">\n                            If the Merchant provided you a validation code, you may scan\n                            it or enter it here.\n                          </p>\n                        </v-col>\n                        <v-col cols=\"12\">\n                          <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                            @click=\"openScanValidationCode()\">Scan Validation Code</v-btn>\n                        </v-col>\n                        <v-col cols=\"12\" class=\"text-left mt-4\">\n                          <p class=\"color-black\" style=\"font-size: 24px; line-height: 35px\">or enter it below</p>\n                        </v-col>\n                        <v-col cols=\"12\">\n                          <v-text-field class=\"sms-input\" color=\"red\" v-model=\"validateBookingTxt\" outlined\n                            label=\"Validation code\" hide-details=\"auto\" v-on:keyup.enter=\"validateBooking()\"\n                            @focus=\"scrollToValidateBtn()\" @mouseup=\"scrollToValidateBtn()\"\n                            @keydown=\"scrollToValidateBtn()\" clearable height=\"80px\"></v-text-field>\n                        </v-col>\n                      </v-row>\n                    </v-container>\n                    <v-progress-circular v-if=\"validateBookingPending\" class=\"validation-pending\" indeterminate\n                      color=\"red\"></v-progress-circular>\n                  </v-card-text>\n                  <v-card-actions class=\"text-center\">\n                    <v-container pa-0 fluid>\n                      <v-row no-gutters>\n                        <v-col cols=\"12\">\n                          <v-btn id=\"validatebookingbtn\" rounded block elevation=\"0\" :disabled=\"\n                            validateBookingTxt == '' ||\n                            validateBookingTxt == null ||\n                            validateBookingPending\n                          \" class=\"white--text exit_dialog_btn\" @click=\"onValidateText()\">SUBMIT</v-btn>\n                        </v-col>\n                        <v-col cols=\"12\" class=\"mt-2\">\n                          <p style=\"cursor: pointer\" @click=\"validateBookingDialog = false\">Close</p>\n                        </v-col>\n                      </v-row>\n                    </v-container>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n              <v-dialog v-model=\"invalidValidationQRDialog\" persistent max-width=\"290\">\n                <v-card class=\"pa-0\">\n                  <v-card-title class=\"justify-center\" style=\"position: relative\">\n                    <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n                  </v-card-title>\n                  <v-card-text class=\"text-center mt-5\">\n                    <span style=\"font-size: 20px\">{{ invalidValidationQRMsg }}</span>\n                  </v-card-text>\n                  <v-card-actions class=\"text-center pb-6\">\n                    <v-container pa-0 fluid>\n                      <v-row no-gutters>\n                        <v-col cols=\"12\">\n                          <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                            @click=\"reScanValidationQR()\">Re-Scan Code</v-btn>\n                        </v-col>\n                      </v-row>\n                    </v-container>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n              <v-dialog v-model=\"extensionDialog\" width=\"fit-content\">\n                <v-card>\n                  <v-card-text>\n                    <v-row no-gutters>\n                      <v-col>\n                        <v-row class=\"text-center mt-3\" no-gutters>\n                          <v-col>\n                            <p class=\"black--text\" style=\"font-weight:bold\">Choose Time</p>\n                            <p>Expires at {{ formattedExitTime }}</p>\n                          </v-col>\n                        </v-row>\n                        <v-row no-gutters>\n                          <v-col cols=\"1\" class=\"text-right align-self-center py-5\">\n                            <v-icon class=\"material-icons-outlined\">calendar_month</v-icon>\n                          </v-col>\n                          <v-col cols=\"11\" class=\"px-2\">\n                            <v-text-field v-model=\"computedDateFormatted\" @click=\"() => { openDatePicker = true }\"\n                              hide-details=\"auto\" readonly></v-text-field>\n                            <v-dialog v-model=\"openDatePicker\" max-width=\"450px\">\n                              <v-card style=\"background-color: #F2555C;color: white;\"><v-card-title>\n                                  <v-row no-gutters>\n                                    <v-col class=\"text-left\" cols=\"12\">\n                                      <span style=\"font-size:15px;color: #fabbbe;\">{{ time !== null && time !== \"\" ?\n                                        formattedYear : \"\" }}</span>\n                                    </v-col>\n                                    <v-col>\n                                      <span style=\"font-size:30px\"> {{ time !== null && time !== \"\" ? formattedDateTime :\n                                        \"\"\n                                      }}</span>\n                                    </v-col>\n                                  </v-row>\n                                </v-card-title></v-card>\n                              <Calendar inline class=\"text-left\" value :stepMinute=\"15\" hourFormat=\"12\" :minDate=\"minDate\"\n                                @date-select=\"onTimePickerChange\" :maxDate=\"maxDate\" v-model=\"time\" />\n                            </v-dialog>\n                          </v-col>\n                        </v-row>\n\n                        <v-row no-gutters>\n                          <v-col cols=\"1\" class=\"text-right align-self-center\">\n                            <v-icon class=\"material-icons-outlined\">schedule</v-icon>\n                          </v-col>\n                          <v-col cols=\"11\" class=\"px-3\">\n                            <v-row>\n                              <v-col>\n                                <!-- <vue-time-picker auto-scroll hide-disabled-items :minute-interval=\"15\"\n                                  v-model=\"exitTimeSelected\" hide-clear-button @open=\"onOpen()\" hour-label=\"Hour\"\n                                  minute-label=\"Minute\" apms-label=\"\" class=\"time-picker-input\" input-width=\"100%\"\n                                  drop-direction=\"up\" placeholder=\"Choose Time *\" format=\"hh:mm a\"\n                                  :hour-range=\"timePickerHrRange\" :minute-range=\"timePickerMinRange\"\n                                  @change=\"onTimePickerChange\"></vue-time-picker> -->\n                                <v-text-field v-model=\"formattedTime\" @click=\"openTimePicker = true\"\n                                  readonly></v-text-field>\n                                <v-dialog v-model=\"openTimePicker\" max-width=\"320px\" class=\"pa-0\"\n                                  @click:outside=\"() => { setDefaultDate(); onTimePickerChange() }\">\n                                  <v-card><v-card-title style=\"background-color: #F2555C;color: white;\">What time will you\n                                      exit?</v-card-title>\n                                    <Calendar inline show-time time-only class=\"text-left \" value :stepMinute=\"15\"\n                                      selection-mode=\"single\" hourFormat=\"12\" :minDate=\"minDate\" :maxDate=\"maxDate\"\n                                      v-model=\"time\" />\n                                  </v-card>\n\n                                </v-dialog>\n                              </v-col>\n                            </v-row>\n                          </v-col>\n                        </v-row>\n                        <v-container fluid pa-0 v-if=\"estimate != null && Object.keys(estimate).length != 0\"> <v-row\n                            no-gutters class=\"pt-2 px-2\">\n                            <v-col cols=\"4\" class=\"text-left\">\n                              <p style=\"font-size: small\" class=\"black--text\">\n                                Parking\n                              </p>\n                            </v-col>\n                            <v-spacer></v-spacer>\n                            <v-col cols=\"4\" class=\"text-left\">\n                              <p style=\"font-size: small\" class=\"black--text text-right\">\n                                {{ estimate.hasOwnProperty(\"totalPrice\") ? \"$ \" + estimate.totalPrice.toFixed(2) : \"-\" }}\n\n                              </p>\n                            </v-col>\n                          </v-row>\n                          <v-row no-gutters class=\"mt-0 px-2\">\n                            <v-col cols=\"4\" class=\"text-left\">\n                              <p style=\"font-size: small\" class=\"black--text\">\n                                Service Fee\n                              </p>\n                            </v-col>\n                            <v-spacer></v-spacer>\n                            <v-col cols=\"4\" class=\"text-left\">\n                              <p style=\"font-size: small\" class=\"black--text text-right\">\n                                {{ estimate.hasOwnProperty(\"totalFee\") ? \"$ \" + estimate.totalFee.toFixed(2) : \"-\" }}\n                              </p>\n                            </v-col>\n                          </v-row>\n                          <hr />\n                          <v-row no-gutters class=\"mt-2 px-2\">\n                            <v-col cols=\"6\" class=\"text-left\">\n                              <p style=\"font-weight: bold;color:#F2555C;font-size:15px\">\n                                Purchase Total <sup>*</sup>\n                              </p>\n                            </v-col>\n                            <v-spacer></v-spacer>\n                            <v-col cols=\"4\" class=\"text-left\">\n                              <p style=\"font-size: small;font-weight: bold;color:#F2555C\" class=\" text-right\">\n                                {{ estimate.hasOwnProperty(\"grandTotal\") ? \"$ \" + estimate.grandTotal.toFixed(2) : \"-\" }}\n\n                              </p>\n                            </v-col>\n                            <p>\n                              *Includes state and local taxes of {{ estimate.hasOwnProperty(\"totalTax\") ? \"$ \" +\n                                estimate.totalTax.toFixed(2) : \"-\" }}\n                            </p>\n                          </v-row>\n                        </v-container>\n                      </v-col>\n                    </v-row>\n                  </v-card-text>\n                  <v-card-actions class=\"text-center pt-0 mt-0 pb-10\">\n                    <v-container class=\"pa-0\" fluid>\n                      <v-row no-gutters>\n                        <v-col cols=\"12\" class=\"px-2\">\n                          <v-btn rounded elevation=\"0\" :loading=\"extendBtnLoading\" :disabled=\"disableExtend\"\n                            @click=\"extendSession\" class=\"add_licence_plate_btn white--text\">Extend</v-btn>\n                        </v-col>\n                      </v-row>\n                    </v-container>\n                  </v-card-actions>\n                </v-card>\n              </v-dialog>\n            </v-container>\n          </v-card-actions>\n        </v-card>\n      </v-col>\n    </v-row>\n    <v-dialog v-model=\"alertDialog\" persistent max-width=\"290\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\" style=\"position: relative\">\n          <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">{{ alertMsg }}</span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"alertDialog = false\">Close</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n  \n<script>\nimport Vue from 'vue';\nimport { mapGetters } from \"vuex\";\n// import { addMinutes } from 'date-fns';\nimport { EventBus } from \"@/lib/EventBus\";\nimport Calendar from '../uiComponents/Calendar/Calendar';\nimport APIHelper from \"../apiHelper\";\n// import axios from \"axios\";\nimport \"primevue/resources/themes/saga-blue/theme.css\"       //theme\nimport \"primevue/resources/primevue.min.css\"                 //core css\nimport \"primeicons/primeicons.css\"                           //icons\n// import QrCodeScanner from \"@/views/QrCodeScanner.vue\";\nimport { format, isValid } from \"date-fns\";\nimport { dateToTimeZoneDate } from \"@/utils/formatDateTime\";\nimport { secondsToHms } from \"@/utils/formatDateTime\";\n// import {formatDateTime} from \"@/utils/formatDateTime\";\nimport ValidationQrCodeScanner from \"@/views/ValidationQrCodeScanner.vue\";\n// import VueTimePicker from '@/uiComponents/VueTimePicker';\nimport rules from \"@/utils/rules\";\nimport moment from \"moment\";\nVue.use(moment);\nexport default {\n  data: () => ({\n    alertDialog: false,\n    openTimePicker: false,\n    openDatePicker: false,\n    minTimeDate: null,\n    maxTimeDate: null,\n    loading: false,\n    alertMsg: \"\",\n    extendBtnLoading: false,\n    getRateCall: false,\n    windowHeight: window.innerHeight - 350,\n    estimate: null,\n    stopTime: \"\",\n    exitTimeSelected: null,\n    timePickerHrRange: null,\n    timePickerMinRange: null,\n    minDate: null,\n    maxDate: null,\n    maxDateTime: null,\n    Datemenu: false,\n    exitDate: null,\n    dateFormatted: null,\n    validateBookingTxt: '',\n    validateBookingDialog: false,\n    validateBookingPending: false,\n    validateQRCodePending: false,\n    validateQRCodeDialog: false,\n    camera: \"auto\",\n    invalidQRMsg: \"\",\n    invalidValidationQRMsg: \"\",\n    invalidValidationQRDialog: false,\n    invalidSMSMsg: \"\",\n    cameraStatus: false,\n    validationCameraStatus: false,\n    time: '',\n    Timemenu: false,\n    rules: rules,\n    licencePlate: '',\n    extensionDialog: false,\n    exitDateTime: 0\n  }),\n  components: {\n    ValidationQrCodeScanner, Calendar\n  },\n  beforeRouteEnter(to, from, next) {\n    next((vm) => {\n      let searchParams = window.location.search.split(\"=\");\n      let searchParamKey = searchParams.length > 0 ? searchParams[0] : \"\";\n      let searchParamValue = searchParams.length > 0 ? searchParams[1] : \"\";\n      switch (searchParamKey) {\n        case \"?zcode\":\n          vm.getZoneDetails(searchParamKey, searchParamValue);\n          break;\n        case \"?gateid\":\n          //await self.getZoneDetails(searchParamKey, searchParamValue);\n          break;\n      }\n    });\n  },\n  methods: {\n    round(time) {\n      let exitdate = time !== null && time !== '' ? format(time, 'yyyy/MM/dd') : new Date();\n      let selectedMins = time !== null && time !== '' ? format(time, 'mm') : new Date();\n      let selectedHours = time !== null && time !== '' ? format(time, 'hh') : new Date();\n      let selectedAMPM = time !== null && time !== '' ? format(time, 'a') : new Date();\n      if (exitdate != null && selectedMins != '15' && selectedMins != '30' && selectedMins != '45' && selectedMins != '00' && selectedMins != null && selectedMins != \"\" && selectedHours != null && selectedHours != \"\" && selectedAMPM != null && selectedAMPM != \"\") {\n        let intervalMilliseconds = 900000\n        let datetime = new Date(exitdate + \" \" + selectedHours + \":\" + selectedMins + \" \" + selectedAMPM)\n        let interval = datetime.getTime() % intervalMilliseconds;\n        let delta = interval === 0 ? 0 : datetime.getTime() - interval;\n        delta += intervalMilliseconds;\n        // this.exitTimeSelected = Object.assign(this.exitTimeSelected, { hh: format(new Date(delta), 'hh'), mm: format(new Date(delta), 'mm'), a: format(new Date(delta), 'a'), })\n        return new Date(delta)\n      }\n    },\n    async extendSession() {\n      try {\n        //format(new Date(this.checkinDate), \"yyyy-MM-dd'T'HH:mm:ss\");\n        this.extendBtnLoading = true;\n        let exitDateTime = this.time != null || this.time !== undefined || this.time != \"\" ?\n          format(this.time, 'yyyy/MM/dd')\n          +\n          \" \" +\n          format(this.time, 'hh:mm a') : \"\"\n        let data = {\n          bid: this.bookingDetails?.booking?.bid,\n          extendedTime: format(new Date(exitDateTime), \"yyyy-MM-dd HH:mm:ss\")//\"2022-12-29T02:26:00.000\",\n        };\n        var extendSessionRes = await APIHelper(\n          \"POST\",\n          \"/api/v1/prepaid/extendReservation\", data\n        );\n        if (extendSessionRes?.data?.message == \"Successfully updated!!\") {\n          await this.getBookingDetails();\n          this.extendBtnLoading = false;\n          this.extensionDialog = false;\n        } else {\n          this.alertDialog = true;\n          this.alertMsg = extendSessionRes?.data?.message || \"Error in extending the session\"\n        }\n\n      } catch (error) {\n        this.extendBtnLoading = false;\n        console.log(error);\n      }\n    },\n    async getBookingDetails() {\n      try {\n        var bookingDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/booking/config/\" + this.bookingId\n        );\n        // bookingDetails.data.serverName == 'dev' ? document.querySelector('meta[name=\"theme-color\"]').setAttribute(\"content\", \"#43A047\") : \"\";\n        this.$store.commit(\n          \"SET_BOOKING_DETAILS\",\n          bookingDetails.data?.data ? bookingDetails.data.data : null\n        );\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async dateTimeChange() {\n      try {\n        //format(new Date(this.checkinDate), \"yyyy-MM-dd'T'HH:mm:ss\");      console.log()\n        if (this.stopTime != null && this.stopTime != \"\") {\n          this.extendBtnLoading = true;\n          this.startDate = this.bookingDetails?.booking?.entrytime\n            ? format(new Date(this.formatExitDateTime(this.bookingDetails?.booking?.entrytime,'date')),\"yyyy-MM-dd'T'HH:mm:ss\")\n            : format(new Date(), \"yyyy-MM-dd'T'HH:mm:ss\");\n          let stopTime = this.stopTime; //?.hh+\":\"+this.exitTimeSelected.mm+\":00\"//format(this.checkoutDate, \"yyyy-MM-dd'T'HH:mm:ss\");\n          let exitdate = this.time !== null && this.time !== \"\" && this.time !== undefined ? format(this.time, 'yyyy-MM-dd') : \"\";\n          let stopDate = exitdate + \"T\" + stopTime;\n          let data = {\n            startAt: this.startDate,\n            stopAt: stopDate,\n            zcode: this.bookingDetails?.zone?.locationCode,\n            bid: this.bookingDetails.booking.bid\n          };\n          var getRate = await APIHelper(\n            \"POST\",\n            \"/api/v2/getRate\", data\n          );\n          if (getRate?.data?.status == false) {\n            this.alertDialog = true;\n            this.alertMsg = getRate?.data?.message || \"Error in getting rate details\";\n            EventBus.$emit('datetime-set');\n          } else {\n            this.estimate = Object.assign({}, getRate?.data?.data);\n            EventBus.$emit('datetime-set');\n            this.openDatePicker = false;\n            this.openTimePicker = false;\n          }\n          this.extendBtnLoading = false;\n        }\n      } catch (error) {\n        this.extendBtnLoading = false;\n        console.log(error);\n      }\n    },\n    async openExtDialog() {\n      this.loading = true\n      var zoneDetails = await APIHelper(\n        \"GET\",\n        \"/api/v1/getOnDemand/\" + this.bookingDetails?.zone?.locationCode,\n      );\n      this.loading = false\n      this.extensionDialog = true;\n      // await axios.get(\n      //   process.env.VUE_APP_ON_DEMAND_URL + \"/\" + \"32899\"+ \".json\"\n      // );\n      this.$store.commit(\"SET_ON_DEMAND_ZONE_DETAILS\", zoneDetails.data?.lot);\n      this.setDefaultDate();\n      this.setDatePicker()\n      // this.setTimePicker();\n      this.extendBtnLoading = false;\n    },\n\n    setDefaultDate() {\n      //the exit date value for the extended time\n      this.exitDate = this.bookingDetails?.booking?.exittime ? this.formatUTCDefaultDate(this.bookingDetails?.booking?.exittime\n        , 'exit') : \"\";\n      //formatted exit date value to display\n      this.dateFormatted =\n        this.bookingDetails?.booking?.exittime ? this.formatUTCDefaultDate(this.bookingDetails?.booking?.exittime\n          , 'format') : \"\";\n      this.time = new Date(this.formatExitDateTime(this.bookingDetails?.booking?.exittime, 'date'))\n\n    },\n    onTimePickerChange() {\n      let exitdate = this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'yyyy/MM/dd') : \"\";\n      let selectedMins = this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'mm') : \"\";\n      let selectedHours = this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'hh') : \"\";\n      let selectedAMPM = this.time !== null && this.time !== undefined && this.time !== \"\" ? format(this.time, 'a') : \"\";\n      if (selectedAMPM == \"PM\" && Number(selectedHours) < 12) {\n        selectedHours = (Number(selectedHours) + 12).toString();\n        selectedHours = selectedHours === '0' ? selectedHours = '00' : selectedHours;\n\n      }\n      if (selectedAMPM == \"AM\" && Number(selectedHours) == 12) {\n        selectedHours = (Number(selectedHours) - 12).toString()\n        selectedHours = selectedHours === '0' ? selectedHours = '00' : selectedHours;\n      }\n      this.stopTime = selectedMins != null && selectedMins != \"\" && selectedHours != null && selectedHours != \"\" && selectedAMPM != null && selectedAMPM != \"\" ? selectedHours + \":\" + selectedMins + \":\" + \"00\" : \"\";\n      let currenTime = this.bookingDetails.zone.timezone\n        ? format(\n          dateToTimeZoneDate(new Date(), this.bookingDetails.zone.timezone),\n          \"yyyy-MM-dd HH:mm:ss\"\n        )\n        : format(new Date(), \"yyyy-MM-dd  HH:mm:ss\");\n      // let currentDate = this.bookingDetails.zone.timezone\n      //   ? format(\n      //     dateToTimeZoneDate(new Date(), this.bookingDetails.zone.timezone),\n      //     \"yyyy-MM-dd\"\n      //   )\n      //   : format(new Date(), \"yyyy-MM-dd\");\n      if (\n        exitdate != null && exitdate !== \"\" && exitdate !== \"\" && selectedMins != null && selectedMins != \"\" && selectedHours != null && selectedHours != \"\" && selectedAMPM != null && selectedAMPM != \"\" &&\n        new Date(exitdate + \" \" + this.stopTime).getTime() >\n        new Date(currenTime).getTime()\n      ) {\n        this.dateTimeChange();\n      }\n    },\n    setDatePicker() {\n      this.minDate = this.bookingDetails.zone.timezone\n        ?\n        new Date(this.formatExitDateTime(this.bookingDetails?.booking?.exittime, 'date'))\n        :\n        dateToTimeZoneDate(\n          new Date(Number(this.bookingDetails?.booking?.exittime) * 1000 - Number(this.bookingDetails.zone.timezoneoffset) * 1000)\n          , this.bookingDetails.zone.timezone\n        );\n      let maxParkingTime =\n        this.onDemandZoneDetails != null\n          ? Number(this.onDemandZoneDetails.maxParkingTime.days) *\n          24 *\n          60 *\n          60 +\n          Number(this.onDemandZoneDetails.maxParkingTime.hours) * 60 * 60 +\n          Number(this.onDemandZoneDetails.maxParkingTime.minutes) * 60\n          : null;\n      let currentDateTime = new Date().getTime();\n      let maxZoneDate =\n        maxParkingTime != null ? currentDateTime + maxParkingTime * 1000 : null;\n      this.maxDate = this.bookingDetails.zone.timezone\n        ?\n        dateToTimeZoneDate(\n          new Date(maxZoneDate),\n          this.bookingDetails.zone.timezone\n        )\n        : new Date(maxZoneDate)\n\n      this.maxDateTime = this.bookingDetails.zone.timezone\n        ? format(\n          dateToTimeZoneDate(\n            new Date(maxZoneDate),\n            this.bookingDetails.zone.timezone\n          ),\n          \"yyyy-MM-dd\"\n        )\n        : format(new Date());\n    },\n    // setTimePicker(val) {\n    // let currentTimeMeridian = this.onDemandZoneDetails.timeZone\n    //   ? format(\n    //       dateToTimeZoneDate(\n    //         addMinutes(new Date(), 15),\n    //         this.onDemandZoneDetails.timeZone\n    //       ),\n    //       \"aaa\"\n    //     )\n    //   : format(new Date(), \"aaa\");\n    // let currentHr = this.onDemandZoneDetails.timeZone\n    //   ? format(\n    //       dateToTimeZoneDate(\n    //         addMinutes(new Date(), 15),\n    //         this.onDemandZoneDetails.timeZone\n    //       ),\n    //       \"h\"\n    //     )\n    //   : format(new Date(), \"h\");\n    // console.log(currentHr)\n\n    //get the todays current zone time\n    // let exitdatehour = this.formatExitDateTime(this.bookingDetails.booking.exittime, 'hour')\n    // let exitdatemins = this.formatExitDateTime(this.bookingDetails.booking.exittime, 'mins')\n    // let exitdatetime = this.formatExitDateTime(this.bookingDetails.booking.exittime, 'date')\n\n    // let currentTime = this.bookingDetails.zone.timezone\n    //   ? format(\n    //     dateToTimeZoneDate(\n    //       new Date(),\n    //       this.bookingDetails.zone.timezone\n    //     ),\n    //     \"haaaaa\"\n    //   )\n    //   : format(new Date(), \"haaaaa\");\n    //set the hr range\n    // if (\n    //   this.exitDate ==\n    //   format(\n    //     new Date(exitdatetime),\n    //     \"yyyy-MM-dd\"\n    //   )\n    // ) {\n    //   this.timePickerHrRange = [\n    //     [exitdatehour == \"12a\" ? \"0a\" : exitdatehour, \"11p\"],\n    //   ];\n    // }\n    // if maxdate == exit date\n    // else if (\n    //   this.maxDateTime != null &&\n    //   this.maxDateTime.split(\" \")[0] == this.exitDate\n    // ) {\n    //   console.log(this.maxDateTime)\n    //   let time = this.maxDateTime.split(\" \")[1];\n    //   let hr = time.split(\":\")[0] + this.maxDateTime.split(\" \")[2];\n    //   hr == \"12a\"\n    //     ? \"0a\"\n    //     : time.split(\":\")[0] + this.maxDateTime.split(\" \")[2];\n    //   this.timePickerHrRange = [[\"0a\", hr]];\n    // }\n\n    // else {\n    //   this.timePickerHrRange = null;\n    // }\n\n    // let hrInPM = this.bookingDetails.zone.timezone\n    //   ? format(\n    //     new Date(exitdatetime),\n    //     \"hhaaa\"\n    //   )\n    //   : format(new Date(exitdatetime), \"hhaaa\");\n    //set the min range\n\n    // if (\n    //         this.exitDate ==\n    //         format(\n    //           new Date(exitdatetime),\n    //           \"yyyy-MM-dd\"\n    //         ) &&\n    //         val != null &&\n    //         hrInPM == val?.hh + val.a\n    //       ) {\n    //         this.timePickerMinRange = [\n    //           [\n    //             this.bookingDetails.zone.timezone\n    //               ? (\n    //                 format(\n    //                   new Date(exitdatetime),\n    //                   \"mm\"\n    //                 )\n    //               )\n    //               : format(new Date(exitdatetime), \"mm\"),\n    //             59,\n    //           ],\n    //         ];\n    //       }      \n    // else if (\n    //   this.maxDateTime != null &&\n    //   this.maxDateTime.split(\" \")[0] == this.exitDate\n    // ) {\n    //   let time = this.maxDateTime.split(\" \")[1];\n    //   let hr = time.split(\":\")[0] + this.maxDateTime.split(\" \")[2];\n    //   if (val != null && hr == val?.hh + val.a[0]) {\n    //     let min = time.split(\":\")[1];\n    //     this.timePickerMinRange = [[0, min]];\n    //   } else {\n    //     this.timePickerMinRange = [[0, 59]];\n    //   }\n    //   // // } \n    //   // else {\n    //   //   this.timePickerMinRange = [[0, 59]];\n    //   // }\n    //   // if (\n    //   //   this.exitTimeSelected == null &&\n    //   //   this.bookingDetails?.booking?.timezone != undefined\n    //   // ) {\n    //   //   this.timePickerHrRange = [];\n    //   //   this.timePickerMinRange = [];\n    //   //   return;\n    //   // } else if (this.exitTimeSelected?.hh == \"\") {\n    //   //   this.timePickerMinRange = [];\n    //   // }\n    // },\n    // onOpen() {\n    //   this.setTimePicker(this.exitTimeSelected);\n    // },\n    reScanValidationQR() {\n      this.invalidValidationQRDialog = false;\n      this.validationCameraStatus = true;\n    },\n    closeValidationQRDialog() {\n      this.validationCameraStatus = false;\n      this.validateBookingDialog = true;\n      this.validateQRCodeDialog = false;\n    },\n    scrollToValidateBtn() {\n      const el = document.querySelector(\"#validatebookingbtn\");\n      if (el) {\n        el.scrollIntoView(this.options);\n      }\n    },\n    async openScanValidationCode() {\n      this.validateBookingDialog = false;\n      this.validateBookingTxt = \"\";\n      this.validateQRCodeDialog = true;\n      this.validationCameraStatus = true;\n    },\n    async onValidateQRCode(decodedString) {\n      this.validationCameraStatus = false;\n      this.validateQRCodePending = true;\n      try {\n        let result = await this.validateBooking(decodedString);\n        if (!result.data.status) {\n          this.invalidValidationQRMsg = result?.data?.message\n            ? result.data.message\n            : \"Validation not recognized. Please try again\";\n          this.invalidValidationQRDialog = true;\n          this.validateQRCodePending = false;\n          this.postToLoggerAPI({\n            phone: this.bookingDetails.user.contact,\n            refId: this.bookingId,\n            error: this.invalidQRMsg,\n            icon: \"redeem\",\n            statusText:\n              \"Error in validating the session on scanning validation QR - \" +\n              decodedString,\n          });\n        } else {\n          this.postToLoggerAPI({\n            phone: this.bookingDetails.user.contact,\n            refId: this.bookingId,\n            icon: \"redeem\",\n            statusText:\n              \"Parker validated the session successfully by scanning validation QR - \" +\n              decodedString,\n          });\n          this.validateQRCodePending = false;\n          this.validateQRCodeDialog = false;\n          this.$store.commit(\n            \"SET_VALIDATED_MERCHANT\",\n            result?.data?.merchantName\n          );\n          this.$router.replace({ path: \"/validatesuccess\" });\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    async onValidateText() {\n      this.validateBookingPending = true;\n      let result = await this.validateBooking(this.validateBookingTxt);\n      if (!result.data.status) {\n        this.alertMsg = result?.data?.message\n          ? result.data.message\n          : \"Validation not recognized. Please try again\";\n        this.alertDialog = true;\n        this.validateBookingPending = false;\n        this.postToLoggerAPI({\n          phone: this.bookingDetails.user.contact,\n          refId: this.bookingId,\n          error: this.invalidSMSMsg,\n          icon: \"redeem\",\n          statusText:\n            \"Error in validating the session on entering validation code - \" +\n            this.validateBookingTxt,\n        });\n      } else {\n        this.postToLoggerAPI({\n          phone: this.bookingDetails.user.contact,\n          refId: this.bookingId,\n          icon: \"redeem\",\n          statusText:\n            \"Parker validated the session successfully by entering validation code - \" +\n            this.validateBookingTxt,\n        });\n        this.validateBookingPending = false;\n        this.validateBookingDialog = false;\n        this.$store.commit(\n          \"SET_VALIDATED_MERCHANT\",\n          result?.data?.merchantName\n        );\n        this.$router.replace({ path: \"/validatesuccess\" });\n      }\n    },\n    async validateBooking(code) {\n      try {\n        let validateResult = await APIHelper(\n          \"POST\",\n          \"/api/v1/validate/\" + this.bookingId,\n          {\n            coupon: code,\n            zid: this.bookingDetails.zone.locationCode\n          }\n        );\n        return validateResult;\n      } catch (error) {\n        console.log(error);\n        return error;\n      }\n    },\n    openValidationDialog() {\n      this.validateBookingDialog = true;\n    },\n    addPayment() {\n      this.$router.replace({ path: 'addpayment' })\n    },\n    formatDate(date) {\n      if (!date) return null\n\n      const [year, month, day] = date.split('-')\n      return `${month}/${day}/${year}`\n    },\n    parseDate(date) {\n      if (!date) return null\n\n      const [month, day, year] = date.split('/')\n      return `${year}-${month.padStart(2, '0')}-${day.padStart(2, '0')}`\n    },\n    uppercase() {\n      this.licencePlate = this.licencePlate.toUpperCase();\n    },\n    /**\n* @method getZoneDetails fetch the zone details and commit SET_ZONE_DETAILS mutation.\n*/\n    async getZoneDetails(searchParamKey, searchParamValue) {\n      try {\n        var zoneDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/user/config\" + searchParamKey + \"=\" + searchParamValue\n        );\n        this.$store.commit(\"SET_ZONE_DETAILS\", zoneDetails.data?.zone);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    calculateExitDateTime() {\n      if (this.bookingDetails?.zone?.timezone &&\n        this.bookingDetails?.booking?.entryMode == \"OD\") {\n        //   var currentTime =\n        // new Date().getTime() +\n        // (Number(this.bookingDetails.zone.timezoneoffset) * 1000 +\n        //   Number(this.bookingDetails.zone.timezonedstoffset) * 1000);\n        var currentTime =\n          new Date().getTime() +\n          (Number(this.bookingDetails.zone.timezoneoffset) * 1000 +\n            Number(this.bookingDetails.zone.timezonedstoffset) * 1000);\n        var exitTime =\n          Number(this.bookingDetails.booking.exittime) * 1000;\n        this.$store.commit(\"SET_EXIT_TIME_TIME_STATUS\", this.exitDateTime < 0);\n        exitTime - currentTime < 0\n          ? clearInterval(this.exitInterval)\n          : \"\";\n        return exitTime - currentTime;\n      }\n      return 0\n\n    },\n\n    /** @methods to find the the UTC date \n    @params the bookings date value , type 'exit (2023-12-02)' or 'formatdate (12/02/2023)'\n    */\n    formatUTCDefaultDate(defaultDate, type) {\n      let utcDate = new Date(defaultDate * 1000).toUTCString();\n      let month = utcDate.split(\",\")[1].split(\" \")[2]; // Jan\n      let date = utcDate.split(\",\")[1].split(\" \")[1]; // 27\n      let year = utcDate.split(\",\")[1].split(\" \")[3]; //2023\n      let exitformat = format(new Date(month + \" \" + date + \" \" + year), 'yyyy-MM-dd');\n      let dateformat = format(new Date(month + \" \" + date + \" \" + year), \"MM/dd/yyyy\");\n      return type === \"exit\" ? exitformat : dateformat;\n\n    },\n    formatExitDateTime(time, val) {\n      if (time !== null && time !== undefined && time != '') {\n        let utcDate = new Date(time * 1000).toUTCString(); //\"Wed, 27 Jan 2021 13:59:04 GMT\"\n        let month = utcDate.split(\",\")[1].split(\" \")[2]; // Jan\n        let date = utcDate.split(\",\")[1].split(\" \")[1]; // 27\n        let year = utcDate.split(\",\")[1].split(\" \")[3];\n        let hr = utcDate.split(\",\")[1].split(\" \")[4].split(\":\")[0]; // 13\n        let min = utcDate.split(\",\")[1].split(\" \")[4].split(\":\")[1]; //59\n        let formatHr = Number(hr) > 12 ? Number(hr) - 12 : Number(hr); // 1\n        formatHr = Number(formatHr) >= 10 ? Number(formatHr) : formatHr; //01\n        let amOrpm = Number(hr) >= 12 ? \"p\" : \"a\"; //PM\n        let ampm = Number(hr) >= 12 ? \"PM\" : \"AM\";\n        switch (val) {\n          case 'hour': {\n            return formatHr + amOrpm;\n          }\n          case 'mins': {\n            return min\n          }\n          case 'date': {\n            return month + \" \" + date + \", \" + year + \" \" + formatHr + \":\" + min + \" \" + ampm;\n          }\n        }\n      }\n      //Jan 27, 01:59 PM\n    },\n    formatDateTime(time) {\n      let utcDate = new Date(time * 1000).toUTCString(); //\"Wed, 27 Jan 2021 13:59:04 GMT\"\n      let month = utcDate.split(\",\")[1].split(\" \")[2]; // Jan\n      let date = utcDate.split(\",\")[1].split(\" \")[1]; // 27\n      let hr = utcDate.split(\",\")[1].split(\" \")[4].split(\":\")[0]; // 13\n      let min = utcDate.split(\",\")[1].split(\" \")[4].split(\":\")[1]; //59\n      let formatHr = Number(hr) > 12 ? Number(hr) - 12 : Number(hr); // 1\n      formatHr = Number(formatHr) >= 10 ? Number(formatHr) : \"0\" + formatHr; //01\n      let amOrpm = Number(hr) >= 12 ? \"PM\" : \"AM\"; //PM\n      return month + \" \" + date + \", \" + formatHr + \":\" + min + \" \" + amOrpm; //Jan 27, 01:59 PM\n    },\n  },\n  watch: {\n    // exitTimeSelected(newVal, oldVal) {\n    //   if (oldVal != null && newVal != null && oldVal?.a != newVal?.a) {\n    //     this.exitTimeSelected = Object.assign(this.exitTimeSelected, { hh: \"\", mm: \"\" })\n    //   }\n    //   if (oldVal != null && newVal != null && oldVal?.hh != newVal?.hh) {\n    //     this.exitTimeSelected = Object.assign(this.exitTimeSelected, { mm: \"\" })\n    //   }\n    //   this.setTimePicker(newVal);\n    // },\n    time(newVal, oldVal) {\n      if (oldVal != null && newVal != null && oldVal != newVal && oldVal != \"\" && newVal != \"\" && (isValid(newVal))) {\n        this.round(newVal);\n      }\n    },\n    // exitDate(newVal, oldVal) {\n    //   let exitdatetime = this.formatExitDateTime(this.bookingDetails?.booking?.exittime, 'date');\n    //   this.dateFormatted = this.formatDate(this.exitDate)\n    //   if (oldVal != newVal && this.exitDate == format(\n    //     new Date(exitdatetime),\n    //     \"yyyy-MM-dd\"\n    //   )) {\n    //     let selectedHours =\n    //       format(\n    //         new Date(exitdatetime),\n    //         \"hh\"\n    //       )\n\n    //     let selectedMins =\n    //       format(\n    //         new Date(exitdatetime)\n    //         ,\n    //         \"mm\"\n    //       )\n    //     let selectedAMPM =\n    //       format(\n    //         new Date(exitdatetime),\n    //         \"aaa\"\n    //       )\n    //     this.exitTimeSelected = Object.assign({}, {\n    //       hh: selectedHours,\n    //       mm: selectedMins,\n    //       a: selectedAMPM\n    //     });\n    //     this.round()\n    //     this.getRateCall = true;\n    //   }\n    //   else {\n    //     this.getRateCall = false\n    //   }\n    // },\n  },\n\n  computed: {\n    formattedDateTime() {\n      return this.time !== null && this.time !== \"\" ? format(this.time, 'iii, LLL dd') : \"\"\n    },\n    formattedYear() {\n      return this.time !== null && this.time !== \"\" ? format(this.time, 'yyyy') : \"\"\n    },\n    ...mapGetters({\n      bookingId: \"getterBookingId\",\n      zoneDetails: \"getterZoneDetails\",\n      bookingDetails: \"getterBookingDetails\",\n      onDemandZoneDetails: \"getterOnDemandZoneDetails\",\n    }),\n    formattedTime() {\n      return this.time ? format(this.time, 'hh:mm aa') : \"\"\n    },\n    formattedExitTime() {\n      return this.bookingDetails?.booking?.exittime ? this.formatDateTime(this.bookingDetails.booking.exittime) : \"\"\n      //  this.bookingDetails?.booking?.exittime ? format(\n      // new Date((Number(this.bookingDetails.booking.exittime)  + Number(this.bookingDetails.zone.timezoneoffset))* 1000),\n      //   \"hh:mm a, LLL dd yyyy\" \n      // ) : \"\"\n    },\n    booking_content() {\n      return this.bookingDetails?.booking?.entrytime ? this.formatDateTime(this.bookingDetails?.booking?.entrytime).split(\",\")[1] + \" on \" + this.formatDateTime(this.bookingDetails?.booking?.entrytime).split(\",\")[0] : \"\"\n      // let dateTime = formatDateTime(\n      //   Number(this.bookingDetails.booking.entrytime)\n      // );\n      // return dateTime[0] + \" on \" + dateTime[1] + \" \" + dateTime[2];\n    },\n    dateTextFormat() {\n      var event = new Date(this.date);\n      return event.toLocaleDateString('en-US', { year: 'numeric', month: 'short', day: 'numeric' })\n    },\n    computedDateFormatted() {\n      return this.time !== null && this.time !== \"\" && this.time !== undefined ? format(this.time, 'yyyy/MM/dd') : \"\"\n    },\n    disableExtend() {\n      let disabled = (\n        this.time === null || this.time === \"\" || this.time === undefined || this.estimate === null || this.estimate === undefined || Object.keys(this.estimate).length === 0)\n      return disabled;\n    },\n    countDownExitTime() {\n      if (this.exitDateTime < 0) {\n        this.$store.commit(\"SET_VALIDATED_TIME_STATUS\", true);\n        clearInterval(this.exitTimeInterval);\n      }\n      return secondsToHms(this.exitDateTime / 1000 + 59);\n    },\n  },\n  mounted() {\n    this.exitDateTime = this.calculateExitDateTime();\n    this.exitTimeInterval = setInterval(() => {\n      if (\n        this.bookingDetails?.zone?.timezone &&\n        this.bookingDetails?.booking?.entryMode == \"OD\"\n      ) {\n        this.exitDateTime = this.calculateExitDateTime();\n      }\n    }, 1000);\n\n    EventBus.$on('SET_TIME', () => {\n      this.onTimePickerChange();\n    })\n    EventBus.$on(\"validation-qr-result\", (result) => {\n      this.onValidateQRCode(result);\n    });\n  },\n}\n</script>\n<style lang=\"less\">\n.add_licence_plate_btn {\n  width: 100%;\n  background-color: #f2555c !important;\n  font-size: 18px !important;\n  font-weight: 700 !important;\n  letter-spacing: normal !important;\n  height: 50px !important;\n}\n\n.booking_header {\n  position: absolute;\n  bottom: 72px;\n  left: 16px;\n  font-size: 18px;\n  font-weight: bolder;\n}\n\n.time_ago {\n  font-size: 22px;\n  font-weight: 600;\n  line-height: 1.5rem;\n  letter-spacing: 0.0073529412em !important;\n}\n\n.time_ago_context {\n  font-size: 14px;\n  font-weight: 500;\n}\n\n.validated_time {\n  font-size: 13px;\n  font-weight: 500;\n}\n\n.booking_divider {\n  border-color: white !important;\n  margin-top: 12px;\n}\n\n.booking_divider_div {\n  position: absolute;\n  bottom: 60px;\n  width: 100%;\n}\n\n.booking_content {\n  position: absolute;\n  bottom: 18px;\n  left: 16px;\n  font-size: 13px;\n  font-weight: normal;\n}\n\n.add_credit_card_btn {\n  width: 100%;\n  background-color: #f2555c !important;\n  font-size: 18px !important;\n  font-weight: 700 !important;\n  letter-spacing: normal !important;\n  height: 50px !important;\n}\n\n.validation-pending {\n  position: absolute !important;\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translateX(-50%);\n  transform: translateX(-50%);\n}\n\n.qr_text {\n  font-size: 13px;\n}\n\n.exit_dialog_btn {\n  width: 100%;\n  background-color: #f2555c !important;\n  font-size: 18px !important;\n  font-weight: 700 !important;\n  letter-spacing: normal !important;\n  height: 50px !important;\n}\n\n.sms-input input {\n  font-size: 36px;\n  font-weight: 500;\n  color: #44515a !important;\n}\n\n.v-text-field--enclosed .v-input__append-inner {\n  margin-top: 26px !important;\n}\n\n.exit-option-text {\n  font-size: 14px;\n}\n\n.sms-caption {\n  font-size: 0.75rem !important;\n  font-weight: 400;\n  line-height: 1.25rem;\n  letter-spacing: 0.0333333333em !important;\n}\n\n.qrcode-stream-wrapper video {\n  max-height: 300px;\n}\n\n.counter-content-position {\n  position: relative;\n}\n\n.grace-period-image {\n  position: absolute !important;\n  right: -51px;\n  bottom: 5px;\n}\n\n.fabIcon {\n  animation: pulse 2s infinite;\n  box-shadow: 0 0 0 0 rgba(0, 0, 0, 1);\n  transform: scale(1);\n\n  @keyframes pulse {\n    0% {\n      transform: scale(0.95);\n      box-shadow: 0 0 0 0 rgba(0, 0, 0, 0.7);\n    }\n\n    70% {\n      transform: scale(1);\n      box-shadow: 0 0 0 10px rgba(0, 0, 0, 0);\n    }\n\n    100% {\n      transform: scale(0.95);\n      box-shadow: 0 0 0 0 rgba(0, 0, 0, 0);\n    }\n  }\n}\n\n#qr-code-full-region__dashboard {\n  display: none;\n}\n\n#qr-code-full-region>video {\n  width: 100% !important;\n}\n\n#validation-qr-code>video {\n  width: 100% !important;\n}\n\n#qr-code-full-region img {\n  display: none;\n}\n\n.no-upper-case {\n  text-transform: unset !important;\n}\n\n.time-picker-input {\n  flex: 1 1 auto;\n  line-height: 20px;\n  padding: 8px 0 8px;\n  max-width: 100%;\n  min-width: 0px;\n  font-size: 16px;\n  font-family: \"Work Sans\";\n}\n\n.time-picker-input :focus-visible {\n  outline-color: #1976d2;\n}\n\n.vue__time-picker input.display-time {\n  padding: 0px !important;\n  border-bottom: 1px solid #767676;\n  border-top: 0px;\n  border-right: 0px;\n  border-left: 0px;\n}\n\n.vue__time-picker-dropdown ul li:not([disabled]).active,\n.vue__time-picker-dropdown ul li:not([disabled]).active:focus,\n.vue__time-picker-dropdown ul li:not([disabled]).active:hover,\n.vue__time-picker .dropdown ul li:not([disabled]).active,\n.vue__time-picker .dropdown ul li:not([disabled]).active:focus,\n.vue__time-picker .dropdown ul li:not([disabled]).active:hover {\n  background: #f2555c !important;\n}\n\n.thankyou_header {\n  position: absolute;\n  bottom: 20px;\n  left: 16px;\n  font-size: 24px;\n  font-weight: bolder;\n}\n\n[data-key='am'] {\n  border: 0.2px solid red;\n  border-radius: 2px;\n  margin-left: 2px;\n}\n\n[data-key='pm'] {\n  border: 0.2px solid red;\n  margin-top: 0.5em;\n  margin-left: 2px;\n}\n\n.hours .hint {\n  position: sticky;\n  top: 0;\n  text-align: center;\n  background: #68808c;\n  z-index: 1;\n  -webkit-text-fill-color: white;\n  margin-bottom: 10px\n}\n\n.apms .hint {\n  position: sticky;\n  top: 0;\n  text-align: center;\n  background: #68808c;\n  z-index: 1;\n  margin-left: 1px;\n  -webkit-text-fill-color: white;\n  margin-bottom: 10px\n}\n\n.hours::-webkit-scrollbar {\n  display: none;\n}\n\n.minutes::-webkit-scrollbar {\n  display: none;\n}\n\n.minutes .hint {\n  position: sticky;\n  top: 0;\n  text-align: center;\n  background: #68808c;\n  z-index: 1;\n  -webkit-text-fill-color: white;\n  margin-bottom: 10px\n}\n\n.booking_date {\n  font-weight: normal;\n  font-size: 13px;\n  color: #3d3f3c !important;\n}\n\n.booking_date_header {\n  color: #3d3f3c !important;\n  font-weight: bold;\n  font-size: 14px;\n}\n\n.total-parking {\n  color: #3d3f3c;\n  font-size: 0.875rem !important;\n  font-weight: 500;\n  line-height: 2.25rem;\n  letter-spacing: 0.0892857143em !important;\n  text-transform: uppercase !important;\n}\n\nhr {\n  border: 1px solid #ffbc1f;\n}\n\n.amount-text {\n  color: #3d3f3c;\n  font-size: 34px;\n}\n\n.amount-content-position {\n  position: relative;\n}\n\n.p-calendar {\n  width: 100%;\n}\n</style>\n"]}]}