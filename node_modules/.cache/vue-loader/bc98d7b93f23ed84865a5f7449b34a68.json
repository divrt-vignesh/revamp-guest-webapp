{"remainingRequest":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/guest-webapp/src/views/makePayment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vignesh/DIVRT/guest-webapp/src/views/makePayment.vue","mtime":1687345808892},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFydGxhbmQgZnJvbSAiLi4vcGx1Z2lucy9zZWN1cmVzdWJtaXQiOwovLyBpbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwppbXBvcnQgeyBmb3JtYXQgfSBmcm9tICJkYXRlLWZucyI7Ci8vIGltcG9ydCBsb2dnZXJIZWxwZXIgZnJvbSAiLi4vbG9nZ2VySGVscGVyIjsKLy8gaW1wb3J0IHsgRXZlbnRCdXMgfSBmcm9tICJAL2xpYi9FdmVudEJ1cyI7CmltcG9ydCBBUElIZWxwZXIgZnJvbSAiLi4vYXBpSGVscGVyIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkZFBheW1lbnQiLAogIGRhdGE6ICgpID0+ICh7CiAgICByZWdleF9VUzogL14oPz0uezIsMTB9JCkoWzAtOV17MSw5fShbLXNdezF9WzAtOV0rKT8pJC8sCiAgICByZWdleF9DQTogLy4qW2EtekEtWl0uKiQvLAogICAgZGVmYXVsdENyZWRpdENhcmRDQjogZmFsc2UsCiAgICBhdXRvQ2hlY2tpbkNCOiBmYWxzZSwKICAgIG9kU2Vzc2lvbkxvYWRpbmc6IGZhbHNlLAogICAgaHBzOiAiIiwKICAgIHBvc3RhbENvZGU6ICIiLAogICAgZW1haWw6ICIiLAogICAgYWRkUGF5bWVudExvYWRpbmc6IGZhbHNlLAogICAgc2hvd1BheW1lbnRCdG46IHRydWUsCiAgICBkdXJhdGlvbjogMzAwLAogICAgb2Zmc2V0OiAxMDAsCiAgICBlYXNpbmc6ICJlYXNlSW5PdXRDdWJpYyIsCiAgICBlcnJEaWFsb2c6IGZhbHNlLAogICAgZXJyTXNnOiAiIiwKICAgIGluZm9EaWFsb2c6IGZhbHNlLAogICAgaW5mb01zZzogIiIKICB9KSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIGJvb2tpbmdJZDogImdldHRlckJvb2tpbmdJZCIsCiAgICAgIGNhc2lub0RldGFpbHM6ICdnZXR0ZXJDYXNpbm9EZXRhaWxzJywKICAgICAgYm9va2luZ0RldGFpbHM6ICJnZXR0ZXJCb29raW5nRGV0YWlscyIsCiAgICAgIHpvbmVEZXRhaWxzOiAiZ2V0dGVyWm9uZURldGFpbHMiLAogICAgICB0ZW1wbGF0ZUZsYWdzOiAnZ2V0dGVyVGVtcGxhdGVGbGFncycsCiAgICAgIG9kRGV0YWlsczogImdldHRlck9kRGV0YWlscyIsCiAgICB9KSwKICAgIG9wdGlvbnMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb24sCiAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCwKICAgICAgICBlYXNpbmc6IHRoaXMuZWFzaW5nLAogICAgICB9OwogICAgfSwKICAgIGNoZWNrUG9zdGFsQ29kZSgpIHsKICAgICAgcmV0dXJuICgKICAgICAgICAvKF5cZHs1fSQpfCheXGR7NX0tXGR7NH0kKS8udGVzdCh0aGlzLnBvc3RhbENvZGUpIHx8CiAgICAgICAgL15bQS1aYS16XVxkW0EtWmEtel1bIC1dP1xkW0EtWmEtel1cZCQvLnRlc3QodGhpcy5wb3N0YWxDb2RlKQogICAgICApOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7IH0sCiAgYmVmb3JlUm91dGVFbnRlcih0bywgZnJvbSwgbmV4dCkgewogICAgbmV4dChhc3luYyAodm0pID0+IHsKICAgICAgdm0uJHZ1ZXRpZnkuZ29UbygwKTsKICAgICAgbGV0IHNlYXJjaFBhcmFtcyA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3BsaXQoIj0iKTsKICAgICAgbGV0IHNlYXJjaFBhcmFtS2V5ID0gc2VhcmNoUGFyYW1zLmxlbmd0aCA+IDAgPyBzZWFyY2hQYXJhbXNbMF0gOiAiIjsKICAgICAgbGV0IHNlYXJjaFBhcmFtVmFsdWUgPSBzZWFyY2hQYXJhbXMubGVuZ3RoID4gMCA/IHNlYXJjaFBhcmFtc1sxXSA6ICIiOwogICAgICBzd2l0Y2ggKHNlYXJjaFBhcmFtS2V5KSB7CiAgICAgICAgY2FzZSAiP3pjb2RlIjoKICAgICAgICAgIHZtLmdldFpvbmVEZXRhaWxzKHNlYXJjaFBhcmFtS2V5LCBzZWFyY2hQYXJhbVZhbHVlKTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIGNhc2UgIj9nYXRlaWQiOgogICAgICAgICAgLy9hd2FpdCBzZWxmLmdldFpvbmVEZXRhaWxzKHNlYXJjaFBhcmFtS2V5LCBzZWFyY2hQYXJhbVZhbHVlKTsKICAgICAgICAgIGJyZWFrOwogICAgICB9CiAgICAgIGlmKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdvZENDRGV0YWlscycpKXsKICAgICAgICBsZXQgb2RDQ0RldGFpbHMgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnb2RDQ0RldGFpbHMnKTsKICAgICAgICBvZENDRGV0YWlscyA9IG9kQ0NEZXRhaWxzID8gSlNPTi5wYXJzZShvZENDRGV0YWlscykgOiB7fTsKICAgICAgICB2bS5wb3N0YWxDb2RlID0gb2RDQ0RldGFpbHM/LnBvc3RhbENvZGUgPyBvZENDRGV0YWlscy5wb3N0YWxDb2RlIDogdm0ucG9zdGFsQ29kZTsKICAgICAgICB2bS5lbWFpbCA9IG9kQ0NEZXRhaWxzPy5lbWFpbCA/IG9kQ0NEZXRhaWxzLmVtYWlsIDogdm0uZW1haWw7CiAgICAgIH0KICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gKCkgewogICAgaWYod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ3ByZXBhaWRob3N0JykpCiAgICB7CiAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX1RFTVBMQVRFX0ZMQUdTIiwgJ2F0bGFudGljLWZsYWcnKTsKICAgIH0KICAgIGVsc2UgaWYod2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoJ29uZGVtYW5kJykpewogICAgICB0aGlzLiRzdG9yZS5jb21taXQoIlNFVF9URU1QTEFURV9GTEFHUyIsICdvbmRlbWFuZC1mbGFnJyk7CgogICAgfQogICAgdGhpcy5pbml0SFBTZm9ybSgpOwogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgY3JlYXRlT0RTZXNzaW9uKCkgewogICAgICB0cnkgewogICAgICAgIHRoaXMub2RTZXNzaW9uTG9hZGluZyA9IHRydWU7CiAgICAgICAgbGV0IGV4aXREYXRlVGltZSA9IGZvcm1hdCgKICAgICAgICAgIG5ldyBEYXRlKHRoaXMub2REZXRhaWxzPy51c2VyRGV0YWlsPy5leGl0VGltZS5yZXBsYWNlQWxsKCItIiwgIi8iKSksCiAgICAgICAgICAieXl5eS1NTS1kZCBISDptbTpzcyIKICAgICAgICApOwogICAgICAgIGxldCBlbnRyeURhdGVUaW1lID0gZm9ybWF0KAogICAgICAgICAgbmV3IERhdGUodGhpcy5vZERldGFpbHM/LnVzZXJEZXRhaWw/LmVudHJ5VGltZS5yZXBsYWNlQWxsKCItIiwgIi8iKSksCiAgICAgICAgICAieXl5eS1NTS1kZCBISDptbTpzcyIKICAgICAgICApOwogICAgICAgIGxldCBwb3N0RGF0YSA9IHsKICAgICAgICAgIHVzZXJEZXRhaWw6IHsKICAgICAgICAgICAgcGxhdGU6IHRoaXMub2REZXRhaWxzPy51c2VyRGV0YWlsPy5wbGF0ZSwKICAgICAgICAgICAgY29udGFjdDogdGhpcy5vZERldGFpbHM/LnVzZXJEZXRhaWw/LmNvbnRhY3QsCiAgICAgICAgICAgIGV4aXRUaW1lOiBleGl0RGF0ZVRpbWUsCiAgICAgICAgICAgIGV2ZW50VHlwZTogIk9EIiwKICAgICAgICAgIH0sCiAgICAgICAgICBjYXJkRGV0YWlsOiB7CiAgICAgICAgICAgIGNhcmRUeXBlOiB0aGlzLm9kRGV0YWlscz8uY2FyZERldGFpbD8uY2FyZFR5cGUsCiAgICAgICAgICAgIHVzZXJEZXZpY2U6ICIyIiwKICAgICAgICAgICAgb3JkZXJUeXBlOiAiMyIsCiAgICAgICAgICAgIGVudHJ5OiBbCiAgICAgICAgICAgICAgewogICAgICAgICAgICAgICAgbG9jYXRpb25Db2RlOiB0aGlzLnpvbmVEZXRhaWxzPy56Y29kZSwKICAgICAgICAgICAgICAgIHN0YXJ0QXQ6IGVudHJ5RGF0ZVRpbWUsCiAgICAgICAgICAgICAgICBxdWFudGl0eTogIjEiLAogICAgICAgICAgICAgIH0sCiAgICAgICAgICAgIF0sCiAgICAgICAgICAgIHBheW1lbnQ6IHsKICAgICAgICAgICAgICBsYXN0Rm91ckRpZ2l0czogdGhpcy5vZERldGFpbHM/LnBheW1lbnQ/Lmxhc3RGb3VyRGlnaXRzLAogICAgICAgICAgICAgIGV4cGlyYXRpb25Nb250aDogdGhpcy5vZERldGFpbHM/LnBheW1lbnQ/LmV4cGlyYXRpb25Nb250aCwKICAgICAgICAgICAgICBleHBpcmF0aW9uWWVhcjogdGhpcy5vZERldGFpbHM/LnBheW1lbnQ/LmV4cGlyYXRpb25ZZWFyLAogICAgICAgICAgICAgIHBvc3RhbENvZGU6IHRoaXMub2REZXRhaWxzPy5wYXltZW50Py5wb3N0YWxDb2RlLAogICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Ub2tlbjogdGhpcy5vZERldGFpbHM/LnBheW1lbnQ/LmF1dGhvcml6YXRpb25Ub2tlbiwKICAgICAgICAgICAgICBlbWFpbDogdGhpcy5vZERldGFpbHM/LnBheW1lbnQ/LmVtYWlsLAogICAgICAgICAgICAgIHNhdmVDYXJkOiB0aGlzLm9kRGV0YWlscz8ucGF5bWVudD8uc2F2ZUNhcmQsCiAgICAgICAgICAgICAgaXNEZWZhdWx0OiB0aGlzLm9kRGV0YWlscz8ucGF5bWVudD8uaXNEZWZhdWx0LAogICAgICAgICAgICAgIHByZUF1dGhvcml6ZWRPbmx5OiB0aGlzLm9kRGV0YWlscz8ucGF5bWVudD8ucHJlQXV0aG9yaXplZE9ubHksCiAgICAgICAgICAgIH0sCiAgICAgICAgICB9LAogICAgICAgICAgbWlkOiB0aGlzLnpvbmVEZXRhaWxzLm1pZCwKICAgICAgICAgIHNvdXJjZTogIndlYiIKICAgICAgICB9OwogICAgICAgIHZhciBvZEFkZENhcmQgPSBhd2FpdCBBUElIZWxwZXIoCiAgICAgICAgICAiUE9TVCIsCiAgICAgICAgICAiL2FwaS92MS9wcmVwYWlkL2FkZENhcmQiLAogICAgICAgICAgcG9zdERhdGEKICAgICAgICApOwogICAgICAgIGlmIChvZEFkZENhcmQ/LmRhdGE/LnN0YXR1cyA9PSB0cnVlKSB7CiAgICAgICAgICBsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArICIvZy8iICsgb2RBZGRDYXJkPy5kYXRhPy5kYXRhPy5iaWQ7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh1cmwpOwogICAgICAgIH0gZWxzZSBpZiAob2RBZGRDYXJkPy5kYXRhPy5zdGF0dXMgPT0gZmFsc2UpIHsKICAgICAgICAgIHRoaXMuYWxlcnREaWFsb2cgPSB0cnVlOwogICAgICAgICAgdGhpcy5hbGVydE1zZyA9IG9kQWRkQ2FyZD8uZGF0YT8ubWVzc2FnZTsKICAgICAgICB9CiAgICAgICAgdGhpcy5vZFNlc3Npb25Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgLy8gdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiAnb2RFeHRlbnNpb24nIH0pCiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgdGhpcy5vZFNlc3Npb25Mb2FkaW5nID0gZmFsc2U7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9LAoKICAgIC8vQXRsYW50aWMgZmxvdyBjcmVhdGUgc2Vzc2lvbgoKICAgIGFzeW5jIGNhc2lub1Nlc3Npb24oKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdGhpcy5vZFNlc3Npb25Mb2FkaW5nID0gdHJ1ZTsKICAgICAgICBsZXQgZXhpdERhdGVUaW1lID0gZm9ybWF0KAogICAgICAgICAgbmV3IERhdGUoCiAgICAgICAgICAgIHRoaXMuY2FzaW5vRGV0YWlscz8udXNlckRldGFpbD8uZXhpdFRpbWUucmVwbGFjZUFsbCgiLSIsICIvIikKICAgICAgICAgICksCiAgICAgICAgICAieXl5eS1NTS1kZCBISDptbTpzcyIKICAgICAgICApOwogICAgICAgIGxldCBlbnRyeURhdGVUaW1lID0gZm9ybWF0KAogICAgICAgICAgbmV3IERhdGUoCiAgICAgICAgICAgIHRoaXMuY2FzaW5vRGV0YWlscz8udXNlckRldGFpbD8uZW50cnlUaW1lLnJlcGxhY2VBbGwoIi0iLCAiLyIpCiAgICAgICAgICApLAogICAgICAgICAgInl5eXktTU0tZGQgSEg6bW06c3MiCiAgICAgICAgKTsKICAgICAgICBsZXQgcG9zdERhdGEgPSB7CiAgICAgICAgICBtaWQ6IHRoaXMuem9uZURldGFpbHMubWlkLAogICAgICAgICAgdXNlckRldGFpbDogewogICAgICAgICAgICBwbGF0ZTogdGhpcy5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsPy5wbGF0ZSwKICAgICAgICAgICAgY29udGFjdDogdGhpcy5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsPy5jb250YWN0LAogICAgICAgICAgICBleGl0VGltZTogZXhpdERhdGVUaW1lLAogICAgICAgICAgICBldmVudFR5cGU6ICJQYWlkSG9zdFBhc3MiLAogICAgICAgICAgfSwKCiAgICAgICAgICBjYXJkRGV0YWlsOiB7CiAgICAgICAgICAgIGNhcmRUeXBlOiB0aGlzLmNhc2lub0RldGFpbHM/LmNhcmREZXRhaWw/LmNhcmRUeXBlLAogICAgICAgICAgICB1c2VyRGV2aWNlOiAiMiIsCiAgICAgICAgICAgIG9yZGVyVHlwZTogIjMiLAogICAgICAgICAgICBlbnRyeTogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uQ29kZTogdGhpcy56b25lRGV0YWlscz8uemNvZGUsCiAgICAgICAgICAgICAgICBzdGFydEF0OiBlbnRyeURhdGVUaW1lLAogICAgICAgICAgICAgICAgcXVhbnRpdHk6ICIxIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgICBwYXltZW50OiB7CiAgICAgICAgICAgICAgbGFzdEZvdXJEaWdpdHM6IHRoaXMuY2FzaW5vRGV0YWlscz8ucGF5bWVudD8ubGFzdEZvdXJEaWdpdHMsCiAgICAgICAgICAgICAgZXhwaXJhdGlvbk1vbnRoOiB0aGlzLmNhc2lub0RldGFpbHM/LnBheW1lbnQ/LmV4cGlyYXRpb25Nb250aCwKICAgICAgICAgICAgICBleHBpcmF0aW9uWWVhcjogdGhpcy5jYXNpbm9EZXRhaWxzPy5wYXltZW50Py5leHBpcmF0aW9uWWVhciwKICAgICAgICAgICAgICBwb3N0YWxDb2RlOiB0aGlzLmNhc2lub0RldGFpbHM/LnBheW1lbnQ/LnBvc3RhbENvZGUsCiAgICAgICAgICAgICAgYXV0aG9yaXphdGlvblRva2VuOgogICAgICAgICAgICAgICAgdGhpcy5jYXNpbm9EZXRhaWxzPy5wYXltZW50Py5hdXRob3JpemF0aW9uVG9rZW4sCiAgICAgICAgICAgICAgZW1haWw6IHRoaXMuY2FzaW5vRGV0YWlscz8ucGF5bWVudD8uZW1haWwsCiAgICAgICAgICAgICAgc2F2ZUNhcmQ6IHRoaXMuY2FzaW5vRGV0YWlscz8ucGF5bWVudD8uc2F2ZUNhcmQsCiAgICAgICAgICAgICAgaXNEZWZhdWx0OiB0aGlzLmNhc2lub0RldGFpbHM/LnBheW1lbnQ/LmlzRGVmYXVsdCwKICAgICAgICAgICAgICBwcmVBdXRob3JpemVkT25seTogdGhpcy5jYXNpbm9EZXRhaWxzPy5wYXltZW50Py5wcmVBdXRob3JpemVkT25seSwKICAgICAgICAgICAgfSwKCiAgICAgICAgICB9LAogICAgICAgICAgYmlkOiB0aGlzLmNhc2lub0RldGFpbHM/LnVzZXJEZXRhaWw/LmJpZCwKICAgICAgICB9OwogICAgICAgIHZhciBhZGRDYXJkID0gYXdhaXQgQVBJSGVscGVyKAogICAgICAgICAgIlBPU1QiLAogICAgICAgICAgIi9hcGkvdjEvcHJlcGFpZC9hZGRDYXJkIiwKICAgICAgICAgIHBvc3REYXRhCiAgICAgICAgKTsKICAgICAgICBpZiAoYWRkQ2FyZD8uZGF0YT8uc3RhdHVzID09IHRydWUpIHsKICAgICAgICAgIGxldCB1cmwgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgIi9nLyIgKyBhZGRDYXJkPy5kYXRhPy5kYXRhPy5iaWQ7CiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh1cmwpOwogICAgICAgIH0gZWxzZSBpZiAoYWRkQ2FyZD8uZGF0YT8uc3RhdHVzID09IGZhbHNlKSB7CiAgICAgICAgICB0aGlzLmFsZXJ0RGlhbG9nID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuYWxlcnRNc2cgPSBhZGRDYXJkPy5kYXRhPy5tZXNzYWdlOwogICAgICAgIH0KICAgICAgICB0aGlzLm9kU2Vzc2lvbkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAvLyB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICdvZEV4dGVuc2lvbicgfSkKICAgICAgfSBjYXRjaCAoZXJyb3IpIHsKICAgICAgICB0aGlzLm9kU2Vzc2lvbkxvYWRpbmcgPSBmYWxzZTsKICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7CiAgICAgIH0KICAgIH0sCgogICAgLyoqCiogQG1ldGhvZCBnZXRab25lRGV0YWlscyBmZXRjaCB0aGUgem9uZSBkZXRhaWxzIGFuZCBjb21taXQgU0VUX1pPTkVfREVUQUlMUyBtdXRhdGlvbi4KKi8KICAgIGFzeW5jIGdldFpvbmVEZXRhaWxzKHNlYXJjaFBhcmFtS2V5LCBzZWFyY2hQYXJhbVZhbHVlKSB7CiAgICAgIHRyeSB7CiAgICAgICAgdmFyIHpvbmVEZXRhaWxzID0gYXdhaXQgQVBJSGVscGVyKAogICAgICAgICAgIkdFVCIsCiAgICAgICAgICAiL2FwaS92MS91c2VyL2NvbmZpZyIgKyBzZWFyY2hQYXJhbUtleSArICI9IiArIHNlYXJjaFBhcmFtVmFsdWUKICAgICAgICApOwogICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgiU0VUX1pPTkVfREVUQUlMUyIsIHpvbmVEZXRhaWxzLmRhdGE/LnpvbmUpOwogICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgfQogICAgfSwKICAgIG9uRm9ybVN1Ym1pdCgpIHsKICAgICAgdGhpcy5hZGRQYXltZW50TG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuc2hvd1BheW1lbnRCdG4gPSBmYWxzZTsKICAgICAgLy9jaGVjayBVUyBQb3N0YWwgY29kZSBSZWdleAogICAgICBpZih0aGlzLmNhc2lub0RldGFpbHM/LnVzZXJEZXRhaWxzPy5lc3RpbWF0ZSkKICAgICAgewogICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgIHBsYXRlOiB0aGlzLmNhc2lub0RldGFpbHM/LnVzZXJEZXRhaWw/LnBsYXRlLAogICAgICAgICAgY29udGFjdDogdGhpcy5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsPy5jb250YWN0LAogICAgICAgICAgc3RhdHVzVGV4dDogIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIHBvc3RhbCBjb2RlLSAiICsgdGhpcy5wb3N0YWxDb2RlICsgIi4gTGFzdCA0IGNoYXJhY3RlcnMgb2YgTUlEIC0gIiArIHRoaXMuem9uZURldGFpbHMuTUlEcy5IUFNfUFVCTElDX0tFWV9VUy5zbGljZSgtNCksCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgZWxzZXsKICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICBwbGF0ZTogdGhpcy5vZERldGFpbHM/LnVzZXJEZXRhaWw/LnBsYXRlLAogICAgICAgICAgY29udGFjdDogdGhpcy5vZERldGFpbHM/LnVzZXJEZXRhaWw/LmNvbnRhY3QsCiAgICAgICAgICBzdGF0dXNUZXh0OiAiUGFya2VyIGNsaWNrZWQgb24gQUREIFBBWU1FTlQgYnRuIHdpdGggcG9zdGFsIGNvZGUtICIgKyB0aGlzLnBvc3RhbENvZGUgKyAiLiBMYXN0IDQgY2hhcmFjdGVycyBvZiBNSUQgLSAiICsgdGhpcy56b25lRGV0YWlscy5NSURzLkhQU19QVUJMSUNfS0VZX1VTLnNsaWNlKC00KSwKICAgICAgICB9KTsKICAgICAgfQogICAgICBpZiAodGhpcy5yZWdleF9VUy50ZXN0KHRoaXMucG9zdGFsQ29kZSkpIHsKICAgICAgICB0aGlzLmhwcy5vcHRpb25zLnB1YmxpY0tleSA9IHRoaXMuem9uZURldGFpbHM/Lk1JRHMKICAgICAgICAgID8uSFBTX1BVQkxJQ19LRVlfVVMKICAgICAgICAgID8gdGhpcy56b25lRGV0YWlscy5NSURzLkhQU19QVUJMSUNfS0VZX1VTCiAgICAgICAgICA6ICIiOwogICAgICAgICAgaWYodGhpcy5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlscz8uZXN0aW1hdGUpCiAgICAgIHsKICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICBwbGF0ZTogdGhpcy5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsPy5wbGF0ZSwKICAgICAgICAgIGNvbnRhY3Q6IHRoaXMuY2FzaW5vRGV0YWlscz8udXNlckRldGFpbD8uY29udGFjdCwKICAgICAgICAgIHN0YXR1c1RleHQ6ICJQYXJrZXIgY2xpY2tlZCBvbiBBREQgUEFZTUVOVCBidG4gd2l0aCBwb3N0YWwgY29kZS0gIiArIHRoaXMucG9zdGFsQ29kZSArICIuIExhc3QgNCBjaGFyYWN0ZXJzIG9mIE1JRCAtICIgKyB0aGlzLnpvbmVEZXRhaWxzLk1JRHMuSFBTX1BVQkxJQ19LRVlfVVMuc2xpY2UoLTQpLAogICAgICAgIH0pOwogICAgICB9CiAgICAgIGVsc2V7CiAgICAgICAgdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgcGxhdGU6IHRoaXMub2REZXRhaWxzPy51c2VyRGV0YWlsPy5wbGF0ZSwKICAgICAgICAgIGNvbnRhY3Q6IHRoaXMub2REZXRhaWxzPy51c2VyRGV0YWlsPy5jb250YWN0LAogICAgICAgICAgc3RhdHVzVGV4dDogIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIHBvc3RhbCBjb2RlLSAiICsgdGhpcy5wb3N0YWxDb2RlICsgIi4gTGFzdCA0IGNoYXJhY3RlcnMgb2YgTUlEIC0gIiArIHRoaXMuem9uZURldGFpbHMuTUlEcy5IUFNfUFVCTElDX0tFWV9VUy5zbGljZSgtNCksCiAgICAgICAgfSk7CiAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZygiUGFya2VyIGNsaWNrZWQgb24gQUREIFBBWU1FTlQgYnRuIHdpdGggcG9zdGFsIGNvZGUtICIgKyB0aGlzLnBvc3RhbENvZGUpCiAgICAgICAgdGhpcy5ocHMudG9rZW5pemUoKTsKICAgICAgfQogICAgICAvL2NoZWNrIENBIFBvc3RhbCBjb2RlIFJlZ2V4CiAgICAgIGVsc2UgaWYgKHRoaXMucmVnZXhfQ0EudGVzdCh0aGlzLnBvc3RhbENvZGUpKSB7CiAgICAgICAgdGhpcy5ocHMub3B0aW9ucy5wdWJsaWNLZXkgPSB0aGlzLnpvbmVEZXRhaWxzPy5NSURzCiAgICAgICAgICA/LkhQU19QVUJMSUNfS0VZX0NBCiAgICAgICAgICA/IHRoaXMuem9uZURldGFpbHMuTUlEcy5IUFNfUFVCTElDX0tFWV9DQQogICAgICAgICAgOiAiIjsKICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICBwbGF0ZTogdGhpcy5vZERldGFpbHM/LnVzZXJEZXRhaWw/LnBsYXRlLAogICAgICAgICAgY29udGFjdDogdGhpcy5vZERldGFpbHM/LnVzZXJEZXRhaWw/LmNvbnRhY3QsCiAgICAgICAgICBzdGF0dXNUZXh0OiAiUGFya2VyIGNsaWNrZWQgb24gQUREIFBBWU1FTlQgYnRuIHdpdGggcG9zdGFsIGNvZGUtICIgKyB0aGlzLnBvc3RhbENvZGUgKyAiLiBMYXN0IDQgY2hhcmFjdGVycyBvZiBNSUQgLSAiICsgdGhpcy56b25lRGV0YWlscy5NSURzLkhQU19QVUJMSUNfS0VZX0NBLnNsaWNlKC00KSwKICAgICAgICB9KTsKICAgICAgICBjb25zb2xlLmxvZygiUGFya2VyIGNsaWNrZWQgb24gQUREIFBBWU1FTlQgYnRuIHdpdGggcG9zdGFsIGNvZGUtICIgKyB0aGlzLnBvc3RhbENvZGUpCiAgICAgICAgdGhpcy5ocHMudG9rZW5pemUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyTXNnID0KICAgICAgICAgIHRoaXMucG9zdGFsQ29kZS5sZW5ndGggPiAwCiAgICAgICAgICAgID8gIkludmFsaWQgcG9zdGFsIGNvZGUiCiAgICAgICAgICAgIDogIlBvc3RhbCBjb2RlIGNhbm5vdCBiZSBlbXB0eSI7CiAgICAgIH0KICAgIH0sCiAgICBpbml0SFBTZm9ybSgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB0aGlzLmhwcyA9IG5ldyBIZWFydGxhbmQuSFBTKHsKICAgICAgICB0eXBlOiAiaWZyYW1lIiwKICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgIGNhcmROdW1iZXI6IHsKICAgICAgICAgICAgdGFyZ2V0OiAiaWZyYW1lc0NhcmROdW1iZXIiLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogIkVudGVyIENhcmQgTnVtYmVyIiwKICAgICAgICAgIH0sCiAgICAgICAgICBjYXJkRXhwaXJhdGlvbjogewogICAgICAgICAgICB0YXJnZXQ6ICJpZnJhbWVzQ2FyZEV4cGlyYXRpb24iLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogIk1NIC8gWVlZWSIsCiAgICAgICAgICB9LAogICAgICAgICAgY2FyZEN2djogewogICAgICAgICAgICB0YXJnZXQ6ICJpZnJhbWVzQ2FyZEN2diIsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiZXggLSAxMjMiLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIC8vIENvbGxlY3Rpb24gb2YgQ1NTIHRvIGluamVjdCBpbnRvIHRoZSBpZnJhbWVzLgogICAgICAgIC8vIFRoZXNlIHByb3BlcnRpZXMgY2FuIG1hdGNoIHRoZSBzaXRlJ3Mgc3R5bGVzCiAgICAgICAgLy8gdG8gY3JlYXRlIGEgc2VhbWxlc3MgZXhwZXJpZW5jZS4KICAgICAgICBzdHlsZTogewogICAgICAgICAgaW5wdXQ6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIiNmZmYiLAogICAgICAgICAgICBib3JkZXI6ICIxcHggc29saWQiLAogICAgICAgICAgICAiYm9yZGVyLWNvbG9yIjogIiNiYmIzYjkgI2M3YzFjNiAjYzdjMWM2IiwKICAgICAgICAgICAgImJveC1zaXppbmciOiAiYm9yZGVyLWJveCIsCiAgICAgICAgICAgICJmb250LWZhbWlseSI6ICJzZXJpZiIsCiAgICAgICAgICAgICJmb250LXNpemUiOiAiMTZweCIsCiAgICAgICAgICAgICJsaW5lLWhlaWdodCI6ICIxIiwKICAgICAgICAgICAgbWFyZ2luOiAiMCAuNWVtIDAgMCIsCiAgICAgICAgICAgICJtYXgtd2lkdGgiOiAiMTAwJSIsCiAgICAgICAgICAgIG91dGxpbmU6ICIwIiwKICAgICAgICAgICAgcGFkZGluZzogIjAuNTI3OGVtIiwKICAgICAgICAgICAgInZlcnRpY2FsLWFsaWduIjogImJhc2VsaW5lIiwKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIsCiAgICAgICAgICAgIHdpZHRoOiAiMTAwJSAhaW1wb3J0YW50IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZCI6IHsKICAgICAgICAgICAgImZvbnQtZmFtaWx5IjogInNhbnMtc2VyaWYiLAogICAgICAgICAgICAiYm94LXNpemluZyI6ICJib3JkZXItYm94IiwKICAgICAgICAgICAgZGlzcGxheTogImJsb2NrIiwKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIsCiAgICAgICAgICAgIHBhZGRpbmc6ICI2cHggNnB4IiwKICAgICAgICAgICAgImZvbnQtc2l6ZSI6ICIxNHB4IiwKICAgICAgICAgICAgImxpbmUtaGVpZ2h0IjogIjEuNDI4NTcxNDMiLAogICAgICAgICAgICBjb2xvcjogIiM1NTUiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjZmZmIiwKICAgICAgICAgICAgImJvcmRlci1ib3R0b20iOiAiMXB4IHNvbGlkICNjY2MiLAogICAgICAgICAgICAiYm9yZGVyLXRvcCI6ICIwcHgiLAogICAgICAgICAgICAiYm9yZGVyLWxlZnQiOiAiMHB4IiwKICAgICAgICAgICAgImJvcmRlci1yaWdodCI6ICIwcHgiLAogICAgICAgICAgICAiYm9yZGVyLXJhZGl1cyI6ICIwcHgiLAogICAgICAgICAgICAvLyAiLXdlYmtpdC1ib3gtc2hhZG93IjogImluc2V0IDAgMXB4IDFweCByZ2JhKDAsMCwwLC4wNzUpIiwKICAgICAgICAgICAgLy8gImJveC1zaGFkb3ciOiAiaW5zZXQgMCAxcHggMXB4IHJnYmEoMCwwLDAsLjA3NSkiLAogICAgICAgICAgICAiLXdlYmtpdC10cmFuc2l0aW9uIjoKICAgICAgICAgICAgICAiYm9yZGVyLWNvbG9yIGVhc2UtaW4tb3V0IC4xNXMsLXdlYmtpdC1ib3gtc2hhZG93IGVhc2UtaW4tb3V0IC4xNXMiLAogICAgICAgICAgICAiLW8tdHJhbnNpdGlvbiI6CiAgICAgICAgICAgICAgImJvcmRlci1jb2xvciBlYXNlLWluLW91dCAuMTVzLGJveC1zaGFkb3cgZWFzZS1pbi1vdXQgLjE1cyIsCiAgICAgICAgICAgIHRyYW5zaXRpb246CiAgICAgICAgICAgICAgImJvcmRlci1jb2xvciBlYXNlLWluLW91dCAuMTVzLGJveC1zaGFkb3cgZWFzZS1pbi1vdXQgLjE1cyIsCiAgICAgICAgICAgIHdpZHRoOiAiMTAwJSIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGRbbmFtZT1zdWJtaXRdIjogewogICAgICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjRjE1NTVDIiwKICAgICAgICAgICAgImZvbnQtZmFtaWx5IjogInNhbnMtc2VyaWYiLAogICAgICAgICAgICAidGV4dC10cmFuc2Zvcm0iOiAidXBwZXJjYXNlIiwKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIsCiAgICAgICAgICAgIGNvbG9yOiAiI2ZmZmZmZiIsCiAgICAgICAgICAgIGJvcmRlcjogIjBweCBzb2xpZCB0cmFuc3BhcmVudCIsCiAgICAgICAgICAgICJib3JkZXItcmFkaXVzIjogIjJweCIsCiAgICAgICAgICAgICJmb250LXdlaWdodCI6ICJib2xkZXIiLAogICAgICAgICAgICAiZm9udC1zaXplIjogIm1lZGl1bSIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGRbbmFtZT1zdWJtaXRdOmZvY3VzIjogewogICAgICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjRjE1NTVDIiwKICAgICAgICAgICAgImZvbnQtZmFtaWx5IjogInNhbnMtc2VyaWYiLAogICAgICAgICAgICAidGV4dC10cmFuc2Zvcm0iOiAidXBwZXJjYXNlIiwKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIsCiAgICAgICAgICAgIGNvbG9yOiAiI2ZmZmZmZiIsCiAgICAgICAgICAgIGJvcmRlcjogIjBweCBzb2xpZCB0cmFuc3BhcmVudCAhaW1wb3J0YW50IiwKICAgICAgICAgICAgImJvcmRlci1yYWRpdXMiOiAiMnB4IiwKICAgICAgICAgICAgImZvbnQtd2VpZ2h0IjogImJvbGRlciIsCiAgICAgICAgICAgICJmb250LXNpemUiOiAibWVkaXVtIiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZFtuYW1lPXN1Ym1pdF06aG92ZXIiOiB7CiAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNGMTU1NUMiLAogICAgICAgICAgICAiZm9udC1mYW1pbHkiOiAic2Fucy1zZXJpZiIsCiAgICAgICAgICAgICJ0ZXh0LXRyYW5zZm9ybSI6ICJ1cHBlcmNhc2UiLAogICAgICAgICAgICBoZWlnaHQ6ICI1MHB4IiwKICAgICAgICAgICAgY29sb3I6ICIjZmZmZmZmIiwKICAgICAgICAgICAgYm9yZGVyOiAiMHB4IHNvbGlkIHRyYW5zcGFyZW50ICFpbXBvcnRhbnQiLAogICAgICAgICAgICAiYm9yZGVyLXJhZGl1cyI6ICIycHgiLAogICAgICAgICAgICAiZm9udC13ZWlnaHQiOiAiYm9sZGVyIiwKICAgICAgICAgICAgImZvbnQtc2l6ZSI6ICJtZWRpdW0iLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLXdyYXBwZXIgI2hlYXJ0bGFuZC1maWVsZDpmb2N1cyI6IHsKICAgICAgICAgICAgImJvcmRlci1sZWZ0IjogIjBweCIsCiAgICAgICAgICAgICJib3JkZXItdG9wIjogIjBweCIsCiAgICAgICAgICAgICJib3JkZXItcmlnaHQiOiAiMHB4IiwKICAgICAgICAgICAgImJvcmRlci1ib3R0b20iOiAiMXB4IHNvbGlkICMzOTg5ZTMiLAogICAgICAgICAgICBvdXRsaW5lOiAibm9uZSIsCiAgICAgICAgICAgICJib3gtc2hhZG93IjogIm5vbmUiLAogICAgICAgICAgICBoZWlnaHQ6ICI1MHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiaGVhcnRsYW5kLWZpZWxkLXdyYXBwZXIgI2hlYXJ0bGFuZC1maWVsZCI6IHsKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIsCiAgICAgICAgICB9LAogICAgICAgICAgImlucHV0W3R5cGU9c3VibWl0XSI6IHsKICAgICAgICAgICAgImJveC1zaXppbmciOiAiYm9yZGVyLWJveCIsCiAgICAgICAgICAgIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAogICAgICAgICAgICBwYWRkaW5nOiAiNnB4IDEycHgiLAogICAgICAgICAgICAibWFyZ2luLWJvdHRvbSI6ICIwIiwKICAgICAgICAgICAgImZvbnQtc2l6ZSI6ICIxNHB4IiwKICAgICAgICAgICAgImZvbnQtd2VpZ2h0IjogIjQwMCIsCiAgICAgICAgICAgICJsaW5lLWhlaWdodCI6ICIxLjQyODU3MTQzIiwKICAgICAgICAgICAgInRleHQtYWxpZ24iOiAiY2VudGVyIiwKICAgICAgICAgICAgIndoaXRlLXNwYWNlIjogIm5vd3JhcCIsCiAgICAgICAgICAgICJ2ZXJ0aWNhbC1hbGlnbiI6ICJtaWRkbGUiLAogICAgICAgICAgICAiLW1zLXRvdWNoLWFjdGlvbiI6ICJtYW5pcHVsYXRpb24iLAogICAgICAgICAgICAidG91Y2gtYWN0aW9uIjogIm1hbmlwdWxhdGlvbiIsCiAgICAgICAgICAgIGN1cnNvcjogInBvaW50ZXIiLAogICAgICAgICAgICAiLXdlYmtpdC11c2VyLXNlbGVjdCI6ICJub25lIiwKICAgICAgICAgICAgIi1tb3otdXNlci1zZWxlY3QiOiAibm9uZSIsCiAgICAgICAgICAgICItbXMtdXNlci1zZWxlY3QiOiAibm9uZSIsCiAgICAgICAgICAgICJ1c2VyLXNlbGVjdCI6ICJub25lIiwKICAgICAgICAgICAgImJhY2tncm91bmQtaW1hZ2UiOiAibm9uZSIsCiAgICAgICAgICAgIGJvcmRlcjogIjFweCBzb2xpZCB0cmFuc3BhcmVudCIsCiAgICAgICAgICAgICJib3JkZXItcmFkaXVzIjogIjRweCIsCiAgICAgICAgICAgIGNvbG9yOiAiI2ZmZiIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiMzMzdhYjciLAogICAgICAgICAgICAiYm9yZGVyLWNvbG9yIjogIiMyZTZkYTQiLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkW3BsYWNlaG9sZGVyXSI6IHsKICAgICAgICAgICAgImxldHRlci1zcGFjaW5nIjogIjFweCIsCiAgICAgICAgICB9LAogICAgICAgICAgIjo6cGxhY2Vob2xkZXIiOiB7CiAgICAgICAgICAgIGNvbG9yOiAiIzhDQTJBRCIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGRbbmFtZT1jYXJkQ3Z2XSI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvY3Z2MS5wbmc/cmF3PXRydWUpIG5vLXJlcGVhdCByaWdodCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXNpemUiOiAiNjNweCA0MHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiaW5wdXQjaGVhcnRsYW5kLWZpZWxkW25hbWU9Y2FyZE51bWJlcl0iOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6CiAgICAgICAgICAgICAgInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLWlucHV0Y2FyZC1ibGFua0AyeC5wbmc/cmF3PXRydWUpIG5vLXJlcGVhdCByaWdodCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXNpemUiOiAiNTVweCAzNXB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC5pbnZhbGlkLmNhcmQtdHlwZS12aXNhIjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOgogICAgICAgICAgICAgICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZC12aXNhQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI4M3B4IDg4cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi00NHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC52YWxpZC5jYXJkLXR5cGUtdmlzYSI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWQtdmlzYUAyeC5wbmc/cmF3PXRydWUpIG5vLXJlcGVhdCByaWdodCB0b3AiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjgycHggODZweCIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGQuaW52YWxpZC5jYXJkLXR5cGUtZGlzY292ZXIiOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6CiAgICAgICAgICAgICAgInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLXNhdmVkLWRpc2NvdmVyQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI4NXB4IDkwcHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi00NHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC52YWxpZC5jYXJkLXR5cGUtZGlzY292ZXIiOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6CiAgICAgICAgICAgICAgInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLXNhdmVkLWRpc2NvdmVyQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI4NXB4IDkwcHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIjFweCIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGQuaW52YWxpZC5jYXJkLXR5cGUtYW1leCI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWRjYXJkcy1hbWV4QDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI1MHB4IDkwcHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi00NHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC52YWxpZC5jYXJkLXR5cGUtYW1leCI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWRjYXJkcy1hbWV4QDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IHRvcCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXNpemUiOiAiNTBweCA5MHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC5pbnZhbGlkLmNhcmQtdHlwZS1tYXN0ZXJjYXJkIjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOgogICAgICAgICAgICAgICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZC1tYXN0ZXJjYXJkLnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI2MnB4IDEwNXB4IiwKICAgICAgICAgICAgImJhY2tncm91bmQtcG9zaXRpb24teSI6ICItNTJweCIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGQudmFsaWQuY2FyZC10eXBlLW1hc3RlcmNhcmQiOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6CiAgICAgICAgICAgICAgInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLXNhdmVkLW1hc3RlcmNhcmQucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjYycHggMTA1cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi0xcHgiLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLmludmFsaWQuY2FyZC10eXBlLWpjYiI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWQtamNiQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI1NXB4IDk0cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi00NHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC52YWxpZC5jYXJkLXR5cGUtamNiIjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOgogICAgICAgICAgICAgICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZC1qY2JAMngucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQgdG9wIiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI1NXB4IDk0cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIjJweCIsCiAgICAgICAgICB9LAogICAgICAgICAgImlucHV0I2hlYXJ0bGFuZC1maWVsZFtuYW1lPWNhcmROdW1iZXJdOjotbXMtY2xlYXIiOiB7CiAgICAgICAgICAgIGRpc3BsYXk6ICJub25lIiwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICAvLyBDYWxsYmFjayB3aGVuIGEgdG9rZW4gaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmljZQogICAgICAgIG9uVG9rZW5TdWNjZXNzOiBmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgLy8gc2VsZi5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgLy8gICBwaG9uZTogc2VsZi5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgICAvLyAgIHJlZklkOiBzZWxmLmJvb2tpbmdJZCwKICAgICAgICAgIC8vICAgc3RhdHVzVGV4dDogIkhQUyB0b2tlbiBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgIC8vIH0pOwogICAgICAgICAgc2VsZi5vblN1Ym1pdChyZXNwKTsKICAgICAgICB9LAogICAgICAgIC8vIENhbGxiYWNrIHdoZW4gYW4gZXJyb3IgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmljZQogICAgICAgIG9uVG9rZW5FcnJvcjogZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIHNlbGYuYWRkUGF5bWVudExvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHNlbGYuc2hvd1BheW1lbnRCdG4gPSB0cnVlOwogICAgICAgICAgc2VsZi5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgICAgc2VsZi5lcnJNc2cgPSByZXNwLmVycm9yLm1lc3NhZ2U7CiAgICAgICAgICAvLyBzZWxmLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAvLyAgIHBob25lOiBzZWxmLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgIC8vICAgcmVmSWQ6IHNlbGYuYm9va2luZ0lkLAogICAgICAgICAgLy8gICBlcnJvcjogcmVzcC5lcnJvci5tZXNzYWdlLAogICAgICAgICAgLy8gICBzdGF0dXNUZXh0OiAiRXJyb3IgaW4gZ2VuZXJhdGluZyBIUFMgdG9rZW4uIiwKICAgICAgICAgIC8vIH0pOwogICAgICAgICAgLy8gYWxlcnQoIlRoZXJlIHdhcyBhbiBlcnJvcjogIiArIHJlc3AuZXJyb3IubWVzc2FnZSk7CiAgICAgICAgfSwKICAgICAgICAvLyBDYWxsYmFjayB3aGVuIGFuIGV2ZW50IGlzIGZpcmVkIHdpdGhpbiBhbiBpRnJhbWUKICAgICAgICBvbkV2ZW50OiBmdW5jdGlvbiAoKSB7IH0sCiAgICAgIH0pOwogICAgfSwKICAgIG5hdmlnYXRlVG9DaGVja0luKCkgewogICAgICBpZiAodGhpcy50ZW1wbGF0ZUZsYWdzID09PSAnb25kZW1hbmQtZmxhZycpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICIvb25kZW1hbmQiIH0pOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIC8vIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogYC9jcmVhdGVzZXNzaW9uLz9waG9uZT0ke3RoaXMuY2FzaW5vRGV0YWlscz8udXNlckRldGFpbD8uY29udGFjdH0mYmlkPSR7dGhpcy5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsPy5iaWR9JnBsYXRlPSR7dGhpcy5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsPy5wbGF0ZX1gIH0pCiAgICAgICAgaWYgKCF0aGlzLmNhc2lub0RldGFpbHM/LnVzZXJEZXRhaWw/LmJpZCkgewogICAgICAgICAgdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiBgL2NyZWF0ZXNlc3Npb25gIH0pOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgIC8vIGxldCBjb250YWN0ID0gdGhpcy5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsPy5jb250YWN0LnN1YnN0cmluZygxLCB0aGlzLmNhc2lub0RldGFpbHM/LnVzZXJEZXRhaWw/LmNvbnRhY3QubGVuZ3RoKQogICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsKQogICAgICAgICAgLy8gbGV0IHVybCA9IHdpbmRvdy5sb2NhdGlvbi5vcmlnaW4rYC8/emNvZGU9JHt0aGlzLnpvbmVEZXRhaWxzPy56Y29kZX0jL2NyZWF0ZXNlc3Npb24vP3Bob25lPSR7Y29udGFjdH0mYmlkPSR7dGhpcy5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsPy5iaWR9JnBsYXRlPSR7dGhpcy5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsPy5wbGF0ZX0mZW50cnl0aW1lPSR7bmV3IERhdGUodGhpcy5jYXNpbm9EZXRhaWxzPy51c2VyRGV0YWlsPy5mb3JtYXRFbnRyeXRpbWUpLmdldFRpbWUoKX1gCiAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh1cmwpCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyh1cmwpCiAgICAgICAgICBsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIGAvP3pjb2RlPSR7dGhpcy56b25lRGV0YWlscz8uemNvZGV9Iy9jcmVhdGVzZXNzaW9uYCArIHRoaXMuY2FzaW5vRGV0YWlscz8udXNlckRldGFpbD8uZWR0UGFyYW1zCiAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZSh1cmwpCiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgYXN5bmMgb25TdWJtaXQocmVzcCkgewogICAgICB0aGlzLnNob3dQYXltZW50QnRuID0gZmFsc2U7CiAgICAgIGxldCBlbWFpbF92YWx1ZSA9IHRoaXMuZW1haWwudHJpbSgpOyAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiZW1haWxfYWRkcmVzcyIpLnZhbHVlOwogICAgICBsZXQgcG9zdGFsQ29kZV92YWx1ZSA9IHRoaXMucG9zdGFsQ29kZS50cmltKCk7IC8vZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInBvc3RhbF9jb2RlIikudmFsdWU7CiAgICAgIGlmICgKICAgICAgICB0aGlzLnZhbGlkYXRlRW1haWwoZW1haWxfdmFsdWUpICYmCiAgICAgICAgdGhpcy52YWxpZGF0ZVBvc3RhbENvZGUocG9zdGFsQ29kZV92YWx1ZSkgJiYKICAgICAgICB0aGlzLnZhbGlkYXRlRXhwRGF0ZShyZXNwLmV4cF9tb250aCwgcmVzcC5leHBfeWVhcikKICAgICAgKSB7CiAgICAgICAgaWYgKHJlc3A/LnRva2VuX3ZhbHVlKSB7CiAgICAgICAgICB0aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIGxldCBjYXJkRGF0YSA9IHsKICAgICAgICAgICAgY2FyZFR5cGU6IHJlc3AuY2FyZF90eXBlLAogICAgICAgICAgICB1c2VyRGV2aWNlOiAiMiIsCiAgICAgICAgICAgIG9yZGVyVHlwZTogIjMiLAogICAgICAgICAgICBlbnRyeTogWwogICAgICAgICAgICAgIHsKICAgICAgICAgICAgICAgIGxvY2F0aW9uQ29kZTogdGhpcy56b25lRGV0YWlscy56Y29kZSwKICAgICAgICAgICAgICAgIHN0YXJ0QXQ6ICcnLAogICAgICAgICAgICAgICAgcXVhbnRpdHk6ICIxIiwKICAgICAgICAgICAgICB9LAogICAgICAgICAgICBdLAogICAgICAgICAgfTsKICAgICAgICAgIC8vIFRoZSBjb25kaXRpb25hbCBmdW5jdGlvbnMgdG8gY2hlY2sgZm9yIHRoZSBmbGFncyBvbmRlbWFuZCBvciBhdGxhbnRpYyBmbG93CiAgICAgICAgICBzd2l0Y2ggKHRoaXMudGVtcGxhdGVGbGFncykgewogICAgICAgICAgICBjYXNlICdvbmRlbWFuZC1mbGFnJzogewogICAgICAgICAgICAgIGxldCBwYXltZW50RGF0YSA9IHsKICAgICAgICAgICAgICAgIGxhc3RGb3VyRGlnaXRzOiByZXNwLmxhc3RfZm91ciwKICAgICAgICAgICAgICAgIGV4cGlyYXRpb25Nb250aDogcmVzcC5leHBfbW9udGgsCiAgICAgICAgICAgICAgICBleHBpcmF0aW9uWWVhcjogcmVzcC5leHBfeWVhciwKICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IHBvc3RhbENvZGVfdmFsdWUsCiAgICAgICAgICAgICAgICBhdXRob3JpemF0aW9uVG9rZW46IHJlc3AudG9rZW5fdmFsdWUsCiAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxfdmFsdWUsCiAgICAgICAgICAgICAgICBzYXZlQ2FyZDogdGhpcy5kZWZhdWx0Q3JlZGl0Q2FyZENCLnRvU3RyaW5nKCksCiAgICAgICAgICAgICAgICBpc0RlZmF1bHQ6IHRoaXMuZGVmYXVsdENyZWRpdENhcmRDQiwKICAgICAgICAgICAgICAgIHByZUF1dGhvcml6ZWRPbmx5OiB0aGlzLmF1dG9DaGVja2luQ0IKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX09OREVNQU5EX0NBUkRERVRBSUxTJywgY2FyZERhdGEpCiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfT05ERU1BTkRfUEFZTUVOVCcsIHBheW1lbnREYXRhKTsKICAgICAgICAgICAgICBpZiAodGhpcy50ZW1wbGF0ZUZsYWdzID09PSAnb25kZW1hbmQtZmxhZycpIHsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJvZENDRGV0YWlscyIsSlNPTi5zdHJpbmdpZnkoe2VtYWlsOmVtYWlsX3ZhbHVlLCBwb3N0YWxDb2RlOiBwb3N0YWxDb2RlX3ZhbHVlfSkpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB0aGlzLmNyZWF0ZU9EU2Vzc2lvbigpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgJ2F0bGFudGljLWZsYWcnOiB7CiAgICAgICAgICAgICAgbGV0IHBheW1lbnREYXRhID0gewogICAgICAgICAgICAgICAgbGFzdEZvdXJEaWdpdHM6IHJlc3AubGFzdF9mb3VyLAogICAgICAgICAgICAgICAgZXhwaXJhdGlvbk1vbnRoOiByZXNwLmV4cF9tb250aCwKICAgICAgICAgICAgICAgIGV4cGlyYXRpb25ZZWFyOiByZXNwLmV4cF95ZWFyLAogICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogcG9zdGFsQ29kZV92YWx1ZSwKICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Ub2tlbjogcmVzcC50b2tlbl92YWx1ZSwKICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbF92YWx1ZSwKICAgICAgICAgICAgICAgIHNhdmVDYXJkOiB0aGlzLmRlZmF1bHRDcmVkaXRDYXJkQ0IudG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgIGlzRGVmYXVsdDogdGhpcy5kZWZhdWx0Q3JlZGl0Q2FyZENCLAogICAgICAgICAgICAgICAgcHJlQXV0aG9yaXplZE9ubHk6IHRoaXMuYXV0b0NoZWNraW5DQgogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfQ0FTSU5PX0NBUkRERVRBSUxTJywgY2FyZERhdGEpCiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfQ0FTSU5PX1BBWU1FTlQnLCBwYXltZW50RGF0YSkKICAgICAgICAgICAgICB0aGlzLmNhc2lub1Nlc3Npb24oKQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHZhbGlkYXRlRXhwRGF0ZShtb250aCwgeWVhcikgewogICAgICBpZiAobW9udGgubGVuZ3RoID4gMCAmJiB5ZWFyLmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVyckRpYWxvZyA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJNc2cgPSAiRXhwaXJhdGlvbiBkYXRlIGNhbm5vdCBiZSBlbXB0eS4iOwogICAgICAgIHRoaXMuYWRkUGF5bWVudExvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dQYXltZW50QnRuID0gdHJ1ZTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGF0ZUVtYWlsKGVtYWlsKSB7CiAgICAgIGNvbnN0IHJlID0KICAgICAgICAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOwogICAgICBpZiAocmUudGVzdChTdHJpbmcoZW1haWwpLnRvTG93ZXJDYXNlKCkpKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyTXNnID0KICAgICAgICAgIGVtYWlsLmxlbmd0aCA+IDAgPyAiSW52YWxpZCBlbWFpbCIgOiAiRW1haWwgY2Fubm90IGJlIGVtcHR5IjsKICAgICAgICB0aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgdmFsaWRhdGVQb3N0YWxDb2RlKGNvZGUpIHsKICAgICAgaWYgKCh0aGlzLnJlZ2V4X1VTLnRlc3QoY29kZSkgfHwgdGhpcy5yZWdleF9DQS50ZXN0KGNvZGUpKSAmJiBTdHJpbmcoY29kZSkubGVuZ3RoIDw9IDEwKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyTXNnID0KICAgICAgICAgIGNvZGUubGVuZ3RoID4gMAogICAgICAgICAgICA/ICJJbnZhbGlkIHBvc3RhbCBjb2RlIgogICAgICAgICAgICA6ICJQb3N0YWwgY29kZSBjYW5ub3QgYmUgZW1wdHkiOwogICAgICAgIHRoaXMuYWRkUGF5bWVudExvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dQYXltZW50QnRuID0gdHJ1ZTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICBvcGVuSW5mb0RpYWxvZygpIHsKICAgICAgdGhpcy5pbmZvRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy5pbmZvTXNnID0gIkJ5IGNoZWNraW5nIHRoaXMgYm94IHlvdSBhZ3JlZSB0byBsZXQgdXMgdG8gc2VjdXJlbHkgc2F2ZSB5b3VyIGNyZWRpdCBjYXJkIGRldGFpbHMgc28geW91IGRvbid0IGhhdmUgdG8gZW50ZXIgdGhlbSBldmVyeSB0aW1lIHlvdSB2aXNpdC4iCiAgICB9LAogICAgb3BlbkF1dG9DaGVja2luSW5mb0RpYWxvZygpIHsKICAgICAgdGhpcy5pbmZvRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy5pbmZvTXNnID0gIkJ5IGNoZWNraW5nIHRoaXMgYm94IHlvdSBhZ3JlZSB0byBsZXQgdXMgc2VjdXJlbHkgc2F2ZSB5b3VyIGxpY2Vuc2UgcGxhdGUgbnVtYmVyIGFuZCBhdXRvbWF0aWNhbGx5IGxldCB5b3UgaW4gYW5kIG91dCBlYWNoIHRpbWUgeW91IHZpc2l0LiI7CiAgICB9CiAgfSwKICBiZWZvcmVEZXN0cm95OiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmhwcy5kaXNwb3NlKCk7CiAgfSwKfTsK"},{"version":3,"sources":["makePayment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"makePayment.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container class=\"pa-0 fill-height\" fluid>\n    <v-card elevation=\"0\" class=\"pa-0 fill-height fit-width\">\n      <v-card-title class=\"justify-center add_payment_title\">\n        <v-spacer></v-spacer>\n        <span>Add Payment</span>\n        <v-spacer></v-spacer>\n        <v-icon @click=\"navigateToCheckIn\">mdi-close</v-icon>\n      </v-card-title>\n      <v-divider style=\"background-color: #a0c5d8\"></v-divider>\n      <v-card-text class=\"pa-2\">\n        <v-dialog v-model=\"addPaymentLoading\" persistent>\n          <v-card class=\"pa-4\">\n            <v-progress-circular indeterminate color=\"red\"></v-progress-circular>\n            <span class=\"ml-4\" style=\"font-size: 14px\">Please wait...</span>\n          </v-card>\n        </v-dialog>\n\n        <div class=\"form-wrapper\">\n          <form id=\"iframes\" action method=\"GET\">\n            <v-container class=\"pa-2\" fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"pa-0\">\n                  <label for=\"iframesCardNumber\">CREDIT CARD*</label>\n                  <div id=\"iframesCardNumber\" style=\"width: 100%\"></div>\n                </v-col>\n                <v-col cols=\"6\" class=\"pa-0\">\n                  <label for=\"iframesCardExpiration\">EXP DATE*</label>\n                  <div id=\"iframesCardExpiration\"></div>\n                </v-col>\n                <v-divider vertical class=\"mx-2 my-4\"></v-divider>\n                <v-col class=\"pa-0\">\n                  <label for=\"iframesCardCvv\">CVV*</label>\n                  <div id=\"iframesCardCvv\"></div>\n                </v-col>\n                <v-col cols=\"12\" class=\"pa-0 mb-2\">\n                  <label class=\"hps_label\" for=\"postalCode\">POSTAL CODE*</label>\n                  <div>\n                    <input ref=\"postalCodeInput\" v-model=\"postalCode\" class=\"hps_input\" type=\"text\" id=\"postal_code\"\n                      maxlength=\"10\" placeholder=\"Enter Postal Code\" name=\"postalCode\"\n                      @focus=\"$vuetify.goTo($refs.postalCodeInput, options)\"\n                      @mouseup=\"$vuetify.goTo($refs.postalCodeInput, options)\" />\n                  </div>\n                </v-col>\n                <!-- <v-col cols=\"12\" v-show=\"!checkPostalCode\">\n                    <p\n                      style=\"\n                        color: #d3838d;\n                        font-weight: bolder;\n                        font-size: smaller;\n                      \"\n                    >\n                      *This payment method applies for [US | CANADIAN] locations\n                      only.\n                    </p>\n                  </v-col> -->\n                <v-col cols=\"12\" class=\"pa-0\">\n                  <label class=\"hps_label\" for=\"email\">EMAIL*</label>\n                  <div>\n                    <input ref=\"emailInput\" v-model=\"email\" class=\"hps_input\" id=\"email_address\" placeholder=\"Enter Email\"\n                      name=\"email\" v-on:keyup.enter=\"onFormSubmit()\" @focus=\"$vuetify.goTo($refs.emailInput, options)\"\n                      @mouseup=\"$vuetify.goTo($refs.emailInput, options)\" />\n                  </div>\n                </v-col>\n                <v-col cols=\"10\" class=\"pa-0\"\n                  v-if=\"templateFlags == 'ondemand-flag' || (casinoDetails.hasOwnProperty('userDetail') && casinoDetails.userDetail.hasOwnProperty('bid') && (casinoDetails.userDetail.bid != undefined || casinoDetails.userDetail.bid != '' || casinoDetails.userDetail.bid != null))\">\n                  <v-checkbox v-model=\"defaultCreditCardCB\" label=\"Save my card for faster checkout next time\"\n                    hide-details=\"auto\"></v-checkbox>\n                </v-col>\n                <v-col cols=\"2\" class=\"pa-0 text-left pl-10 align-self-end\"\n                  v-if=\"templateFlags == 'ondemand-flag' || (casinoDetails.hasOwnProperty('userDetail') && casinoDetails.userDetail.hasOwnProperty('bid') && (casinoDetails.userDetail.bid != undefined || casinoDetails.userDetail.bid != '' || casinoDetails.userDetail.bid != null))\">\n                  <v-icon @click=\"openInfoDialog()\" color=\"primary\">mdi-information</v-icon>\n                </v-col>\n                <!-- <p class=\"px-8 font-weight-bold text-decoration-underline\" style=\"font-size: 11px;\"\n                  v-if=\"templateFlags == 'ondemand-flag' || (casinoDetails.hasOwnProperty('userDetail') && casinoDetails.userDetail.hasOwnProperty('bid') && (casinoDetails.userDetail.bid != undefined || casinoDetails.userDetail.bid != '' || casinoDetails.userDetail.bid != null))\">\n                  (Do not check this box\n                  for a car you don't own, like a rental)\n                </p> -->\n\n                <!-- <v-col\n                    cols=\"10\"\n                    class=\"pa-0\"\n                    v-show=\"\n                     defaultCreditCardCB == true && bookingDetails.booking.isLPRAutocheckInEnabled == '1'\n                    \"\n                  >\n                    <v-checkbox\n                      v-model=\"autoCheckinCB\"\n                      label=\"Save my license plate and automatically let me in next time\"\n                      hide-details=\"auto\"\n                    ></v-checkbox>\n                  </v-col>\n                   <v-col\n                    cols=\"2\"\n                    class=\"pa-0 text-left align-self-center\"\n                    v-show=\"\n                     defaultCreditCardCB == true && bookingDetails.booking.isLPRAutocheckInEnabled == '1'\n                    \"\n                  >\n                   <p v-show=\"\n                  defaultCreditCardCB == true &&\n                  bookingDetails.booking.isLPRAutocheckInEnabled == '1'\n                \" class=\"px-8 font-weight-bold text-decoration-underline\" style=\"font-size: 12px;\">(Do not check this\n                  box if this is a rental car.)</p>\n                  <v-icon @click=\"openAutoCheckinInfoDialog()\" color=\"primary\" >mdi-information</v-icon>\n                   </v-col> -->\n                <v-col cols=\"12\" class=\"mt-10 text-center\" v-show=\"showPaymentBtn\">\n                  <v-btn ref=\"submitBtn\" rounded block elevation=\"20\" :loading=\"odSessionLoading\" class=\"white--text exit_dialog_btn\"\n                    @click=\"onFormSubmit()\">Submit</v-btn>\n                </v-col>\n                <!-- <v-col cols=\"12\" class=\"mt-10 text-center\">\n                    <div id=\"iframesSubmit\" v-show=\"showPaymentBtn\"></div>\n                  </v-col>-->\n              </v-row>\n            </v-container>\n          </form>\n        </div>\n      </v-card-text>\n    </v-card>\n    <v-dialog v-model=\"errDialog\" max-width=\"fit-content\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\">\n          <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">\n            {{ errMsg }}\n          </span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"errDialog = false\">OK</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"infoDialog\" max-width=\"fit-content\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\">\n          <v-icon x-large color=\"red accent-2\">mdi-information</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">\n            {{ infoMsg }}\n          </span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"infoDialog = false\">OK</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport Heartland from \"../plugins/securesubmit\";\n// import axios from \"axios\";\nimport { format } from \"date-fns\";\n// import loggerHelper from \"../loggerHelper\";\n// import { EventBus } from \"@/lib/EventBus\";\nimport APIHelper from \"../apiHelper\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"AddPayment\",\n  data: () => ({\n    regex_US: /^(?=.{2,10}$)([0-9]{1,9}([-s]{1}[0-9]+)?)$/,\n    regex_CA: /.*[a-zA-Z].*$/,\n    defaultCreditCardCB: false,\n    autoCheckinCB: false,\n    odSessionLoading: false,\n    hps: \"\",\n    postalCode: \"\",\n    email: \"\",\n    addPaymentLoading: false,\n    showPaymentBtn: true,\n    duration: 300,\n    offset: 100,\n    easing: \"easeInOutCubic\",\n    errDialog: false,\n    errMsg: \"\",\n    infoDialog: false,\n    infoMsg: \"\"\n  }),\n  computed: {\n    ...mapGetters({\n      bookingId: \"getterBookingId\",\n      casinoDetails: 'getterCasinoDetails',\n      bookingDetails: \"getterBookingDetails\",\n      zoneDetails: \"getterZoneDetails\",\n      templateFlags: 'getterTemplateFlags',\n      odDetails: \"getterOdDetails\",\n    }),\n    options() {\n      return {\n        duration: this.duration,\n        offset: this.offset,\n        easing: this.easing,\n      };\n    },\n    checkPostalCode() {\n      return (\n        /(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(this.postalCode) ||\n        /^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$/.test(this.postalCode)\n      );\n    },\n  },\n  created() { },\n  beforeRouteEnter(to, from, next) {\n    next(async (vm) => {\n      vm.$vuetify.goTo(0);\n      let searchParams = window.location.search.split(\"=\");\n      let searchParamKey = searchParams.length > 0 ? searchParams[0] : \"\";\n      let searchParamValue = searchParams.length > 0 ? searchParams[1] : \"\";\n      switch (searchParamKey) {\n        case \"?zcode\":\n          vm.getZoneDetails(searchParamKey, searchParamValue);\n          break;\n        case \"?gateid\":\n          //await self.getZoneDetails(searchParamKey, searchParamValue);\n          break;\n      }\n      if(localStorage.getItem('odCCDetails')){\n        let odCCDetails = localStorage.getItem('odCCDetails');\n        odCCDetails = odCCDetails ? JSON.parse(odCCDetails) : {};\n        vm.postalCode = odCCDetails?.postalCode ? odCCDetails.postalCode : vm.postalCode;\n        vm.email = odCCDetails?.email ? odCCDetails.email : vm.email;\n      }\n    });\n  },\n  mounted: function () {\n    if(window.location.href.includes('prepaidhost'))\n    {\n      this.$store.commit(\"SET_TEMPLATE_FLAGS\", 'atlantic-flag');\n    }\n    else if(window.location.href.includes('ondemand')){\n      this.$store.commit(\"SET_TEMPLATE_FLAGS\", 'ondemand-flag');\n\n    }\n    this.initHPSform();\n  },\n  methods: {\n    async createODSession() {\n      try {\n        this.odSessionLoading = true;\n        let exitDateTime = format(\n          new Date(this.odDetails?.userDetail?.exitTime.replaceAll(\"-\", \"/\")),\n          \"yyyy-MM-dd HH:mm:ss\"\n        );\n        let entryDateTime = format(\n          new Date(this.odDetails?.userDetail?.entryTime.replaceAll(\"-\", \"/\")),\n          \"yyyy-MM-dd HH:mm:ss\"\n        );\n        let postData = {\n          userDetail: {\n            plate: this.odDetails?.userDetail?.plate,\n            contact: this.odDetails?.userDetail?.contact,\n            exitTime: exitDateTime,\n            eventType: \"OD\",\n          },\n          cardDetail: {\n            cardType: this.odDetails?.cardDetail?.cardType,\n            userDevice: \"2\",\n            orderType: \"3\",\n            entry: [\n              {\n                locationCode: this.zoneDetails?.zcode,\n                startAt: entryDateTime,\n                quantity: \"1\",\n              },\n            ],\n            payment: {\n              lastFourDigits: this.odDetails?.payment?.lastFourDigits,\n              expirationMonth: this.odDetails?.payment?.expirationMonth,\n              expirationYear: this.odDetails?.payment?.expirationYear,\n              postalCode: this.odDetails?.payment?.postalCode,\n              authorizationToken: this.odDetails?.payment?.authorizationToken,\n              email: this.odDetails?.payment?.email,\n              saveCard: this.odDetails?.payment?.saveCard,\n              isDefault: this.odDetails?.payment?.isDefault,\n              preAuthorizedOnly: this.odDetails?.payment?.preAuthorizedOnly,\n            },\n          },\n          mid: this.zoneDetails.mid,\n          source: \"web\"\n        };\n        var odAddCard = await APIHelper(\n          \"POST\",\n          \"/api/v1/prepaid/addCard\",\n          postData\n        );\n        if (odAddCard?.data?.status == true) {\n          let url = window.location.origin + \"/g/\" + odAddCard?.data?.data?.bid;\n          window.location.replace(url);\n        } else if (odAddCard?.data?.status == false) {\n          this.alertDialog = true;\n          this.alertMsg = odAddCard?.data?.message;\n        }\n        this.odSessionLoading = false;\n        // this.$router.replace({ path: 'odExtension' })\n      } catch (error) {\n        this.odSessionLoading = false;\n        console.log(error);\n      }\n    },\n\n    //Atlantic flow create session\n\n    async casinoSession() {\n      try {\n        this.odSessionLoading = true;\n        let exitDateTime = format(\n          new Date(\n            this.casinoDetails?.userDetail?.exitTime.replaceAll(\"-\", \"/\")\n          ),\n          \"yyyy-MM-dd HH:mm:ss\"\n        );\n        let entryDateTime = format(\n          new Date(\n            this.casinoDetails?.userDetail?.entryTime.replaceAll(\"-\", \"/\")\n          ),\n          \"yyyy-MM-dd HH:mm:ss\"\n        );\n        let postData = {\n          mid: this.zoneDetails.mid,\n          userDetail: {\n            plate: this.casinoDetails?.userDetail?.plate,\n            contact: this.casinoDetails?.userDetail?.contact,\n            exitTime: exitDateTime,\n            eventType: \"PaidHostPass\",\n          },\n\n          cardDetail: {\n            cardType: this.casinoDetails?.cardDetail?.cardType,\n            userDevice: \"2\",\n            orderType: \"3\",\n            entry: [\n              {\n                locationCode: this.zoneDetails?.zcode,\n                startAt: entryDateTime,\n                quantity: \"1\",\n              },\n            ],\n            payment: {\n              lastFourDigits: this.casinoDetails?.payment?.lastFourDigits,\n              expirationMonth: this.casinoDetails?.payment?.expirationMonth,\n              expirationYear: this.casinoDetails?.payment?.expirationYear,\n              postalCode: this.casinoDetails?.payment?.postalCode,\n              authorizationToken:\n                this.casinoDetails?.payment?.authorizationToken,\n              email: this.casinoDetails?.payment?.email,\n              saveCard: this.casinoDetails?.payment?.saveCard,\n              isDefault: this.casinoDetails?.payment?.isDefault,\n              preAuthorizedOnly: this.casinoDetails?.payment?.preAuthorizedOnly,\n            },\n\n          },\n          bid: this.casinoDetails?.userDetail?.bid,\n        };\n        var addCard = await APIHelper(\n          \"POST\",\n          \"/api/v1/prepaid/addCard\",\n          postData\n        );\n        if (addCard?.data?.status == true) {\n          let url = window.location.origin + \"/g/\" + addCard?.data?.data?.bid;\n          window.location.replace(url);\n        } else if (addCard?.data?.status == false) {\n          this.alertDialog = true;\n          this.alertMsg = addCard?.data?.message;\n        }\n        this.odSessionLoading = false;\n        // this.$router.replace({ path: 'odExtension' })\n      } catch (error) {\n        this.odSessionLoading = false;\n        console.log(error);\n      }\n    },\n\n    /**\n* @method getZoneDetails fetch the zone details and commit SET_ZONE_DETAILS mutation.\n*/\n    async getZoneDetails(searchParamKey, searchParamValue) {\n      try {\n        var zoneDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/user/config\" + searchParamKey + \"=\" + searchParamValue\n        );\n        this.$store.commit(\"SET_ZONE_DETAILS\", zoneDetails.data?.zone);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    onFormSubmit() {\n      this.addPaymentLoading = true;\n      this.showPaymentBtn = false;\n      //check US Postal code Regex\n      if(this.casinoDetails?.userDetails?.estimate)\n      {\n        this.postToLoggerAPI({\n          plate: this.casinoDetails?.userDetail?.plate,\n          contact: this.casinoDetails?.userDetail?.contact,\n          statusText: \"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode + \". Last 4 characters of MID - \" + this.zoneDetails.MIDs.HPS_PUBLIC_KEY_US.slice(-4),\n        });\n      }\n      else{\n        this.postToLoggerAPI({\n          plate: this.odDetails?.userDetail?.plate,\n          contact: this.odDetails?.userDetail?.contact,\n          statusText: \"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode + \". Last 4 characters of MID - \" + this.zoneDetails.MIDs.HPS_PUBLIC_KEY_US.slice(-4),\n        });\n      }\n      if (this.regex_US.test(this.postalCode)) {\n        this.hps.options.publicKey = this.zoneDetails?.MIDs\n          ?.HPS_PUBLIC_KEY_US\n          ? this.zoneDetails.MIDs.HPS_PUBLIC_KEY_US\n          : \"\";\n          if(this.casinoDetails?.userDetails?.estimate)\n      {\n        this.postToLoggerAPI({\n          plate: this.casinoDetails?.userDetail?.plate,\n          contact: this.casinoDetails?.userDetail?.contact,\n          statusText: \"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode + \". Last 4 characters of MID - \" + this.zoneDetails.MIDs.HPS_PUBLIC_KEY_US.slice(-4),\n        });\n      }\n      else{\n        this.postToLoggerAPI({\n          plate: this.odDetails?.userDetail?.plate,\n          contact: this.odDetails?.userDetail?.contact,\n          statusText: \"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode + \". Last 4 characters of MID - \" + this.zoneDetails.MIDs.HPS_PUBLIC_KEY_US.slice(-4),\n        });\n      }\n        console.log(\"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode)\n        this.hps.tokenize();\n      }\n      //check CA Postal code Regex\n      else if (this.regex_CA.test(this.postalCode)) {\n        this.hps.options.publicKey = this.zoneDetails?.MIDs\n          ?.HPS_PUBLIC_KEY_CA\n          ? this.zoneDetails.MIDs.HPS_PUBLIC_KEY_CA\n          : \"\";\n        this.postToLoggerAPI({\n          plate: this.odDetails?.userDetail?.plate,\n          contact: this.odDetails?.userDetail?.contact,\n          statusText: \"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode + \". Last 4 characters of MID - \" + this.zoneDetails.MIDs.HPS_PUBLIC_KEY_CA.slice(-4),\n        });\n        console.log(\"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode)\n        this.hps.tokenize();\n      } else {\n        this.addPaymentLoading = false;\n        this.showPaymentBtn = true;\n        this.errDialog = true;\n        this.errMsg =\n          this.postalCode.length > 0\n            ? \"Invalid postal code\"\n            : \"Postal code cannot be empty\";\n      }\n    },\n    initHPSform() {\n      var self = this;\n      this.hps = new Heartland.HPS({\n        type: \"iframe\",\n        fields: {\n          cardNumber: {\n            target: \"iframesCardNumber\",\n            placeholder: \"Enter Card Number\",\n          },\n          cardExpiration: {\n            target: \"iframesCardExpiration\",\n            placeholder: \"MM / YYYY\",\n          },\n          cardCvv: {\n            target: \"iframesCardCvv\",\n            placeholder: \"ex - 123\",\n          },\n        },\n        // Collection of CSS to inject into the iframes.\n        // These properties can match the site's styles\n        // to create a seamless experience.\n        style: {\n          input: {\n            background: \"#fff\",\n            border: \"1px solid\",\n            \"border-color\": \"#bbb3b9 #c7c1c6 #c7c1c6\",\n            \"box-sizing\": \"border-box\",\n            \"font-family\": \"serif\",\n            \"font-size\": \"16px\",\n            \"line-height\": \"1\",\n            margin: \"0 .5em 0 0\",\n            \"max-width\": \"100%\",\n            outline: \"0\",\n            padding: \"0.5278em\",\n            \"vertical-align\": \"baseline\",\n            height: \"50px\",\n            width: \"100% !important\",\n          },\n          \"#heartland-field\": {\n            \"font-family\": \"sans-serif\",\n            \"box-sizing\": \"border-box\",\n            display: \"block\",\n            height: \"50px\",\n            padding: \"6px 6px\",\n            \"font-size\": \"14px\",\n            \"line-height\": \"1.42857143\",\n            color: \"#555\",\n            \"background-color\": \"#fff\",\n            \"border-bottom\": \"1px solid #ccc\",\n            \"border-top\": \"0px\",\n            \"border-left\": \"0px\",\n            \"border-right\": \"0px\",\n            \"border-radius\": \"0px\",\n            // \"-webkit-box-shadow\": \"inset 0 1px 1px rgba(0,0,0,.075)\",\n            // \"box-shadow\": \"inset 0 1px 1px rgba(0,0,0,.075)\",\n            \"-webkit-transition\":\n              \"border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s\",\n            \"-o-transition\":\n              \"border-color ease-in-out .15s,box-shadow ease-in-out .15s\",\n            transition:\n              \"border-color ease-in-out .15s,box-shadow ease-in-out .15s\",\n            width: \"100%\",\n          },\n          \"#heartland-field[name=submit]\": {\n            \"background-color\": \"#F1555C\",\n            \"font-family\": \"sans-serif\",\n            \"text-transform\": \"uppercase\",\n            height: \"50px\",\n            color: \"#ffffff\",\n            border: \"0px solid transparent\",\n            \"border-radius\": \"2px\",\n            \"font-weight\": \"bolder\",\n            \"font-size\": \"medium\",\n          },\n          \"#heartland-field[name=submit]:focus\": {\n            \"background-color\": \"#F1555C\",\n            \"font-family\": \"sans-serif\",\n            \"text-transform\": \"uppercase\",\n            height: \"50px\",\n            color: \"#ffffff\",\n            border: \"0px solid transparent !important\",\n            \"border-radius\": \"2px\",\n            \"font-weight\": \"bolder\",\n            \"font-size\": \"medium\",\n          },\n          \"#heartland-field[name=submit]:hover\": {\n            \"background-color\": \"#F1555C\",\n            \"font-family\": \"sans-serif\",\n            \"text-transform\": \"uppercase\",\n            height: \"50px\",\n            color: \"#ffffff\",\n            border: \"0px solid transparent !important\",\n            \"border-radius\": \"2px\",\n            \"font-weight\": \"bolder\",\n            \"font-size\": \"medium\",\n          },\n          \"#heartland-field-wrapper #heartland-field:focus\": {\n            \"border-left\": \"0px\",\n            \"border-top\": \"0px\",\n            \"border-right\": \"0px\",\n            \"border-bottom\": \"1px solid #3989e3\",\n            outline: \"none\",\n            \"box-shadow\": \"none\",\n            height: \"50px\",\n          },\n          \"heartland-field-wrapper #heartland-field\": {\n            height: \"50px\",\n          },\n          \"input[type=submit]\": {\n            \"box-sizing\": \"border-box\",\n            display: \"inline-block\",\n            padding: \"6px 12px\",\n            \"margin-bottom\": \"0\",\n            \"font-size\": \"14px\",\n            \"font-weight\": \"400\",\n            \"line-height\": \"1.42857143\",\n            \"text-align\": \"center\",\n            \"white-space\": \"nowrap\",\n            \"vertical-align\": \"middle\",\n            \"-ms-touch-action\": \"manipulation\",\n            \"touch-action\": \"manipulation\",\n            cursor: \"pointer\",\n            \"-webkit-user-select\": \"none\",\n            \"-moz-user-select\": \"none\",\n            \"-ms-user-select\": \"none\",\n            \"user-select\": \"none\",\n            \"background-image\": \"none\",\n            border: \"1px solid transparent\",\n            \"border-radius\": \"4px\",\n            color: \"#fff\",\n            \"background-color\": \"#337ab7\",\n            \"border-color\": \"#2e6da4\",\n          },\n          \"#heartland-field[placeholder]\": {\n            \"letter-spacing\": \"1px\",\n          },\n          \"::placeholder\": {\n            color: \"#8CA2AD\",\n          },\n          \"#heartland-field[name=cardCvv]\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/cvv1.png?raw=true) no-repeat right\",\n            \"background-size\": \"63px 40px\",\n          },\n          \"input#heartland-field[name=cardNumber]\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-inputcard-blank@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"55px 35px\",\n          },\n          \"#heartland-field.invalid.card-type-visa\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-visa@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"83px 88px\",\n            \"background-position-y\": \"-44px\",\n          },\n          \"#heartland-field.valid.card-type-visa\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-visa@2x.png?raw=true) no-repeat right top\",\n            \"background-size\": \"82px 86px\",\n          },\n          \"#heartland-field.invalid.card-type-discover\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-discover@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"85px 90px\",\n            \"background-position-y\": \"-44px\",\n          },\n          \"#heartland-field.valid.card-type-discover\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-discover@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"85px 90px\",\n            \"background-position-y\": \"1px\",\n          },\n          \"#heartland-field.invalid.card-type-amex\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-savedcards-amex@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"50px 90px\",\n            \"background-position-y\": \"-44px\",\n          },\n          \"#heartland-field.valid.card-type-amex\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-savedcards-amex@2x.png?raw=true) no-repeat right top\",\n            \"background-size\": \"50px 90px\",\n          },\n          \"#heartland-field.invalid.card-type-mastercard\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-mastercard.png?raw=true) no-repeat right\",\n            \"background-size\": \"62px 105px\",\n            \"background-position-y\": \"-52px\",\n          },\n          \"#heartland-field.valid.card-type-mastercard\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-mastercard.png?raw=true) no-repeat right\",\n            \"background-size\": \"62px 105px\",\n            \"background-position-y\": \"-1px\",\n          },\n          \"#heartland-field.invalid.card-type-jcb\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-jcb@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"55px 94px\",\n            \"background-position-y\": \"-44px\",\n          },\n          \"#heartland-field.valid.card-type-jcb\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-jcb@2x.png?raw=true) no-repeat right top\",\n            \"background-size\": \"55px 94px\",\n            \"background-position-y\": \"2px\",\n          },\n          \"input#heartland-field[name=cardNumber]::-ms-clear\": {\n            display: \"none\",\n          },\n        },\n        // Callback when a token is received from the service\n        onTokenSuccess: function (resp) {\n          // self.postToLoggerAPI({\n          //   phone: self.bookingDetails.user.contact,\n          //   refId: self.bookingId,\n          //   statusText: \"HPS token generated successfully\",\n          // });\n          self.onSubmit(resp);\n        },\n        // Callback when an error is received from the service\n        onTokenError: function (resp) {\n          self.addPaymentLoading = false;\n          self.showPaymentBtn = true;\n          self.errDialog = true;\n          self.errMsg = resp.error.message;\n          // self.postToLoggerAPI({\n          //   phone: self.bookingDetails.user.contact,\n          //   refId: self.bookingId,\n          //   error: resp.error.message,\n          //   statusText: \"Error in generating HPS token.\",\n          // });\n          // alert(\"There was an error: \" + resp.error.message);\n        },\n        // Callback when an event is fired within an iFrame\n        onEvent: function () { },\n      });\n    },\n    navigateToCheckIn() {\n      if (this.templateFlags === 'ondemand-flag') {\n        this.$router.replace({ path: \"/ondemand\" });\n      }\n      else {\n        // this.$router.replace({ path: `/createsession/?phone=${this.casinoDetails?.userDetail?.contact}&bid=${this.casinoDetails?.userDetail?.bid}&plate=${this.casinoDetails?.userDetail?.plate}` })\n        if (!this.casinoDetails?.userDetail?.bid) {\n          this.$router.replace({ path: `/createsession` });\n        }\n        else {\n          // let contact = this.casinoDetails?.userDetail?.contact.substring(1, this.casinoDetails?.userDetail?.contact.length)\n          // console.log(this.casinoDetails?.userDetail)\n          // let url = window.location.origin+`/?zcode=${this.zoneDetails?.zcode}#/createsession/?phone=${contact}&bid=${this.casinoDetails?.userDetail?.bid}&plate=${this.casinoDetails?.userDetail?.plate}&entrytime=${new Date(this.casinoDetails?.userDetail?.formatEntrytime).getTime()}`\n          // window.location.replace(url)\n          // console.log(url)\n          let url = window.location.origin + `/?zcode=${this.zoneDetails?.zcode}#/createsession` + this.casinoDetails?.userDetail?.edtParams\n          window.location.replace(url)\n        }\n      }\n    },\n    async onSubmit(resp) {\n      this.showPaymentBtn = false;\n      let email_value = this.email.trim(); // document.getElementById(\"email_address\").value;\n      let postalCode_value = this.postalCode.trim(); //document.getElementById(\"postal_code\").value;\n      if (\n        this.validateEmail(email_value) &&\n        this.validatePostalCode(postalCode_value) &&\n        this.validateExpDate(resp.exp_month, resp.exp_year)\n      ) {\n        if (resp?.token_value) {\n          this.addPaymentLoading = true;\n          let cardData = {\n            cardType: resp.card_type,\n            userDevice: \"2\",\n            orderType: \"3\",\n            entry: [\n              {\n                locationCode: this.zoneDetails.zcode,\n                startAt: '',\n                quantity: \"1\",\n              },\n            ],\n          };\n          // The conditional functions to check for the flags ondemand or atlantic flow\n          switch (this.templateFlags) {\n            case 'ondemand-flag': {\n              let paymentData = {\n                lastFourDigits: resp.last_four,\n                expirationMonth: resp.exp_month,\n                expirationYear: resp.exp_year,\n                postalCode: postalCode_value,\n                authorizationToken: resp.token_value,\n                email: email_value,\n                saveCard: this.defaultCreditCardCB.toString(),\n                isDefault: this.defaultCreditCardCB,\n                preAuthorizedOnly: this.autoCheckinCB\n              };\n              this.$store.commit('SET_ONDEMAND_CARDDETAILS', cardData)\n              this.$store.commit('SET_ONDEMAND_PAYMENT', paymentData);\n              if (this.templateFlags === 'ondemand-flag') {\n                localStorage.setItem(\"odCCDetails\",JSON.stringify({email:email_value, postalCode: postalCode_value}));\n              }\n              this.createODSession();\n              break;\n            }\n            case 'atlantic-flag': {\n              let paymentData = {\n                lastFourDigits: resp.last_four,\n                expirationMonth: resp.exp_month,\n                expirationYear: resp.exp_year,\n                postalCode: postalCode_value,\n                authorizationToken: resp.token_value,\n                email: email_value,\n                saveCard: this.defaultCreditCardCB.toString(),\n                isDefault: this.defaultCreditCardCB,\n                preAuthorizedOnly: this.autoCheckinCB\n              };\n              this.$store.commit('SET_CASINO_CARDDETAILS', cardData)\n              this.$store.commit('SET_CASINO_PAYMENT', paymentData)\n              this.casinoSession()\n              break;\n            }\n\n          }\n        }\n      }\n    },\n    validateExpDate(month, year) {\n      if (month.length > 0 && year.length > 0) {\n        return true;\n      } else {\n        this.errDialog = true;\n        this.errMsg = \"Expiration date cannot be empty.\";\n        this.addPaymentLoading = false;\n        this.showPaymentBtn = true;\n        return false;\n      }\n    },\n    validateEmail(email) {\n      const re =\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      if (re.test(String(email).toLowerCase())) {\n        return true;\n      } else {\n        this.errDialog = true;\n        this.errMsg =\n          email.length > 0 ? \"Invalid email\" : \"Email cannot be empty\";\n        this.addPaymentLoading = false;\n        this.showPaymentBtn = true;\n        return false;\n      }\n    },\n    validatePostalCode(code) {\n      if ((this.regex_US.test(code) || this.regex_CA.test(code)) && String(code).length <= 10) {\n        return true;\n      } else {\n        this.errDialog = true;\n        this.errMsg =\n          code.length > 0\n            ? \"Invalid postal code\"\n            : \"Postal code cannot be empty\";\n        this.addPaymentLoading = false;\n        this.showPaymentBtn = true;\n        return false;\n      }\n    },\n    openInfoDialog() {\n      this.infoDialog = true;\n      this.infoMsg = \"By checking this box you agree to let us to securely save your credit card details so you don't have to enter them every time you visit.\"\n    },\n    openAutoCheckinInfoDialog() {\n      this.infoDialog = true;\n      this.infoMsg = \"By checking this box you agree to let us securely save your license plate number and automatically let you in and out each time you visit.\";\n    }\n  },\n  beforeDestroy: function () {\n    this.hps.dispose();\n  },\n};\n</script>\n<style lang=\"less\">\ninput {\n  background: \"#fff\";\n  border: \"1px solid\";\n  border-color: \"#bbb3b9 #c7c1c6 #c7c1c6\";\n  box-sizing: \"border-box\";\n  font-family: \"serif\";\n  font-size: \"16px\";\n  line-height: \"1\";\n  margin: \"0 .5em 0 0\";\n  max-width: \"100%\";\n  outline: \"0\";\n  padding: \"0.5278em\";\n  vertical-align: \"baseline\";\n  height: \"50px\";\n  width: \"100% !important\";\n}\n\n#heartland-frame-cardNumber {\n  width: 100% !important;\n}\n\n#heartland-frame-cardExpiration,\n#heartland-frame-cardCvv {\n  width: 100% !important;\n}\n\nbody {\n  font-family: sans-serif;\n}\n\nlabel[for=\"iframesCardNumber\"],\nlabel[for=\"iframesCardExpiration\"],\nlabel[for=\"iframesCardCvv\"],\nlabel[for=\"postalCode\"] {\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 13px;\n  color: #8ca2ad;\n  line-height: 1.5;\n}\n\nuser agent stylesheet div {\n  display: block;\n}\n\n.form-row {\n  margin-top: 10px;\n}\n\n.form-wrapper {\n  display: block;\n  width: 100%;\n  margin: 10px auto;\n}\n\n.hps_input {\n  font-family: sans-serif;\n  box-sizing: border-box;\n  display: block;\n  height: 50px;\n  padding: 6px 6px;\n  font-size: 14px;\n  line-height: 1.42857143;\n  color: #555;\n  background-color: #fff;\n  border-bottom: 1px solid #ccc;\n  border-top: 0px;\n  border-left: 0px;\n  border-right: 0px;\n  border-radius: 0px;\n  -webkit-transition: border-color ease-in-out 0.15s,\n    -webkit-box-shadow ease-in-out 0.15s;\n  -o-transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n  width: 100%;\n}\n\n.add_payment_title {\n  background-color: #f7f9fa;\n\n  span {\n    font-weight: 600;\n    color: #44515a;\n  }\n}\n\n.hps_label {\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 13px;\n  color: #8ca2ad;\n  line-height: 1.5;\n}\n\n.hps_input[placeholder] {\n  letter-spacing: 1px;\n}\n\n.hps_input:focus {\n  border-top: 0px;\n  border-left: 0px;\n  border-right: 0px;\n  border-bottom: 1px solid #3989e3;\n  outline: none;\n  box-shadow: none;\n  height: 50px;\n}\n\n#heartland-frame-submit {\n  border-radius: 40px;\n  height: 50px !important;\n  width: 100%;\n}\n\n::placeholder {\n  color: #8ca2ad;\n}\n\n:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #8ca2ad;\n}\n\n::-ms-input-placeholder {\n  /* Microsoft Edge */\n  color: #8ca2ad;\n}\n</style>"]}]}