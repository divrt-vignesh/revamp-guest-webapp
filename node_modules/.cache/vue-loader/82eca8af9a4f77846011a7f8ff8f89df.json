{"remainingRequest":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/guest-webapp/src/views/makePayment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vignesh/DIVRT/guest-webapp/src/views/makePayment.vue","mtime":1679655019877},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBIZWFydGxhbmQgZnJvbSAiLi4vcGx1Z2lucy9zZWN1cmVzdWJtaXQiOwovLyBpbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOwovLyBpbXBvcnQgbG9nZ2VySGVscGVyIGZyb20gIi4uL2xvZ2dlckhlbHBlciI7CmltcG9ydCBBUElIZWxwZXIgZnJvbSAiLi4vYXBpSGVscGVyIjsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gInZ1ZXgiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkFkZFBheW1lbnQiLAogIGRhdGE6ICgpID0+ICh7CiAgICBkZWZhdWx0Q3JlZGl0Q2FyZENCOiBmYWxzZSwKICAgIGF1dG9DaGVja2luQ0I6IGZhbHNlLAogICAgaHBzOiAiIiwKICAgIHBvc3RhbENvZGU6ICIiLAogICAgZW1haWw6ICIiLAogICAgYWRkUGF5bWVudExvYWRpbmc6IGZhbHNlLAogICAgc2hvd1BheW1lbnRCdG46IHRydWUsCiAgICBkdXJhdGlvbjogMzAwLAogICAgb2Zmc2V0OiAxMDAsCiAgICBlYXNpbmc6ICJlYXNlSW5PdXRDdWJpYyIsCiAgICBlcnJEaWFsb2c6IGZhbHNlLAogICAgZXJyTXNnOiAiIiwKICAgIGluZm9EaWFsb2c6IGZhbHNlLAogICAgaW5mb01zZzogIiIKICB9KSwKICBjb21wdXRlZDogewogICAgLi4ubWFwR2V0dGVycyh7CiAgICAgIGJvb2tpbmdJZDogImdldHRlckJvb2tpbmdJZCIsCiAgICAgIGJvb2tpbmdEZXRhaWxzOiAiZ2V0dGVyQm9va2luZ0RldGFpbHMiLAogICAgICB6b25lRGV0YWlsczogImdldHRlclpvbmVEZXRhaWxzIiwKICAgICAgdGVtcGxhdGVGbGFnczogJ2dldHRlclRlbXBsYXRlRmxhZ3MnCgogICAgfSksCiAgICBvcHRpb25zKCkgewogICAgICByZXR1cm4gewogICAgICAgIGR1cmF0aW9uOiB0aGlzLmR1cmF0aW9uLAogICAgICAgIG9mZnNldDogdGhpcy5vZmZzZXQsCiAgICAgICAgZWFzaW5nOiB0aGlzLmVhc2luZywKICAgICAgfTsKICAgIH0sCiAgICBjaGVja1Bvc3RhbENvZGUoKSB7CiAgICAgIHJldHVybiAoCiAgICAgICAgLyheXGR7NX0kKXwoXlxkezV9LVxkezR9JCkvLnRlc3QodGhpcy5wb3N0YWxDb2RlKSB8fAogICAgICAgIC9eW0EtWmEtel1cZFtBLVphLXpdWyAtXT9cZFtBLVphLXpdXGQkLy50ZXN0KHRoaXMucG9zdGFsQ29kZSkKICAgICAgKTsKICAgIH0sCiAgfSwKICBjcmVhdGVkKCkgeyB9LAogIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIG5leHQoYXN5bmMgKHZtKSA9PiB7CiAgICAgIHZtLiR2dWV0aWZ5LmdvVG8oMCk7CiAgICAgIGxldCBzZWFyY2hQYXJhbXMgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoLnNwbGl0KCI9Iik7CiAgICAgIGxldCBzZWFyY2hQYXJhbUtleSA9IHNlYXJjaFBhcmFtcy5sZW5ndGggPiAwID8gc2VhcmNoUGFyYW1zWzBdIDogIiI7CiAgICAgIGxldCBzZWFyY2hQYXJhbVZhbHVlID0gc2VhcmNoUGFyYW1zLmxlbmd0aCA+IDAgPyBzZWFyY2hQYXJhbXNbMV0gOiAiIjsKICAgICAgc3dpdGNoIChzZWFyY2hQYXJhbUtleSkgewogICAgICAgIGNhc2UgIj96Y29kZSI6CiAgICAgICAgICB2bS5nZXRab25lRGV0YWlscyhzZWFyY2hQYXJhbUtleSwgc2VhcmNoUGFyYW1WYWx1ZSk7CiAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICI/Z2F0ZWlkIjoKICAgICAgICAgIC8vYXdhaXQgc2VsZi5nZXRab25lRGV0YWlscyhzZWFyY2hQYXJhbUtleSwgc2VhcmNoUGFyYW1WYWx1ZSk7CiAgICAgICAgICBicmVhazsKICAgICAgfQogICAgfSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiAoKSB7CiAgICB0aGlzLmluaXRIUFNmb3JtKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKioKKiBAbWV0aG9kIGdldFpvbmVEZXRhaWxzIGZldGNoIHRoZSB6b25lIGRldGFpbHMgYW5kIGNvbW1pdCBTRVRfWk9ORV9ERVRBSUxTIG11dGF0aW9uLgoqLwogICAgYXN5bmMgZ2V0Wm9uZURldGFpbHMoc2VhcmNoUGFyYW1LZXksIHNlYXJjaFBhcmFtVmFsdWUpIHsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgem9uZURldGFpbHMgPSBhd2FpdCBBUElIZWxwZXIoCiAgICAgICAgICAiR0VUIiwKICAgICAgICAgICIvYXBpL3YxL3VzZXIvY29uZmlnIiArIHNlYXJjaFBhcmFtS2V5ICsgIj0iICsgc2VhcmNoUGFyYW1WYWx1ZQogICAgICAgICk7CiAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCJTRVRfWk9ORV9ERVRBSUxTIiwgem9uZURldGFpbHMuZGF0YT8uem9uZSk7CiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOwogICAgICB9CiAgICB9LAogICAgb25Gb3JtU3VibWl0KCkgewogICAgICB0aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IGZhbHNlOwogICAgICAvL2NoZWNrIFVTIFBvc3RhbCBjb2RlIFJlZ2V4CiAgICAgIGlmICgvXig/PS57MiwxMH0kKShbMC05XXsxLDl9KFstc117MX1bMC05XSspPykkLy50ZXN0KHRoaXMucG9zdGFsQ29kZSkpIHsKICAgICAgICB0aGlzLmhwcy5vcHRpb25zLnB1YmxpY0tleSA9ICJwa2FwaV9jZXJ0X1pmUW5UQ1FrSE9ydlVodkM2MiIKICAgICAgICAvLyAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAvLyAgICAgcGhvbmU6IHRoaXMuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgIC8vICAgICByZWZJZDogdGhpcy5ib29raW5nSWQsCiAgICAgICAgLy8gICAgIHN0YXR1c1RleHQ6ICJQYXJrZXIgY2xpY2tlZCBvbiBBREQgUEFZTUVOVCBidG4gd2l0aCBwb3N0YWwgY29kZS0gIisgdGhpcy5wb3N0YWxDb2RlLAogICAgICAgIC8vICAgfSk7CiAgICAgICAgY29uc29sZS5sb2coIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIHBvc3RhbCBjb2RlLSAiICsgdGhpcy5wb3N0YWxDb2RlKQogICAgICAgIHRoaXMuaHBzLnRva2VuaXplKCk7CiAgICAgIH0KICAgICAgLy9jaGVjayBDQSBQb3N0YWwgY29kZSBSZWdleAogICAgICBlbHNlIGlmICgvLipbYS16QS1aXS4qJC8udGVzdCh0aGlzLnBvc3RhbENvZGUpKSB7CiAgICAgICAgdGhpcy5ocHMub3B0aW9ucy5wdWJsaWNLZXkgPSAicGthcGlfY2VydF9aZlFuVENRa0hPcnZVaHZDNjIiCiAgICAgICAgLy8gdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgIC8vICAgICBwaG9uZTogdGhpcy5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgLy8gICAgIHJlZklkOiB0aGlzLmJvb2tpbmdJZCwKICAgICAgICAvLyAgICAgc3RhdHVzVGV4dDogIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIHBvc3RhbCBjb2RlLSAiKyB0aGlzLnBvc3RhbENvZGUsCiAgICAgICAgLy8gICB9KTsKICAgICAgICBjb25zb2xlLmxvZygiUGFya2VyIGNsaWNrZWQgb24gQUREIFBBWU1FTlQgYnRuIHdpdGggcG9zdGFsIGNvZGUtICIgKyB0aGlzLnBvc3RhbENvZGUpCiAgICAgICAgdGhpcy5ocHMudG9rZW5pemUoKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyTXNnID0KICAgICAgICAgIHRoaXMucG9zdGFsQ29kZS5sZW5ndGggPiAwCiAgICAgICAgICAgID8gIkludmFsaWQgcG9zdGFsIGNvZGUiCiAgICAgICAgICAgIDogIlBvc3RhbCBjb2RlIGNhbm5vdCBiZSBlbXB0eSI7CiAgICAgIH0KICAgIH0sCiAgICBpbml0SFBTZm9ybSgpIHsKICAgICAgdmFyIHNlbGYgPSB0aGlzOwogICAgICB0aGlzLmhwcyA9IG5ldyBIZWFydGxhbmQuSFBTKHsKICAgICAgICB0eXBlOiAiaWZyYW1lIiwKICAgICAgICBmaWVsZHM6IHsKICAgICAgICAgIGNhcmROdW1iZXI6IHsKICAgICAgICAgICAgdGFyZ2V0OiAiaWZyYW1lc0NhcmROdW1iZXIiLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogIkVudGVyIENhcmQgTnVtYmVyIiwKICAgICAgICAgIH0sCiAgICAgICAgICBjYXJkRXhwaXJhdGlvbjogewogICAgICAgICAgICB0YXJnZXQ6ICJpZnJhbWVzQ2FyZEV4cGlyYXRpb24iLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogIk1NIC8gWVlZWSIsCiAgICAgICAgICB9LAogICAgICAgICAgY2FyZEN2djogewogICAgICAgICAgICB0YXJnZXQ6ICJpZnJhbWVzQ2FyZEN2diIsCiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAiZXggLSAxMjMiLAogICAgICAgICAgfSwKICAgICAgICB9LAogICAgICAgIC8vIENvbGxlY3Rpb24gb2YgQ1NTIHRvIGluamVjdCBpbnRvIHRoZSBpZnJhbWVzLgogICAgICAgIC8vIFRoZXNlIHByb3BlcnRpZXMgY2FuIG1hdGNoIHRoZSBzaXRlJ3Mgc3R5bGVzCiAgICAgICAgLy8gdG8gY3JlYXRlIGEgc2VhbWxlc3MgZXhwZXJpZW5jZS4KICAgICAgICBzdHlsZTogewogICAgICAgICAgaW5wdXQ6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIiNmZmYiLAogICAgICAgICAgICBib3JkZXI6ICIxcHggc29saWQiLAogICAgICAgICAgICAiYm9yZGVyLWNvbG9yIjogIiNiYmIzYjkgI2M3YzFjNiAjYzdjMWM2IiwKICAgICAgICAgICAgImJveC1zaXppbmciOiAiYm9yZGVyLWJveCIsCiAgICAgICAgICAgICJmb250LWZhbWlseSI6ICJzZXJpZiIsCiAgICAgICAgICAgICJmb250LXNpemUiOiAiMTZweCIsCiAgICAgICAgICAgICJsaW5lLWhlaWdodCI6ICIxIiwKICAgICAgICAgICAgbWFyZ2luOiAiMCAuNWVtIDAgMCIsCiAgICAgICAgICAgICJtYXgtd2lkdGgiOiAiMTAwJSIsCiAgICAgICAgICAgIG91dGxpbmU6ICIwIiwKICAgICAgICAgICAgcGFkZGluZzogIjAuNTI3OGVtIiwKICAgICAgICAgICAgInZlcnRpY2FsLWFsaWduIjogImJhc2VsaW5lIiwKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIsCiAgICAgICAgICAgIHdpZHRoOiAiMTAwJSAhaW1wb3J0YW50IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZCI6IHsKICAgICAgICAgICAgImZvbnQtZmFtaWx5IjogInNhbnMtc2VyaWYiLAogICAgICAgICAgICAiYm94LXNpemluZyI6ICJib3JkZXItYm94IiwKICAgICAgICAgICAgZGlzcGxheTogImJsb2NrIiwKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIsCiAgICAgICAgICAgIHBhZGRpbmc6ICI2cHggNnB4IiwKICAgICAgICAgICAgImZvbnQtc2l6ZSI6ICIxNHB4IiwKICAgICAgICAgICAgImxpbmUtaGVpZ2h0IjogIjEuNDI4NTcxNDMiLAogICAgICAgICAgICBjb2xvcjogIiM1NTUiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjZmZmIiwKICAgICAgICAgICAgImJvcmRlci1ib3R0b20iOiAiMXB4IHNvbGlkICNjY2MiLAogICAgICAgICAgICAiYm9yZGVyLXRvcCI6ICIwcHgiLAogICAgICAgICAgICAiYm9yZGVyLWxlZnQiOiAiMHB4IiwKICAgICAgICAgICAgImJvcmRlci1yaWdodCI6ICIwcHgiLAogICAgICAgICAgICAiYm9yZGVyLXJhZGl1cyI6ICIwcHgiLAogICAgICAgICAgICAvLyAiLXdlYmtpdC1ib3gtc2hhZG93IjogImluc2V0IDAgMXB4IDFweCByZ2JhKDAsMCwwLC4wNzUpIiwKICAgICAgICAgICAgLy8gImJveC1zaGFkb3ciOiAiaW5zZXQgMCAxcHggMXB4IHJnYmEoMCwwLDAsLjA3NSkiLAogICAgICAgICAgICAiLXdlYmtpdC10cmFuc2l0aW9uIjoKICAgICAgICAgICAgICAiYm9yZGVyLWNvbG9yIGVhc2UtaW4tb3V0IC4xNXMsLXdlYmtpdC1ib3gtc2hhZG93IGVhc2UtaW4tb3V0IC4xNXMiLAogICAgICAgICAgICAiLW8tdHJhbnNpdGlvbiI6CiAgICAgICAgICAgICAgImJvcmRlci1jb2xvciBlYXNlLWluLW91dCAuMTVzLGJveC1zaGFkb3cgZWFzZS1pbi1vdXQgLjE1cyIsCiAgICAgICAgICAgIHRyYW5zaXRpb246CiAgICAgICAgICAgICAgImJvcmRlci1jb2xvciBlYXNlLWluLW91dCAuMTVzLGJveC1zaGFkb3cgZWFzZS1pbi1vdXQgLjE1cyIsCiAgICAgICAgICAgIHdpZHRoOiAiMTAwJSIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGRbbmFtZT1zdWJtaXRdIjogewogICAgICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjRjE1NTVDIiwKICAgICAgICAgICAgImZvbnQtZmFtaWx5IjogInNhbnMtc2VyaWYiLAogICAgICAgICAgICAidGV4dC10cmFuc2Zvcm0iOiAidXBwZXJjYXNlIiwKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIsCiAgICAgICAgICAgIGNvbG9yOiAiI2ZmZmZmZiIsCiAgICAgICAgICAgIGJvcmRlcjogIjBweCBzb2xpZCB0cmFuc3BhcmVudCIsCiAgICAgICAgICAgICJib3JkZXItcmFkaXVzIjogIjJweCIsCiAgICAgICAgICAgICJmb250LXdlaWdodCI6ICJib2xkZXIiLAogICAgICAgICAgICAiZm9udC1zaXplIjogIm1lZGl1bSIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGRbbmFtZT1zdWJtaXRdOmZvY3VzIjogewogICAgICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjRjE1NTVDIiwKICAgICAgICAgICAgImZvbnQtZmFtaWx5IjogInNhbnMtc2VyaWYiLAogICAgICAgICAgICAidGV4dC10cmFuc2Zvcm0iOiAidXBwZXJjYXNlIiwKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIsCiAgICAgICAgICAgIGNvbG9yOiAiI2ZmZmZmZiIsCiAgICAgICAgICAgIGJvcmRlcjogIjBweCBzb2xpZCB0cmFuc3BhcmVudCAhaW1wb3J0YW50IiwKICAgICAgICAgICAgImJvcmRlci1yYWRpdXMiOiAiMnB4IiwKICAgICAgICAgICAgImZvbnQtd2VpZ2h0IjogImJvbGRlciIsCiAgICAgICAgICAgICJmb250LXNpemUiOiAibWVkaXVtIiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZFtuYW1lPXN1Ym1pdF06aG92ZXIiOiB7CiAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNGMTU1NUMiLAogICAgICAgICAgICAiZm9udC1mYW1pbHkiOiAic2Fucy1zZXJpZiIsCiAgICAgICAgICAgICJ0ZXh0LXRyYW5zZm9ybSI6ICJ1cHBlcmNhc2UiLAogICAgICAgICAgICBoZWlnaHQ6ICI1MHB4IiwKICAgICAgICAgICAgY29sb3I6ICIjZmZmZmZmIiwKICAgICAgICAgICAgYm9yZGVyOiAiMHB4IHNvbGlkIHRyYW5zcGFyZW50ICFpbXBvcnRhbnQiLAogICAgICAgICAgICAiYm9yZGVyLXJhZGl1cyI6ICIycHgiLAogICAgICAgICAgICAiZm9udC13ZWlnaHQiOiAiYm9sZGVyIiwKICAgICAgICAgICAgImZvbnQtc2l6ZSI6ICJtZWRpdW0iLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLXdyYXBwZXIgI2hlYXJ0bGFuZC1maWVsZDpmb2N1cyI6IHsKICAgICAgICAgICAgImJvcmRlci1sZWZ0IjogIjBweCIsCiAgICAgICAgICAgICJib3JkZXItdG9wIjogIjBweCIsCiAgICAgICAgICAgICJib3JkZXItcmlnaHQiOiAiMHB4IiwKICAgICAgICAgICAgImJvcmRlci1ib3R0b20iOiAiMXB4IHNvbGlkICMzOTg5ZTMiLAogICAgICAgICAgICBvdXRsaW5lOiAibm9uZSIsCiAgICAgICAgICAgICJib3gtc2hhZG93IjogIm5vbmUiLAogICAgICAgICAgICBoZWlnaHQ6ICI1MHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiaGVhcnRsYW5kLWZpZWxkLXdyYXBwZXIgI2hlYXJ0bGFuZC1maWVsZCI6IHsKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIsCiAgICAgICAgICB9LAogICAgICAgICAgImlucHV0W3R5cGU9c3VibWl0XSI6IHsKICAgICAgICAgICAgImJveC1zaXppbmciOiAiYm9yZGVyLWJveCIsCiAgICAgICAgICAgIGRpc3BsYXk6ICJpbmxpbmUtYmxvY2siLAogICAgICAgICAgICBwYWRkaW5nOiAiNnB4IDEycHgiLAogICAgICAgICAgICAibWFyZ2luLWJvdHRvbSI6ICIwIiwKICAgICAgICAgICAgImZvbnQtc2l6ZSI6ICIxNHB4IiwKICAgICAgICAgICAgImZvbnQtd2VpZ2h0IjogIjQwMCIsCiAgICAgICAgICAgICJsaW5lLWhlaWdodCI6ICIxLjQyODU3MTQzIiwKICAgICAgICAgICAgInRleHQtYWxpZ24iOiAiY2VudGVyIiwKICAgICAgICAgICAgIndoaXRlLXNwYWNlIjogIm5vd3JhcCIsCiAgICAgICAgICAgICJ2ZXJ0aWNhbC1hbGlnbiI6ICJtaWRkbGUiLAogICAgICAgICAgICAiLW1zLXRvdWNoLWFjdGlvbiI6ICJtYW5pcHVsYXRpb24iLAogICAgICAgICAgICAidG91Y2gtYWN0aW9uIjogIm1hbmlwdWxhdGlvbiIsCiAgICAgICAgICAgIGN1cnNvcjogInBvaW50ZXIiLAogICAgICAgICAgICAiLXdlYmtpdC11c2VyLXNlbGVjdCI6ICJub25lIiwKICAgICAgICAgICAgIi1tb3otdXNlci1zZWxlY3QiOiAibm9uZSIsCiAgICAgICAgICAgICItbXMtdXNlci1zZWxlY3QiOiAibm9uZSIsCiAgICAgICAgICAgICJ1c2VyLXNlbGVjdCI6ICJub25lIiwKICAgICAgICAgICAgImJhY2tncm91bmQtaW1hZ2UiOiAibm9uZSIsCiAgICAgICAgICAgIGJvcmRlcjogIjFweCBzb2xpZCB0cmFuc3BhcmVudCIsCiAgICAgICAgICAgICJib3JkZXItcmFkaXVzIjogIjRweCIsCiAgICAgICAgICAgIGNvbG9yOiAiI2ZmZiIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiMzMzdhYjciLAogICAgICAgICAgICAiYm9yZGVyLWNvbG9yIjogIiMyZTZkYTQiLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkW3BsYWNlaG9sZGVyXSI6IHsKICAgICAgICAgICAgImxldHRlci1zcGFjaW5nIjogIjFweCIsCiAgICAgICAgICB9LAogICAgICAgICAgIjo6cGxhY2Vob2xkZXIiOiB7CiAgICAgICAgICAgIGNvbG9yOiAiIzhDQTJBRCIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGRbbmFtZT1jYXJkQ3Z2XSI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvY3Z2MS5wbmc/cmF3PXRydWUpIG5vLXJlcGVhdCByaWdodCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXNpemUiOiAiNjNweCA0MHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiaW5wdXQjaGVhcnRsYW5kLWZpZWxkW25hbWU9Y2FyZE51bWJlcl0iOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6CiAgICAgICAgICAgICAgInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLWlucHV0Y2FyZC1ibGFua0AyeC5wbmc/cmF3PXRydWUpIG5vLXJlcGVhdCByaWdodCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXNpemUiOiAiNTVweCAzNXB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC5pbnZhbGlkLmNhcmQtdHlwZS12aXNhIjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOgogICAgICAgICAgICAgICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZC12aXNhQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI4M3B4IDg4cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi00NHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC52YWxpZC5jYXJkLXR5cGUtdmlzYSI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWQtdmlzYUAyeC5wbmc/cmF3PXRydWUpIG5vLXJlcGVhdCByaWdodCB0b3AiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjgycHggODZweCIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGQuaW52YWxpZC5jYXJkLXR5cGUtZGlzY292ZXIiOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6CiAgICAgICAgICAgICAgInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLXNhdmVkLWRpc2NvdmVyQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI4NXB4IDkwcHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi00NHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC52YWxpZC5jYXJkLXR5cGUtZGlzY292ZXIiOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6CiAgICAgICAgICAgICAgInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLXNhdmVkLWRpc2NvdmVyQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI4NXB4IDkwcHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIjFweCIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGQuaW52YWxpZC5jYXJkLXR5cGUtYW1leCI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWRjYXJkcy1hbWV4QDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI1MHB4IDkwcHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi00NHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC52YWxpZC5jYXJkLXR5cGUtYW1leCI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWRjYXJkcy1hbWV4QDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IHRvcCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXNpemUiOiAiNTBweCA5MHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC5pbnZhbGlkLmNhcmQtdHlwZS1tYXN0ZXJjYXJkIjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOgogICAgICAgICAgICAgICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZC1tYXN0ZXJjYXJkLnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI2MnB4IDEwNXB4IiwKICAgICAgICAgICAgImJhY2tncm91bmQtcG9zaXRpb24teSI6ICItNTJweCIsCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGQudmFsaWQuY2FyZC10eXBlLW1hc3RlcmNhcmQiOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6CiAgICAgICAgICAgICAgInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLXNhdmVkLW1hc3RlcmNhcmQucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjYycHggMTA1cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi0xcHgiLAogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLmludmFsaWQuY2FyZC10eXBlLWpjYiI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDoKICAgICAgICAgICAgICAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWQtamNiQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI1NXB4IDk0cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi00NHB4IiwKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC52YWxpZC5jYXJkLXR5cGUtamNiIjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOgogICAgICAgICAgICAgICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZC1qY2JAMngucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQgdG9wIiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI1NXB4IDk0cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIjJweCIsCiAgICAgICAgICB9LAogICAgICAgICAgImlucHV0I2hlYXJ0bGFuZC1maWVsZFtuYW1lPWNhcmROdW1iZXJdOjotbXMtY2xlYXIiOiB7CiAgICAgICAgICAgIGRpc3BsYXk6ICJub25lIiwKICAgICAgICAgIH0sCiAgICAgICAgfSwKICAgICAgICAvLyBDYWxsYmFjayB3aGVuIGEgdG9rZW4gaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmljZQogICAgICAgIG9uVG9rZW5TdWNjZXNzOiBmdW5jdGlvbiAocmVzcCkgewogICAgICAgICAgLy8gc2VsZi5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgLy8gICBwaG9uZTogc2VsZi5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgICAvLyAgIHJlZklkOiBzZWxmLmJvb2tpbmdJZCwKICAgICAgICAgIC8vICAgc3RhdHVzVGV4dDogIkhQUyB0b2tlbiBnZW5lcmF0ZWQgc3VjY2Vzc2Z1bGx5IiwKICAgICAgICAgIC8vIH0pOwogICAgICAgICAgc2VsZi5vblN1Ym1pdChyZXNwKTsKICAgICAgICB9LAogICAgICAgIC8vIENhbGxiYWNrIHdoZW4gYW4gZXJyb3IgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmljZQogICAgICAgIG9uVG9rZW5FcnJvcjogZnVuY3Rpb24gKHJlc3ApIHsKICAgICAgICAgIHNlbGYuYWRkUGF5bWVudExvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIHNlbGYuc2hvd1BheW1lbnRCdG4gPSB0cnVlOwogICAgICAgICAgc2VsZi5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgICAgc2VsZi5lcnJNc2cgPSByZXNwLmVycm9yLm1lc3NhZ2U7CiAgICAgICAgICAvLyBzZWxmLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAvLyAgIHBob25lOiBzZWxmLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgIC8vICAgcmVmSWQ6IHNlbGYuYm9va2luZ0lkLAogICAgICAgICAgLy8gICBlcnJvcjogcmVzcC5lcnJvci5tZXNzYWdlLAogICAgICAgICAgLy8gICBzdGF0dXNUZXh0OiAiRXJyb3IgaW4gZ2VuZXJhdGluZyBIUFMgdG9rZW4uIiwKICAgICAgICAgIC8vIH0pOwogICAgICAgICAgLy8gYWxlcnQoIlRoZXJlIHdhcyBhbiBlcnJvcjogIiArIHJlc3AuZXJyb3IubWVzc2FnZSk7CiAgICAgICAgfSwKICAgICAgICAvLyBDYWxsYmFjayB3aGVuIGFuIGV2ZW50IGlzIGZpcmVkIHdpdGhpbiBhbiBpRnJhbWUKICAgICAgICBvbkV2ZW50OiBmdW5jdGlvbiAoKSB7IH0sCiAgICAgIH0pOwogICAgfSwKICAgIG5hdmlnYXRlVG9DaGVja0luKCkgewogICAgICBpZiAodGhpcy50ZW1wbGF0ZUZsYWdzID09PSAnb25kZW1hbmQtZmxhZycpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICIvb25kZW1hbmQiIH0pOwogICAgICB9CiAgICAgIGVsc2UgewogICAgICAgIHRoaXMuJHJvdXRlci5yZXBsYWNlKHsgcGF0aDogJy9wcmVwYWlkaG9zdCcgfSkKICAgICAgfQogICAgfSwKICAgIGFzeW5jIG9uU3VibWl0KHJlc3ApIHsKICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IGZhbHNlOwogICAgICBsZXQgZW1haWxfdmFsdWUgPSB0aGlzLmVtYWlsLnRyaW0oKTsgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImVtYWlsX2FkZHJlc3MiKS52YWx1ZTsKICAgICAgbGV0IHBvc3RhbENvZGVfdmFsdWUgPSB0aGlzLnBvc3RhbENvZGUudHJpbSgpOyAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwb3N0YWxfY29kZSIpLnZhbHVlOwogICAgICBpZiAoCiAgICAgICAgdGhpcy52YWxpZGF0ZUVtYWlsKGVtYWlsX3ZhbHVlKSAmJgogICAgICAgIHRoaXMudmFsaWRhdGVQb3N0YWxDb2RlKHBvc3RhbENvZGVfdmFsdWUpICYmCiAgICAgICAgdGhpcy52YWxpZGF0ZUV4cERhdGUocmVzcC5leHBfbW9udGgsIHJlc3AuZXhwX3llYXIpCiAgICAgICkgewogICAgICAgIGlmIChyZXNwPy50b2tlbl92YWx1ZSkgewogICAgICAgICAgdGhpcy5hZGRQYXltZW50TG9hZGluZyA9IHRydWU7CiAgICAgICAgICBsZXQgY2FyZERhdGEgPSB7CiAgICAgICAgICAgIGNhcmRUeXBlOiByZXNwLmNhcmRfdHlwZSwKICAgICAgICAgICAgdXNlckRldmljZTogIjIiLAogICAgICAgICAgICBvcmRlclR5cGU6ICIzIiwKICAgICAgICAgICAgZW50cnk6IFsKICAgICAgICAgICAgICB7CiAgICAgICAgICAgICAgICBsb2NhdGlvbkNvZGU6IHRoaXMuem9uZURldGFpbHMuemNvZGUsCiAgICAgICAgICAgICAgICBzdGFydEF0OiAnJywKICAgICAgICAgICAgICAgIHF1YW50aXR5OiAiMSIsCiAgICAgICAgICAgICAgfSwKICAgICAgICAgICAgXSwKICAgICAgICAgIH07CiAgICAgICAgICAvLyBUaGUgY29uZGl0aW9uYWwgZnVuY3Rpb25zIHRvIGNoZWNrIGZvciB0aGUgZmxhZ3Mgb25kZW1hbmQgb3IgYXRsYW50aWMgZmxvdwogICAgICAgICAgc3dpdGNoICh0aGlzLnRlbXBsYXRlRmxhZ3MpIHsKICAgICAgICAgICAgY2FzZSAnb25kZW1hbmQtZmxhZyc6IHsKICAgICAgICAgICAgICBsZXQgcGF5bWVudERhdGEgPSB7CiAgICAgICAgICAgICAgICBsYXN0Rm91ckRpZ2l0czogcmVzcC5sYXN0X2ZvdXIsCiAgICAgICAgICAgICAgICBleHBpcmF0aW9uTW9udGg6IHJlc3AuZXhwX21vbnRoLAogICAgICAgICAgICAgICAgZXhwaXJhdGlvblllYXI6IHJlc3AuZXhwX3llYXIsCiAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBwb3N0YWxDb2RlX3ZhbHVlLAogICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvblRva2VuOiByZXNwLnRva2VuX3ZhbHVlLAogICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsX3ZhbHVlLAogICAgICAgICAgICAgICAgc2F2ZUNhcmQ6IHRoaXMuZGVmYXVsdENyZWRpdENhcmRDQi50b1N0cmluZygpLAogICAgICAgICAgICAgICAgaXNEZWZhdWx0OiB0aGlzLmRlZmF1bHRDcmVkaXRDYXJkQ0IsCiAgICAgICAgICAgICAgICBwcmVBdXRob3JpemVkT25seTogdGhpcy5hdXRvQ2hlY2tpbkNCCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5jb21taXQoJ1NFVF9PTkRFTUFORF9DQVJEREVUQUlMUycsIGNhcmREYXRhKQogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX09OREVNQU5EX1BBWU1FTlQnLCBwYXltZW50RGF0YSkKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICcvb25kZW1hbmQvb2RSZWNlaXB0JyB9KQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGNhc2UgJ2F0bGFudGljLWZsYWcnOiB7CiAgICAgICAgICAgICAgbGV0IHBheW1lbnREYXRhID0gewogICAgICAgICAgICAgICAgbGFzdEZvdXJEaWdpdHM6IHJlc3AubGFzdF9mb3VyLAogICAgICAgICAgICAgICAgZXhwaXJhdGlvbk1vbnRoOiByZXNwLmV4cF9tb250aCwKICAgICAgICAgICAgICAgIGV4cGlyYXRpb25ZZWFyOiByZXNwLmV4cF95ZWFyLAogICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogcG9zdGFsQ29kZV92YWx1ZSwKICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Ub2tlbjogcmVzcC50b2tlbl92YWx1ZSwKICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbF92YWx1ZSwKICAgICAgICAgICAgICAgIHNhdmVDYXJkOiB0aGlzLmRlZmF1bHRDcmVkaXRDYXJkQ0IudG9TdHJpbmcoKSwKICAgICAgICAgICAgICAgIGlzRGVmYXVsdDogdGhpcy5kZWZhdWx0Q3JlZGl0Q2FyZENCLAogICAgICAgICAgICAgICAgcHJlQXV0aG9yaXplZE9ubHk6IHRoaXMuYXV0b0NoZWNraW5DQgogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfQ0FTSU5PX0NBUkRERVRBSUxTJywgY2FyZERhdGEpCiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuY29tbWl0KCdTRVRfQ0FTSU5PX1BBWU1FTlQnLCBwYXltZW50RGF0YSkKICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICcvcHJlcGFpZGhvc3Qvb2RSZWNlaXB0JyB9KQogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICB9CgogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIHZhbGlkYXRlRXhwRGF0ZShtb250aCwgeWVhcikgewogICAgICBpZiAobW9udGgubGVuZ3RoID4gMCAmJiB5ZWFyLmxlbmd0aCA+IDApIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVyckRpYWxvZyA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJNc2cgPSAiRXhwaXJhdGlvbiBkYXRlIGNhbm5vdCBiZSBlbXB0eS4iOwogICAgICAgIHRoaXMuYWRkUGF5bWVudExvYWRpbmcgPSBmYWxzZTsKICAgICAgICB0aGlzLnNob3dQYXltZW50QnRuID0gdHJ1ZTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgICB2YWxpZGF0ZUVtYWlsKGVtYWlsKSB7CiAgICAgIGNvbnN0IHJlID0KICAgICAgICAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOwogICAgICBpZiAocmUudGVzdChTdHJpbmcoZW1haWwpLnRvTG93ZXJDYXNlKCkpKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyTXNnID0KICAgICAgICAgIGVtYWlsLmxlbmd0aCA+IDAgPyAiSW52YWxpZCBlbWFpbCIgOiAiRW1haWwgY2Fubm90IGJlIGVtcHR5IjsKICAgICAgICB0aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgdmFsaWRhdGVQb3N0YWxDb2RlKGNvZGUpIHsKICAgICAgY29uc3QgcmVnZXggPSAvXlthLXowLTldKyQvaTsKICAgICAgaWYgKHJlZ2V4LnRlc3QoY29kZSkgJiYgU3RyaW5nKGNvZGUpLmxlbmd0aCA8PSAxMCkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyRGlhbG9nID0gdHJ1ZTsKICAgICAgICB0aGlzLmVyck1zZyA9CiAgICAgICAgICBjb2RlLmxlbmd0aCA+IDAKICAgICAgICAgICAgPyAiSW52YWxpZCBwb3N0YWwgY29kZSIKICAgICAgICAgICAgOiAiUG9zdGFsIGNvZGUgY2Fubm90IGJlIGVtcHR5IjsKICAgICAgICB0aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgb3BlbkluZm9EaWFsb2coKSB7CiAgICAgIHRoaXMuaW5mb0RpYWxvZyA9IHRydWU7CiAgICAgIHRoaXMuaW5mb01zZyA9ICJCeSBjaGVja2luZyB0aGlzIGJveCB5b3UgYWdyZWUgdG8gbGV0IHVzIHRvIHNlY3VyZWx5IHNhdmUgeW91ciBjcmVkaXQgY2FyZCBkZXRhaWxzIHNvIHlvdSBkb24ndCBoYXZlIHRvIGVudGVyIHRoZW0gZXZlcnkgdGltZSB5b3UgdmlzaXQuIgogICAgfSwKICAgIG9wZW5BdXRvQ2hlY2tpbkluZm9EaWFsb2coKSB7CiAgICAgIHRoaXMuaW5mb0RpYWxvZyA9IHRydWU7CiAgICAgIHRoaXMuaW5mb01zZyA9ICJCeSBjaGVja2luZyB0aGlzIGJveCB5b3UgYWdyZWUgdG8gbGV0IHVzIHNlY3VyZWx5IHNhdmUgeW91ciBsaWNlbnNlIHBsYXRlIG51bWJlciBhbmQgYXV0b21hdGljYWxseSBsZXQgeW91IGluIGFuZCBvdXQgZWFjaCB0aW1lIHlvdSB2aXNpdC4iOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gKCkgewogICAgdGhpcy5ocHMuZGlzcG9zZSgpOwogIH0sCn07Cg=="},{"version":3,"sources":["makePayment.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"makePayment.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <v-container class=\"pa-0 fill-height\" fluid>\n    <v-card elevation=\"0\" class=\"pa-0 fill-height fit-width\">\n      <v-card-title class=\"justify-center add_payment_title\">\n        <v-spacer></v-spacer>\n        <span>Add Payment</span>\n        <v-spacer></v-spacer>\n        <v-icon @click=\"navigateToCheckIn\">mdi-close</v-icon>\n      </v-card-title>\n      <v-divider style=\"background-color: #a0c5d8\"></v-divider>\n      <v-card-text class=\"pa-2\">\n        <v-dialog v-model=\"addPaymentLoading\" persistent>\n          <v-card class=\"pa-4\">\n            <v-progress-circular indeterminate color=\"red\"></v-progress-circular>\n            <span class=\"ml-4\" style=\"font-size: 14px\">Please wait...</span>\n          </v-card>\n        </v-dialog>\n\n        <div class=\"form-wrapper\">\n          <form id=\"iframes\" action method=\"GET\">\n            <v-container class=\"pa-2\" fluid>\n              <v-row no-gutters>\n                <v-col cols=\"12\" class=\"pa-0\">\n                  <label for=\"iframesCardNumber\">CREDIT CARD*</label>\n                  <div id=\"iframesCardNumber\" style=\"width: 100%\"></div>\n                </v-col>\n                <v-col cols=\"6\" class=\"pa-0\">\n                  <label for=\"iframesCardExpiration\">EXP DATE*</label>\n                  <div id=\"iframesCardExpiration\"></div>\n                </v-col>\n                <v-divider vertical class=\"mx-2 my-4\"></v-divider>\n                <v-col class=\"pa-0\">\n                  <label for=\"iframesCardCvv\">CVV*</label>\n                  <div id=\"iframesCardCvv\"></div>\n                </v-col>\n                <v-col cols=\"12\" class=\"pa-0 mb-2\">\n                  <label class=\"hps_label\" for=\"postalCode\">POSTAL CODE*</label>\n                  <div>\n                    <input ref=\"postalCodeInput\" v-model=\"postalCode\" class=\"hps_input\" type=\"tel\" id=\"postal_code\"\n                      maxlength=\"10\" placeholder=\"Enter Postal Code\" name=\"postalCode\"\n                      @focus=\"$vuetify.goTo($refs.postalCodeInput, options)\"\n                      @mouseup=\"$vuetify.goTo($refs.postalCodeInput, options)\" />\n                  </div>\n                </v-col>\n                <!-- <v-col cols=\"12\" v-show=\"!checkPostalCode\">\n                    <p\n                      style=\"\n                        color: #d3838d;\n                        font-weight: bolder;\n                        font-size: smaller;\n                      \"\n                    >\n                      *This payment method applies for [US | CANADIAN] locations\n                      only.\n                    </p>\n                  </v-col> -->\n                <v-col cols=\"12\" class=\"pa-0\">\n                  <label class=\"hps_label\" for=\"email\">EMAIL*</label>\n                  <div>\n                    <input ref=\"emailInput\" v-model=\"email\" class=\"hps_input\" id=\"email_address\" placeholder=\"Enter Email\"\n                      name=\"email\" v-on:keyup.enter=\"onFormSubmit()\" @focus=\"$vuetify.goTo($refs.emailInput, options)\"\n                      @mouseup=\"$vuetify.goTo($refs.emailInput, options)\" />\n                  </div>\n                </v-col>\n                <v-col cols=\"10\" class=\"pa-0\" v-if=\"templateFlags === 'ondemand-flag'\">\n                  <v-checkbox v-model=\"defaultCreditCardCB\" label=\"Save my card for faster checkout next time\"\n                    hide-details=\"auto\"></v-checkbox>\n                </v-col>\n                <v-col cols=\"2\" class=\"pa-0 text-left pl-10 align-self-end\" v-if=\"templateFlags !== 'atlantic-flag'\">\n                  <v-icon @click=\"openInfoDialog()\" color=\"primary\">mdi-information</v-icon>\n                </v-col>\n                <!-- <p class=\"px-8 font-weight-bold text-decoration-underline\" style=\"font-size: 11px;\">(Do not check this box\n                  for a car you don't own, like a rental)\n                </p> -->\n\n                <!-- <v-col\n                    cols=\"10\"\n                    class=\"pa-0\"\n                    v-show=\"\n                     defaultCreditCardCB == true && bookingDetails.booking.isLPRAutocheckInEnabled == '1'\n                    \"\n                  >\n                    <v-checkbox\n                      v-model=\"autoCheckinCB\"\n                      label=\"Save my license plate and automatically let me in next time\"\n                      hide-details=\"auto\"\n                    ></v-checkbox>\n                  </v-col>\n                   <v-col\n                    cols=\"2\"\n                    class=\"pa-0 text-left align-self-center\"\n                    v-show=\"\n                     defaultCreditCardCB == true && bookingDetails.booking.isLPRAutocheckInEnabled == '1'\n                    \"\n                  >\n                   <p v-show=\"\n                  defaultCreditCardCB == true &&\n                  bookingDetails.booking.isLPRAutocheckInEnabled == '1'\n                \" class=\"px-8 font-weight-bold text-decoration-underline\" style=\"font-size: 12px;\">(Do not check this\n                  box if this is a rental car.)</p>\n                  <v-icon @click=\"openAutoCheckinInfoDialog()\" color=\"primary\" >mdi-information</v-icon>\n                   </v-col> -->\n                <v-col cols=\"12\" class=\"mt-10 text-center\" v-show=\"showPaymentBtn\">\n                  <v-btn ref=\"submitBtn\" rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                    @click=\"onFormSubmit()\">Submit</v-btn>\n                </v-col>\n                <!-- <v-col cols=\"12\" class=\"mt-10 text-center\">\n                    <div id=\"iframesSubmit\" v-show=\"showPaymentBtn\"></div>\n                  </v-col>-->\n              </v-row>\n            </v-container>\n          </form>\n        </div>\n      </v-card-text>\n    </v-card>\n    <v-dialog v-model=\"errDialog\" max-width=\"fit-content\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\">\n          <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">\n            {{ errMsg }}\n          </span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"errDialog = false\">OK</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n    <v-dialog v-model=\"infoDialog\" max-width=\"fit-content\">\n      <v-card class=\"pa-0\">\n        <v-card-title class=\"justify-center\">\n          <v-icon x-large color=\"red accent-2\">mdi-information</v-icon>\n        </v-card-title>\n        <v-card-text class=\"text-center mt-5\">\n          <span style=\"font-size: 20px\">\n            {{ infoMsg }}\n          </span>\n        </v-card-text>\n        <v-card-actions class=\"text-center pb-6\">\n          <v-container pa-0 fluid>\n            <v-row no-gutters>\n              <v-col cols=\"12\">\n                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                  @click=\"infoDialog = false\">OK</v-btn>\n              </v-col>\n            </v-row>\n          </v-container>\n        </v-card-actions>\n      </v-card>\n    </v-dialog>\n  </v-container>\n</template>\n\n<script>\nimport Heartland from \"../plugins/securesubmit\";\n// import axios from \"axios\";\n// import loggerHelper from \"../loggerHelper\";\nimport APIHelper from \"../apiHelper\";\nimport { mapGetters } from \"vuex\";\nexport default {\n  name: \"AddPayment\",\n  data: () => ({\n    defaultCreditCardCB: false,\n    autoCheckinCB: false,\n    hps: \"\",\n    postalCode: \"\",\n    email: \"\",\n    addPaymentLoading: false,\n    showPaymentBtn: true,\n    duration: 300,\n    offset: 100,\n    easing: \"easeInOutCubic\",\n    errDialog: false,\n    errMsg: \"\",\n    infoDialog: false,\n    infoMsg: \"\"\n  }),\n  computed: {\n    ...mapGetters({\n      bookingId: \"getterBookingId\",\n      bookingDetails: \"getterBookingDetails\",\n      zoneDetails: \"getterZoneDetails\",\n      templateFlags: 'getterTemplateFlags'\n\n    }),\n    options() {\n      return {\n        duration: this.duration,\n        offset: this.offset,\n        easing: this.easing,\n      };\n    },\n    checkPostalCode() {\n      return (\n        /(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(this.postalCode) ||\n        /^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$/.test(this.postalCode)\n      );\n    },\n  },\n  created() { },\n  beforeRouteEnter(to, from, next) {\n    next(async (vm) => {\n      vm.$vuetify.goTo(0);\n      let searchParams = window.location.search.split(\"=\");\n      let searchParamKey = searchParams.length > 0 ? searchParams[0] : \"\";\n      let searchParamValue = searchParams.length > 0 ? searchParams[1] : \"\";\n      switch (searchParamKey) {\n        case \"?zcode\":\n          vm.getZoneDetails(searchParamKey, searchParamValue);\n          break;\n        case \"?gateid\":\n          //await self.getZoneDetails(searchParamKey, searchParamValue);\n          break;\n      }\n    });\n  },\n  mounted: function () {\n    this.initHPSform();\n  },\n  methods: {\n    /**\n* @method getZoneDetails fetch the zone details and commit SET_ZONE_DETAILS mutation.\n*/\n    async getZoneDetails(searchParamKey, searchParamValue) {\n      try {\n        var zoneDetails = await APIHelper(\n          \"GET\",\n          \"/api/v1/user/config\" + searchParamKey + \"=\" + searchParamValue\n        );\n        this.$store.commit(\"SET_ZONE_DETAILS\", zoneDetails.data?.zone);\n      } catch (error) {\n        console.log(error);\n      }\n    },\n    onFormSubmit() {\n      this.addPaymentLoading = true;\n      this.showPaymentBtn = false;\n      //check US Postal code Regex\n      if (/^(?=.{2,10}$)([0-9]{1,9}([-s]{1}[0-9]+)?)$/.test(this.postalCode)) {\n        this.hps.options.publicKey = \"pkapi_cert_ZfQnTCQkHOrvUhvC62\"\n        //   this.postToLoggerAPI({\n        //     phone: this.bookingDetails.user.contact,\n        //     refId: this.bookingId,\n        //     statusText: \"Parker clicked on ADD PAYMENT btn with postal code- \"+ this.postalCode,\n        //   });\n        console.log(\"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode)\n        this.hps.tokenize();\n      }\n      //check CA Postal code Regex\n      else if (/.*[a-zA-Z].*$/.test(this.postalCode)) {\n        this.hps.options.publicKey = \"pkapi_cert_ZfQnTCQkHOrvUhvC62\"\n        // this.postToLoggerAPI({\n        //     phone: this.bookingDetails.user.contact,\n        //     refId: this.bookingId,\n        //     statusText: \"Parker clicked on ADD PAYMENT btn with postal code- \"+ this.postalCode,\n        //   });\n        console.log(\"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode)\n        this.hps.tokenize();\n      } else {\n        this.addPaymentLoading = false;\n        this.showPaymentBtn = true;\n        this.errDialog = true;\n        this.errMsg =\n          this.postalCode.length > 0\n            ? \"Invalid postal code\"\n            : \"Postal code cannot be empty\";\n      }\n    },\n    initHPSform() {\n      var self = this;\n      this.hps = new Heartland.HPS({\n        type: \"iframe\",\n        fields: {\n          cardNumber: {\n            target: \"iframesCardNumber\",\n            placeholder: \"Enter Card Number\",\n          },\n          cardExpiration: {\n            target: \"iframesCardExpiration\",\n            placeholder: \"MM / YYYY\",\n          },\n          cardCvv: {\n            target: \"iframesCardCvv\",\n            placeholder: \"ex - 123\",\n          },\n        },\n        // Collection of CSS to inject into the iframes.\n        // These properties can match the site's styles\n        // to create a seamless experience.\n        style: {\n          input: {\n            background: \"#fff\",\n            border: \"1px solid\",\n            \"border-color\": \"#bbb3b9 #c7c1c6 #c7c1c6\",\n            \"box-sizing\": \"border-box\",\n            \"font-family\": \"serif\",\n            \"font-size\": \"16px\",\n            \"line-height\": \"1\",\n            margin: \"0 .5em 0 0\",\n            \"max-width\": \"100%\",\n            outline: \"0\",\n            padding: \"0.5278em\",\n            \"vertical-align\": \"baseline\",\n            height: \"50px\",\n            width: \"100% !important\",\n          },\n          \"#heartland-field\": {\n            \"font-family\": \"sans-serif\",\n            \"box-sizing\": \"border-box\",\n            display: \"block\",\n            height: \"50px\",\n            padding: \"6px 6px\",\n            \"font-size\": \"14px\",\n            \"line-height\": \"1.42857143\",\n            color: \"#555\",\n            \"background-color\": \"#fff\",\n            \"border-bottom\": \"1px solid #ccc\",\n            \"border-top\": \"0px\",\n            \"border-left\": \"0px\",\n            \"border-right\": \"0px\",\n            \"border-radius\": \"0px\",\n            // \"-webkit-box-shadow\": \"inset 0 1px 1px rgba(0,0,0,.075)\",\n            // \"box-shadow\": \"inset 0 1px 1px rgba(0,0,0,.075)\",\n            \"-webkit-transition\":\n              \"border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s\",\n            \"-o-transition\":\n              \"border-color ease-in-out .15s,box-shadow ease-in-out .15s\",\n            transition:\n              \"border-color ease-in-out .15s,box-shadow ease-in-out .15s\",\n            width: \"100%\",\n          },\n          \"#heartland-field[name=submit]\": {\n            \"background-color\": \"#F1555C\",\n            \"font-family\": \"sans-serif\",\n            \"text-transform\": \"uppercase\",\n            height: \"50px\",\n            color: \"#ffffff\",\n            border: \"0px solid transparent\",\n            \"border-radius\": \"2px\",\n            \"font-weight\": \"bolder\",\n            \"font-size\": \"medium\",\n          },\n          \"#heartland-field[name=submit]:focus\": {\n            \"background-color\": \"#F1555C\",\n            \"font-family\": \"sans-serif\",\n            \"text-transform\": \"uppercase\",\n            height: \"50px\",\n            color: \"#ffffff\",\n            border: \"0px solid transparent !important\",\n            \"border-radius\": \"2px\",\n            \"font-weight\": \"bolder\",\n            \"font-size\": \"medium\",\n          },\n          \"#heartland-field[name=submit]:hover\": {\n            \"background-color\": \"#F1555C\",\n            \"font-family\": \"sans-serif\",\n            \"text-transform\": \"uppercase\",\n            height: \"50px\",\n            color: \"#ffffff\",\n            border: \"0px solid transparent !important\",\n            \"border-radius\": \"2px\",\n            \"font-weight\": \"bolder\",\n            \"font-size\": \"medium\",\n          },\n          \"#heartland-field-wrapper #heartland-field:focus\": {\n            \"border-left\": \"0px\",\n            \"border-top\": \"0px\",\n            \"border-right\": \"0px\",\n            \"border-bottom\": \"1px solid #3989e3\",\n            outline: \"none\",\n            \"box-shadow\": \"none\",\n            height: \"50px\",\n          },\n          \"heartland-field-wrapper #heartland-field\": {\n            height: \"50px\",\n          },\n          \"input[type=submit]\": {\n            \"box-sizing\": \"border-box\",\n            display: \"inline-block\",\n            padding: \"6px 12px\",\n            \"margin-bottom\": \"0\",\n            \"font-size\": \"14px\",\n            \"font-weight\": \"400\",\n            \"line-height\": \"1.42857143\",\n            \"text-align\": \"center\",\n            \"white-space\": \"nowrap\",\n            \"vertical-align\": \"middle\",\n            \"-ms-touch-action\": \"manipulation\",\n            \"touch-action\": \"manipulation\",\n            cursor: \"pointer\",\n            \"-webkit-user-select\": \"none\",\n            \"-moz-user-select\": \"none\",\n            \"-ms-user-select\": \"none\",\n            \"user-select\": \"none\",\n            \"background-image\": \"none\",\n            border: \"1px solid transparent\",\n            \"border-radius\": \"4px\",\n            color: \"#fff\",\n            \"background-color\": \"#337ab7\",\n            \"border-color\": \"#2e6da4\",\n          },\n          \"#heartland-field[placeholder]\": {\n            \"letter-spacing\": \"1px\",\n          },\n          \"::placeholder\": {\n            color: \"#8CA2AD\",\n          },\n          \"#heartland-field[name=cardCvv]\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/cvv1.png?raw=true) no-repeat right\",\n            \"background-size\": \"63px 40px\",\n          },\n          \"input#heartland-field[name=cardNumber]\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-inputcard-blank@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"55px 35px\",\n          },\n          \"#heartland-field.invalid.card-type-visa\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-visa@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"83px 88px\",\n            \"background-position-y\": \"-44px\",\n          },\n          \"#heartland-field.valid.card-type-visa\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-visa@2x.png?raw=true) no-repeat right top\",\n            \"background-size\": \"82px 86px\",\n          },\n          \"#heartland-field.invalid.card-type-discover\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-discover@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"85px 90px\",\n            \"background-position-y\": \"-44px\",\n          },\n          \"#heartland-field.valid.card-type-discover\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-discover@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"85px 90px\",\n            \"background-position-y\": \"1px\",\n          },\n          \"#heartland-field.invalid.card-type-amex\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-savedcards-amex@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"50px 90px\",\n            \"background-position-y\": \"-44px\",\n          },\n          \"#heartland-field.valid.card-type-amex\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-savedcards-amex@2x.png?raw=true) no-repeat right top\",\n            \"background-size\": \"50px 90px\",\n          },\n          \"#heartland-field.invalid.card-type-mastercard\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-mastercard.png?raw=true) no-repeat right\",\n            \"background-size\": \"62px 105px\",\n            \"background-position-y\": \"-52px\",\n          },\n          \"#heartland-field.valid.card-type-mastercard\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-mastercard.png?raw=true) no-repeat right\",\n            \"background-size\": \"62px 105px\",\n            \"background-position-y\": \"-1px\",\n          },\n          \"#heartland-field.invalid.card-type-jcb\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-jcb@2x.png?raw=true) no-repeat right\",\n            \"background-size\": \"55px 94px\",\n            \"background-position-y\": \"-44px\",\n          },\n          \"#heartland-field.valid.card-type-jcb\": {\n            background:\n              \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-jcb@2x.png?raw=true) no-repeat right top\",\n            \"background-size\": \"55px 94px\",\n            \"background-position-y\": \"2px\",\n          },\n          \"input#heartland-field[name=cardNumber]::-ms-clear\": {\n            display: \"none\",\n          },\n        },\n        // Callback when a token is received from the service\n        onTokenSuccess: function (resp) {\n          // self.postToLoggerAPI({\n          //   phone: self.bookingDetails.user.contact,\n          //   refId: self.bookingId,\n          //   statusText: \"HPS token generated successfully\",\n          // });\n          self.onSubmit(resp);\n        },\n        // Callback when an error is received from the service\n        onTokenError: function (resp) {\n          self.addPaymentLoading = false;\n          self.showPaymentBtn = true;\n          self.errDialog = true;\n          self.errMsg = resp.error.message;\n          // self.postToLoggerAPI({\n          //   phone: self.bookingDetails.user.contact,\n          //   refId: self.bookingId,\n          //   error: resp.error.message,\n          //   statusText: \"Error in generating HPS token.\",\n          // });\n          // alert(\"There was an error: \" + resp.error.message);\n        },\n        // Callback when an event is fired within an iFrame\n        onEvent: function () { },\n      });\n    },\n    navigateToCheckIn() {\n      if (this.templateFlags === 'ondemand-flag') {\n        this.$router.replace({ path: \"/ondemand\" });\n      }\n      else {\n        this.$router.replace({ path: '/prepaidhost' })\n      }\n    },\n    async onSubmit(resp) {\n      this.showPaymentBtn = false;\n      let email_value = this.email.trim(); // document.getElementById(\"email_address\").value;\n      let postalCode_value = this.postalCode.trim(); //document.getElementById(\"postal_code\").value;\n      if (\n        this.validateEmail(email_value) &&\n        this.validatePostalCode(postalCode_value) &&\n        this.validateExpDate(resp.exp_month, resp.exp_year)\n      ) {\n        if (resp?.token_value) {\n          this.addPaymentLoading = true;\n          let cardData = {\n            cardType: resp.card_type,\n            userDevice: \"2\",\n            orderType: \"3\",\n            entry: [\n              {\n                locationCode: this.zoneDetails.zcode,\n                startAt: '',\n                quantity: \"1\",\n              },\n            ],\n          };\n          // The conditional functions to check for the flags ondemand or atlantic flow\n          switch (this.templateFlags) {\n            case 'ondemand-flag': {\n              let paymentData = {\n                lastFourDigits: resp.last_four,\n                expirationMonth: resp.exp_month,\n                expirationYear: resp.exp_year,\n                postalCode: postalCode_value,\n                authorizationToken: resp.token_value,\n                email: email_value,\n                saveCard: this.defaultCreditCardCB.toString(),\n                isDefault: this.defaultCreditCardCB,\n                preAuthorizedOnly: this.autoCheckinCB\n              };\n              this.$store.commit('SET_ONDEMAND_CARDDETAILS', cardData)\n              this.$store.commit('SET_ONDEMAND_PAYMENT', paymentData)\n              this.$router.replace({ path: '/ondemand/odReceipt' })\n              break;\n            }\n            case 'atlantic-flag': {\n              let paymentData = {\n                lastFourDigits: resp.last_four,\n                expirationMonth: resp.exp_month,\n                expirationYear: resp.exp_year,\n                postalCode: postalCode_value,\n                authorizationToken: resp.token_value,\n                email: email_value,\n                saveCard: this.defaultCreditCardCB.toString(),\n                isDefault: this.defaultCreditCardCB,\n                preAuthorizedOnly: this.autoCheckinCB\n              };\n              this.$store.commit('SET_CASINO_CARDDETAILS', cardData)\n              this.$store.commit('SET_CASINO_PAYMENT', paymentData)\n              this.$router.replace({ path: '/prepaidhost/odReceipt' })\n              break;\n            }\n\n          }\n        }\n      }\n    },\n    validateExpDate(month, year) {\n      if (month.length > 0 && year.length > 0) {\n        return true;\n      } else {\n        this.errDialog = true;\n        this.errMsg = \"Expiration date cannot be empty.\";\n        this.addPaymentLoading = false;\n        this.showPaymentBtn = true;\n        return false;\n      }\n    },\n    validateEmail(email) {\n      const re =\n        /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      if (re.test(String(email).toLowerCase())) {\n        return true;\n      } else {\n        this.errDialog = true;\n        this.errMsg =\n          email.length > 0 ? \"Invalid email\" : \"Email cannot be empty\";\n        this.addPaymentLoading = false;\n        this.showPaymentBtn = true;\n        return false;\n      }\n    },\n    validatePostalCode(code) {\n      const regex = /^[a-z0-9]+$/i;\n      if (regex.test(code) && String(code).length <= 10) {\n        return true;\n      } else {\n        this.errDialog = true;\n        this.errMsg =\n          code.length > 0\n            ? \"Invalid postal code\"\n            : \"Postal code cannot be empty\";\n        this.addPaymentLoading = false;\n        this.showPaymentBtn = true;\n        return false;\n      }\n    },\n    openInfoDialog() {\n      this.infoDialog = true;\n      this.infoMsg = \"By checking this box you agree to let us to securely save your credit card details so you don't have to enter them every time you visit.\"\n    },\n    openAutoCheckinInfoDialog() {\n      this.infoDialog = true;\n      this.infoMsg = \"By checking this box you agree to let us securely save your license plate number and automatically let you in and out each time you visit.\";\n    }\n  },\n  beforeDestroy: function () {\n    this.hps.dispose();\n  },\n};\n</script>\n<style lang=\"less\">\ninput {\n  background: \"#fff\";\n  border: \"1px solid\";\n  border-color: \"#bbb3b9 #c7c1c6 #c7c1c6\";\n  box-sizing: \"border-box\";\n  font-family: \"serif\";\n  font-size: \"16px\";\n  line-height: \"1\";\n  margin: \"0 .5em 0 0\";\n  max-width: \"100%\";\n  outline: \"0\";\n  padding: \"0.5278em\";\n  vertical-align: \"baseline\";\n  height: \"50px\";\n  width: \"100% !important\";\n}\n\n#heartland-frame-cardNumber {\n  width: 100% !important;\n}\n\n#heartland-frame-cardExpiration,\n#heartland-frame-cardCvv {\n  width: 100% !important;\n}\n\nbody {\n  font-family: sans-serif;\n}\n\nlabel[for=\"iframesCardNumber\"],\nlabel[for=\"iframesCardExpiration\"],\nlabel[for=\"iframesCardCvv\"],\nlabel[for=\"postalCode\"] {\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 13px;\n  color: #8ca2ad;\n  line-height: 1.5;\n}\n\nuser agent stylesheet div {\n  display: block;\n}\n\n.form-row {\n  margin-top: 10px;\n}\n\n.form-wrapper {\n  display: block;\n  width: 100%;\n  margin: 10px auto;\n}\n\n.hps_input {\n  font-family: sans-serif;\n  box-sizing: border-box;\n  display: block;\n  height: 50px;\n  padding: 6px 6px;\n  font-size: 14px;\n  line-height: 1.42857143;\n  color: #555;\n  background-color: #fff;\n  border-bottom: 1px solid #ccc;\n  border-top: 0px;\n  border-left: 0px;\n  border-right: 0px;\n  border-radius: 0px;\n  -webkit-transition: border-color ease-in-out 0.15s,\n    -webkit-box-shadow ease-in-out 0.15s;\n  -o-transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n  transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n  width: 100%;\n}\n\n.add_payment_title {\n  background-color: #f7f9fa;\n\n  span {\n    font-weight: 600;\n    color: #44515a;\n  }\n}\n\n.hps_label {\n  text-transform: uppercase;\n  font-weight: bold;\n  font-size: 13px;\n  color: #8ca2ad;\n  line-height: 1.5;\n}\n\n.hps_input[placeholder] {\n  letter-spacing: 1px;\n}\n\n.hps_input:focus {\n  border-top: 0px;\n  border-left: 0px;\n  border-right: 0px;\n  border-bottom: 1px solid #3989e3;\n  outline: none;\n  box-shadow: none;\n  height: 50px;\n}\n\n#heartland-frame-submit {\n  border-radius: 40px;\n  height: 50px !important;\n  width: 100%;\n}\n\n::placeholder {\n  color: #8ca2ad;\n}\n\n:-ms-input-placeholder {\n  /* Internet Explorer 10-11 */\n  color: #8ca2ad;\n}\n\n::-ms-input-placeholder {\n  /* Microsoft Edge */\n  color: #8ca2ad;\n}\n</style>"]}]}