{"remainingRequest":"/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/thread-loader/dist/cjs.js!/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/babel-loader/lib/index.js!/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/eslint-loader/index.js??ref--13-0!/home/vignesh/DIVRT/revamp-guest-webapp/src/uiComponents/Calendar/DomHandler.js","dependencies":[{"path":"/home/vignesh/DIVRT/revamp-guest-webapp/src/uiComponents/Calendar/DomHandler.js","mtime":1688551741176},{"path":"/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL3ZpZ25lc2gvRElWUlQvcmV2YW1wLWd1ZXN0LXdlYmFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlciI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL2hvbWUvdmlnbmVzaC9ESVZSVC9yZXZhbXAtZ3Vlc3Qtd2ViYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjayI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL2hvbWUvdmlnbmVzaC9ESVZSVC9yZXZhbXAtZ3Vlc3Qtd2ViYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNwbGl0LmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuY29uc3RydWN0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbi5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmNvbmNhdC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwoKdmFyIERvbUhhbmRsZXIgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogIGZ1bmN0aW9uIERvbUhhbmRsZXIoKSB7CiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgRG9tSGFuZGxlcik7CiAgfQoKICBfY3JlYXRlQ2xhc3MoRG9tSGFuZGxlciwgbnVsbCwgW3sKICAgIGtleTogImlubmVyV2lkdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlubmVyV2lkdGgoZWwpIHsKICAgICAgdmFyIHdpZHRoID0gZWwub2Zmc2V0V2lkdGg7CiAgICAgIHZhciBzdHlsZSA9IGdldENvbXB1dGVkU3R5bGUoZWwpOwogICAgICB3aWR0aCArPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdMZWZ0KSArIHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ1JpZ2h0KTsKICAgICAgcmV0dXJuIHdpZHRoOwogICAgfQogIH0sIHsKICAgIGtleTogIndpZHRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiB3aWR0aChlbCkgewogICAgICB2YXIgd2lkdGggPSBlbC5vZmZzZXRXaWR0aDsKICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCk7CiAgICAgIHdpZHRoIC09IHBhcnNlRmxvYXQoc3R5bGUucGFkZGluZ0xlZnQpICsgcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nUmlnaHQpOwogICAgICByZXR1cm4gd2lkdGg7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0V2luZG93U2Nyb2xsVG9wIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRXaW5kb3dTY3JvbGxUb3AoKSB7CiAgICAgIHZhciBkb2MgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7CiAgICAgIHJldHVybiAod2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvYy5zY3JvbGxUb3ApIC0gKGRvYy5jbGllbnRUb3AgfHwgMCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0V2luZG93U2Nyb2xsTGVmdCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0V2luZG93U2Nyb2xsTGVmdCgpIHsKICAgICAgdmFyIGRvYyA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudDsKICAgICAgcmV0dXJuICh3aW5kb3cucGFnZVhPZmZzZXQgfHwgZG9jLnNjcm9sbExlZnQpIC0gKGRvYy5jbGllbnRMZWZ0IHx8IDApOwogICAgfQogIH0sIHsKICAgIGtleTogImdldE91dGVyV2lkdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldE91dGVyV2lkdGgoZWwsIG1hcmdpbikgewogICAgICBpZiAoZWwpIHsKICAgICAgICB2YXIgd2lkdGggPSBlbC5vZmZzZXRXaWR0aDsKCiAgICAgICAgaWYgKG1hcmdpbikgewogICAgICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCk7CiAgICAgICAgICB3aWR0aCArPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpbkxlZnQpICsgcGFyc2VGbG9hdChzdHlsZS5tYXJnaW5SaWdodCk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gd2lkdGg7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIDA7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRPdXRlckhlaWdodCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T3V0ZXJIZWlnaHQoZWwsIG1hcmdpbikgewogICAgICBpZiAoZWwpIHsKICAgICAgICB2YXIgaGVpZ2h0ID0gZWwub2Zmc2V0SGVpZ2h0OwoKICAgICAgICBpZiAobWFyZ2luKSB7CiAgICAgICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTsKICAgICAgICAgIGhlaWdodCArPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpblRvcCkgKyBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpbkJvdHRvbSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaGVpZ2h0OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Q2xpZW50SGVpZ2h0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRDbGllbnRIZWlnaHQoZWwsIG1hcmdpbikgewogICAgICBpZiAoZWwpIHsKICAgICAgICB2YXIgaGVpZ2h0ID0gZWwuY2xpZW50SGVpZ2h0OwoKICAgICAgICBpZiAobWFyZ2luKSB7CiAgICAgICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTsKICAgICAgICAgIGhlaWdodCArPSBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpblRvcCkgKyBwYXJzZUZsb2F0KHN0eWxlLm1hcmdpbkJvdHRvbSk7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gaGVpZ2h0OwogICAgICB9IGVsc2UgewogICAgICAgIHJldHVybiAwOwogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0Vmlld3BvcnQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFZpZXdwb3J0KCkgewogICAgICB2YXIgd2luID0gd2luZG93LAogICAgICAgICAgZCA9IGRvY3VtZW50LAogICAgICAgICAgZSA9IGQuZG9jdW1lbnRFbGVtZW50LAogICAgICAgICAgZyA9IGQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2JvZHknKVswXSwKICAgICAgICAgIHcgPSB3aW4uaW5uZXJXaWR0aCB8fCBlLmNsaWVudFdpZHRoIHx8IGcuY2xpZW50V2lkdGgsCiAgICAgICAgICBoID0gd2luLmlubmVySGVpZ2h0IHx8IGUuY2xpZW50SGVpZ2h0IHx8IGcuY2xpZW50SGVpZ2h0OwogICAgICByZXR1cm4gewogICAgICAgIHdpZHRoOiB3LAogICAgICAgIGhlaWdodDogaAogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogImdldE9mZnNldCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0T2Zmc2V0KGVsKSB7CiAgICAgIHZhciByZWN0ID0gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7CiAgICAgIHJldHVybiB7CiAgICAgICAgdG9wOiByZWN0LnRvcCArICh3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcCB8fCBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCB8fCAwKSwKICAgICAgICBsZWZ0OiByZWN0LmxlZnQgKyAod2luZG93LnBhZ2VYT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCB8fCAwKQogICAgICB9OwogICAgfQogIH0sIHsKICAgIGtleTogImdlbmVyYXRlWkluZGV4IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZW5lcmF0ZVpJbmRleCgpIHsKICAgICAgdGhpcy56aW5kZXggPSB0aGlzLnppbmRleCB8fCA5OTk7CiAgICAgIHJldHVybiArK3RoaXMuemluZGV4OwogICAgfQogIH0sIHsKICAgIGtleTogImdldEN1cnJlbnRaSW5kZXgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEN1cnJlbnRaSW5kZXgoKSB7CiAgICAgIHJldHVybiB0aGlzLnppbmRleDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbmRleCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gaW5kZXgoZWxlbWVudCkgewogICAgICB2YXIgY2hpbGRyZW4gPSBlbGVtZW50LnBhcmVudE5vZGUuY2hpbGROb2RlczsKICAgICAgdmFyIG51bSA9IDA7CgogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGNoaWxkcmVuW2ldID09PSBlbGVtZW50KSByZXR1cm4gbnVtOwogICAgICAgIGlmIChjaGlsZHJlbltpXS5ub2RlVHlwZSA9PT0gMSkgbnVtKys7CiAgICAgIH0KCiAgICAgIHJldHVybiAtMTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhZGRNdWx0aXBsZUNsYXNzZXMiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZE11bHRpcGxlQ2xhc3NlcyhlbGVtZW50LCBjbGFzc05hbWUpIHsKICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSB7CiAgICAgICAgdmFyIHN0eWxlcyA9IGNsYXNzTmFtZS5zcGxpdCgnICcpOwoKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgZWxlbWVudC5jbGFzc0xpc3QuYWRkKHN0eWxlc1tpXSk7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHZhciBfc3R5bGVzID0gY2xhc3NOYW1lLnNwbGl0KCcgJyk7CgogICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBfc3R5bGVzLmxlbmd0aDsgX2krKykgewogICAgICAgICAgZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgX3N0eWxlc1tfaV07CiAgICAgICAgfQogICAgICB9CiAgICB9CiAgfSwgewogICAga2V5OiAiYWRkQ2xhc3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGFkZENsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QpIGVsZW1lbnQuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO2Vsc2UgZWxlbWVudC5jbGFzc05hbWUgKz0gJyAnICsgY2xhc3NOYW1lOwogICAgfQogIH0sIHsKICAgIGtleTogInJlbW92ZUNsYXNzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZW1vdmVDbGFzcyhlbGVtZW50LCBjbGFzc05hbWUpIHsKICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0KSBlbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoY2xhc3NOYW1lKTtlbHNlIGVsZW1lbnQuY2xhc3NOYW1lID0gZWxlbWVudC5jbGFzc05hbWUucmVwbGFjZShuZXcgUmVnRXhwKCcoXnxcXGIpJyArIGNsYXNzTmFtZS5zcGxpdCgnICcpLmpvaW4oJ3wnKSArICcoXFxifCQpJywgJ2dpJyksICcgJyk7CiAgICB9CiAgfSwgewogICAga2V5OiAiaGFzQ2xhc3MiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGhhc0NsYXNzKGVsZW1lbnQsIGNsYXNzTmFtZSkgewogICAgICBpZiAoZWxlbWVudCkgewogICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdCkgcmV0dXJuIGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSk7ZWxzZSByZXR1cm4gbmV3IFJlZ0V4cCgnKF58ICknICsgY2xhc3NOYW1lICsgJyggfCQpJywgJ2dpJykudGVzdChlbGVtZW50LmNsYXNzTmFtZSk7CiAgICAgIH0KCiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmaW5kIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBmaW5kKGVsZW1lbnQsIHNlbGVjdG9yKSB7CiAgICAgIHJldHVybiBlbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpOwogICAgfQogIH0sIHsKICAgIGtleTogImZpbmRTaW5nbGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZpbmRTaW5nbGUoZWxlbWVudCwgc2VsZWN0b3IpIHsKICAgICAgcmV0dXJuIGVsZW1lbnQucXVlcnlTZWxlY3RvcihzZWxlY3Rvcik7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0SGVpZ2h0IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRIZWlnaHQoZWwpIHsKICAgICAgdmFyIGhlaWdodCA9IGVsLm9mZnNldEhlaWdodDsKICAgICAgdmFyIHN0eWxlID0gZ2V0Q29tcHV0ZWRTdHlsZShlbCk7CiAgICAgIGhlaWdodCAtPSBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdUb3ApICsgcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nQm90dG9tKSArIHBhcnNlRmxvYXQoc3R5bGUuYm9yZGVyVG9wV2lkdGgpICsgcGFyc2VGbG9hdChzdHlsZS5ib3JkZXJCb3R0b21XaWR0aCk7CiAgICAgIHJldHVybiBoZWlnaHQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0V2lkdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldFdpZHRoKGVsKSB7CiAgICAgIHZhciB3aWR0aCA9IGVsLm9mZnNldFdpZHRoOwogICAgICB2YXIgc3R5bGUgPSBnZXRDb21wdXRlZFN0eWxlKGVsKTsKICAgICAgd2lkdGggLT0gcGFyc2VGbG9hdChzdHlsZS5wYWRkaW5nTGVmdCkgKyBwYXJzZUZsb2F0KHN0eWxlLnBhZGRpbmdSaWdodCkgKyBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlckxlZnRXaWR0aCkgKyBwYXJzZUZsb2F0KHN0eWxlLmJvcmRlclJpZ2h0V2lkdGgpOwogICAgICByZXR1cm4gd2lkdGg7CiAgICB9CiAgfSwgewogICAga2V5OiAiYWJzb2x1dGVQb3NpdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYWJzb2x1dGVQb3NpdGlvbihlbGVtZW50LCB0YXJnZXQpIHsKICAgICAgdmFyIGVsZW1lbnREaW1lbnNpb25zID0gZWxlbWVudC5vZmZzZXRQYXJlbnQgPyB7CiAgICAgICAgd2lkdGg6IGVsZW1lbnQub2Zmc2V0V2lkdGgsCiAgICAgICAgaGVpZ2h0OiBlbGVtZW50Lm9mZnNldEhlaWdodAogICAgICB9IDogdGhpcy5nZXRIaWRkZW5FbGVtZW50RGltZW5zaW9ucyhlbGVtZW50KTsKICAgICAgdmFyIGVsZW1lbnRPdXRlckhlaWdodCA9IGVsZW1lbnREaW1lbnNpb25zLmhlaWdodDsKICAgICAgdmFyIGVsZW1lbnRPdXRlcldpZHRoID0gZWxlbWVudERpbWVuc2lvbnMud2lkdGg7CiAgICAgIHZhciB0YXJnZXRPdXRlckhlaWdodCA9IHRhcmdldC5vZmZzZXRIZWlnaHQ7CiAgICAgIHZhciB0YXJnZXRPdXRlcldpZHRoID0gdGFyZ2V0Lm9mZnNldFdpZHRoOwogICAgICB2YXIgdGFyZ2V0T2Zmc2V0ID0gdGFyZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICB2YXIgd2luZG93U2Nyb2xsVG9wID0gdGhpcy5nZXRXaW5kb3dTY3JvbGxUb3AoKTsKICAgICAgdmFyIHdpbmRvd1Njcm9sbExlZnQgPSB0aGlzLmdldFdpbmRvd1Njcm9sbExlZnQoKTsKICAgICAgdmFyIHZpZXdwb3J0ID0gdGhpcy5nZXRWaWV3cG9ydCgpOwogICAgICB2YXIgdG9wLCBsZWZ0OwoKICAgICAgaWYgKHRhcmdldE9mZnNldC50b3AgKyB0YXJnZXRPdXRlckhlaWdodCArIGVsZW1lbnRPdXRlckhlaWdodCA+IHZpZXdwb3J0LmhlaWdodCkgewogICAgICAgIHRvcCA9IHRhcmdldE9mZnNldC50b3AgKyB3aW5kb3dTY3JvbGxUb3AgLSBlbGVtZW50T3V0ZXJIZWlnaHQ7CiAgICAgICAgZWxlbWVudC5zdHlsZS50cmFuc2Zvcm1PcmlnaW4gPSAnYm90dG9tJzsKCiAgICAgICAgaWYgKHRvcCA8IDApIHsKICAgICAgICAgIHRvcCA9IHdpbmRvd1Njcm9sbFRvcDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdG9wID0gdGFyZ2V0T3V0ZXJIZWlnaHQgKyB0YXJnZXRPZmZzZXQudG9wICsgd2luZG93U2Nyb2xsVG9wOwogICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ3RvcCc7CiAgICAgIH0KCiAgICAgIGlmICh0YXJnZXRPZmZzZXQubGVmdCArIGVsZW1lbnRPdXRlcldpZHRoID4gdmlld3BvcnQud2lkdGgpIGxlZnQgPSBNYXRoLm1heCgwLCB0YXJnZXRPZmZzZXQubGVmdCArIHdpbmRvd1Njcm9sbExlZnQgKyB0YXJnZXRPdXRlcldpZHRoIC0gZWxlbWVudE91dGVyV2lkdGgpO2Vsc2UgbGVmdCA9IHRhcmdldE9mZnNldC5sZWZ0ICsgd2luZG93U2Nyb2xsTGVmdDsKICAgICAgZWxlbWVudC5zdHlsZS50b3AgPSB0b3AgKyAncHgnOwogICAgICBlbGVtZW50LnN0eWxlLmxlZnQgPSBsZWZ0ICsgJ3B4JzsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZWxhdGl2ZVBvc2l0aW9uIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZWxhdGl2ZVBvc2l0aW9uKGVsZW1lbnQsIHRhcmdldCkgewogICAgICB2YXIgZWxlbWVudERpbWVuc2lvbnMgPSBlbGVtZW50Lm9mZnNldFBhcmVudCA/IHsKICAgICAgICB3aWR0aDogZWxlbWVudC5vZmZzZXRXaWR0aCwKICAgICAgICBoZWlnaHQ6IGVsZW1lbnQub2Zmc2V0SGVpZ2h0CiAgICAgIH0gOiB0aGlzLmdldEhpZGRlbkVsZW1lbnREaW1lbnNpb25zKGVsZW1lbnQpOwogICAgICB2YXIgdGFyZ2V0SGVpZ2h0ID0gdGFyZ2V0Lm9mZnNldEhlaWdodDsKICAgICAgdmFyIHRhcmdldE9mZnNldCA9IHRhcmdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTsKICAgICAgdmFyIHZpZXdwb3J0ID0gdGhpcy5nZXRWaWV3cG9ydCgpOwogICAgICB2YXIgdG9wLCBsZWZ0OwoKICAgICAgaWYgKHRhcmdldE9mZnNldC50b3AgKyB0YXJnZXRIZWlnaHQgKyBlbGVtZW50RGltZW5zaW9ucy5oZWlnaHQgPiB2aWV3cG9ydC5oZWlnaHQpIHsKICAgICAgICB0b3AgPSAtMSAqIGVsZW1lbnREaW1lbnNpb25zLmhlaWdodDsKICAgICAgICBlbGVtZW50LnN0eWxlLnRyYW5zZm9ybU9yaWdpbiA9ICdib3R0b20nOwoKICAgICAgICBpZiAodGFyZ2V0T2Zmc2V0LnRvcCArIHRvcCA8IDApIHsKICAgICAgICAgIHRvcCA9IC0xICogdGFyZ2V0T2Zmc2V0LnRvcDsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdG9wID0gdGFyZ2V0SGVpZ2h0OwogICAgICAgIGVsZW1lbnQuc3R5bGUudHJhbnNmb3JtT3JpZ2luID0gJ3RvcCc7CiAgICAgIH0KCiAgICAgIGlmIChlbGVtZW50RGltZW5zaW9ucy53aWR0aCA+IHZpZXdwb3J0LndpZHRoKSB7CiAgICAgICAgLy8gZWxlbWVudCB3aWRlciB0aGVuIHZpZXdwb3J0IGFuZCBjYW5ub3QgZml0IG9uIHNjcmVlbiAoYWxpZ24gYXQgbGVmdCBzaWRlIG9mIHZpZXdwb3J0KQogICAgICAgIGxlZnQgPSB0YXJnZXRPZmZzZXQubGVmdCAqIC0xOwogICAgICB9IGVsc2UgaWYgKHRhcmdldE9mZnNldC5sZWZ0ICsgZWxlbWVudERpbWVuc2lvbnMud2lkdGggPiB2aWV3cG9ydC53aWR0aCkgewogICAgICAgIC8vIGVsZW1lbnQgd2lkZXIgdGhlbiB2aWV3cG9ydCBidXQgY2FuIGJlIGZpdCBvbiBzY3JlZW4gKGFsaWduIGF0IHJpZ2h0IHNpZGUgb2Ygdmlld3BvcnQpCiAgICAgICAgbGVmdCA9ICh0YXJnZXRPZmZzZXQubGVmdCArIGVsZW1lbnREaW1lbnNpb25zLndpZHRoIC0gdmlld3BvcnQud2lkdGgpICogLTE7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gZWxlbWVudCBmaXRzIG9uIHNjcmVlbiAoYWxpZ24gd2l0aCB0YXJnZXQpCiAgICAgICAgbGVmdCA9IDA7CiAgICAgIH0KCiAgICAgIGVsZW1lbnQuc3R5bGUudG9wID0gdG9wICsgJ3B4JzsKICAgICAgZWxlbWVudC5zdHlsZS5sZWZ0ID0gbGVmdCArICdweCc7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0UGFyZW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0UGFyZW50cyhlbGVtZW50KSB7CiAgICAgIHZhciBwYXJlbnRzID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiBbXTsKICAgICAgcmV0dXJuIGVsZW1lbnRbJ3BhcmVudE5vZGUnXSA9PT0gbnVsbCA/IHBhcmVudHMgOiB0aGlzLmdldFBhcmVudHMoZWxlbWVudC5wYXJlbnROb2RlLCBwYXJlbnRzLmNvbmNhdChbZWxlbWVudC5wYXJlbnROb2RlXSkpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFNjcm9sbGFibGVQYXJlbnRzIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTY3JvbGxhYmxlUGFyZW50cyhlbGVtZW50KSB7CiAgICAgIHZhciBzY3JvbGxhYmxlUGFyZW50cyA9IFtdOwoKICAgICAgaWYgKGVsZW1lbnQpIHsKICAgICAgICB2YXIgcGFyZW50cyA9IHRoaXMuZ2V0UGFyZW50cyhlbGVtZW50KTsKICAgICAgICB2YXIgb3ZlcmZsb3dSZWdleCA9IC8oYXV0b3xzY3JvbGwpLzsKCiAgICAgICAgdmFyIG92ZXJmbG93Q2hlY2sgPSBmdW5jdGlvbiBvdmVyZmxvd0NoZWNrKG5vZGUpIHsKICAgICAgICAgIHZhciBzdHlsZURlY2xhcmF0aW9uID0gd2luZG93WydnZXRDb21wdXRlZFN0eWxlJ10obm9kZSwgbnVsbCk7CiAgICAgICAgICByZXR1cm4gb3ZlcmZsb3dSZWdleC50ZXN0KHN0eWxlRGVjbGFyYXRpb24uZ2V0UHJvcGVydHlWYWx1ZSgnb3ZlcmZsb3cnKSkgfHwgb3ZlcmZsb3dSZWdleC50ZXN0KHN0eWxlRGVjbGFyYXRpb24uZ2V0UHJvcGVydHlWYWx1ZSgnb3ZlcmZsb3dYJykpIHx8IG92ZXJmbG93UmVnZXgudGVzdChzdHlsZURlY2xhcmF0aW9uLmdldFByb3BlcnR5VmFsdWUoJ292ZXJmbG93WScpKTsKICAgICAgICB9OwoKICAgICAgICB2YXIgX2l0ZXJhdG9yID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIocGFyZW50cyksCiAgICAgICAgICAgIF9zdGVwOwoKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIHBhcmVudCA9IF9zdGVwLnZhbHVlOwogICAgICAgICAgICB2YXIgc2Nyb2xsU2VsZWN0b3JzID0gcGFyZW50Lm5vZGVUeXBlID09PSAxICYmIHBhcmVudC5kYXRhc2V0WydzY3JvbGxzZWxlY3RvcnMnXTsKCiAgICAgICAgICAgIGlmIChzY3JvbGxTZWxlY3RvcnMpIHsKICAgICAgICAgICAgICB2YXIgc2VsZWN0b3JzID0gc2Nyb2xsU2VsZWN0b3JzLnNwbGl0KCcsJyk7CgogICAgICAgICAgICAgIHZhciBfaXRlcmF0b3IyID0gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIoc2VsZWN0b3JzKSwKICAgICAgICAgICAgICAgICAgX3N0ZXAyOwoKICAgICAgICAgICAgICB0cnkgewogICAgICAgICAgICAgICAgZm9yIChfaXRlcmF0b3IyLnMoKTsgIShfc3RlcDIgPSBfaXRlcmF0b3IyLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgICAgICAgdmFyIHNlbGVjdG9yID0gX3N0ZXAyLnZhbHVlOwogICAgICAgICAgICAgICAgICB2YXIgZWwgPSB0aGlzLmZpbmRTaW5nbGUocGFyZW50LCBzZWxlY3Rvcik7CgogICAgICAgICAgICAgICAgICBpZiAoZWwgJiYgb3ZlcmZsb3dDaGVjayhlbCkpIHsKICAgICAgICAgICAgICAgICAgICBzY3JvbGxhYmxlUGFyZW50cy5wdXNoKGVsKTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgICAgICAgX2l0ZXJhdG9yMi5lKGVycik7CiAgICAgICAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgICAgICAgIF9pdGVyYXRvcjIuZigpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CiAgICAgIH0KCiAgICAgIHJldHVybiBzY3JvbGxhYmxlUGFyZW50czsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRIaWRkZW5FbGVtZW50T3V0ZXJIZWlnaHQiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhpZGRlbkVsZW1lbnRPdXRlckhlaWdodChlbGVtZW50KSB7CiAgICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICdoaWRkZW4nOwogICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICB2YXIgZWxlbWVudEhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0OwogICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsKICAgICAgcmV0dXJuIGVsZW1lbnRIZWlnaHQ7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0SGlkZGVuRWxlbWVudE91dGVyV2lkdGgiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGdldEhpZGRlbkVsZW1lbnRPdXRlcldpZHRoKGVsZW1lbnQpIHsKICAgICAgZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7CiAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdibG9jayc7CiAgICAgIHZhciBlbGVtZW50V2lkdGggPSBlbGVtZW50Lm9mZnNldFdpZHRoOwogICAgICBlbGVtZW50LnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7CiAgICAgIGVsZW1lbnQuc3R5bGUudmlzaWJpbGl0eSA9ICd2aXNpYmxlJzsKICAgICAgcmV0dXJuIGVsZW1lbnRXaWR0aDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRIaWRkZW5FbGVtZW50RGltZW5zaW9ucyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SGlkZGVuRWxlbWVudERpbWVuc2lvbnMoZWxlbWVudCkgewogICAgICB2YXIgZGltZW5zaW9ucyA9IHt9OwogICAgICBlbGVtZW50LnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJzsKICAgICAgZWxlbWVudC5zdHlsZS5kaXNwbGF5ID0gJ2Jsb2NrJzsKICAgICAgZGltZW5zaW9ucy53aWR0aCA9IGVsZW1lbnQub2Zmc2V0V2lkdGg7CiAgICAgIGRpbWVuc2lvbnMuaGVpZ2h0ID0gZWxlbWVudC5vZmZzZXRIZWlnaHQ7CiAgICAgIGVsZW1lbnQuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgZWxlbWVudC5zdHlsZS52aXNpYmlsaXR5ID0gJ3Zpc2libGUnOwogICAgICByZXR1cm4gZGltZW5zaW9uczsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJmYWRlSW4iLAogICAgdmFsdWU6IGZ1bmN0aW9uIGZhZGVJbihlbGVtZW50LCBkdXJhdGlvbikgewogICAgICBlbGVtZW50LnN0eWxlLm9wYWNpdHkgPSAwOwogICAgICB2YXIgbGFzdCA9ICtuZXcgRGF0ZSgpOwogICAgICB2YXIgb3BhY2l0eSA9IDA7CgogICAgICB2YXIgdGljayA9IGZ1bmN0aW9uIHRpY2soKSB7CiAgICAgICAgb3BhY2l0eSA9ICtlbGVtZW50LnN0eWxlLm9wYWNpdHkgKyAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBsYXN0KSAvIGR1cmF0aW9uOwogICAgICAgIGVsZW1lbnQuc3R5bGUub3BhY2l0eSA9IG9wYWNpdHk7CiAgICAgICAgbGFzdCA9ICtuZXcgRGF0ZSgpOwoKICAgICAgICBpZiAoK29wYWNpdHkgPCAxKSB7CiAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lICYmIHJlcXVlc3RBbmltYXRpb25GcmFtZSh0aWNrKSB8fCBzZXRUaW1lb3V0KHRpY2ssIDE2KTsKICAgICAgICB9CiAgICAgIH07CgogICAgICB0aWNrKCk7CiAgICB9CiAgfSwgewogICAga2V5OiAiZmFkZU91dCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZmFkZU91dChlbGVtZW50LCBtcykgewogICAgICB2YXIgb3BhY2l0eSA9IDEsCiAgICAgICAgICBpbnRlcnZhbCA9IDUwLAogICAgICAgICAgZHVyYXRpb24gPSBtcywKICAgICAgICAgIGdhcCA9IGludGVydmFsIC8gZHVyYXRpb247CiAgICAgIHZhciBmYWRpbmcgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7CiAgICAgICAgb3BhY2l0eSAtPSBnYXA7CgogICAgICAgIGlmIChvcGFjaXR5IDw9IDApIHsKICAgICAgICAgIG9wYWNpdHkgPSAwOwogICAgICAgICAgY2xlYXJJbnRlcnZhbChmYWRpbmcpOwogICAgICAgIH0KCiAgICAgICAgZWxlbWVudC5zdHlsZS5vcGFjaXR5ID0gb3BhY2l0eTsKICAgICAgfSwgaW50ZXJ2YWwpOwogICAgfQogIH0sIHsKICAgIGtleTogImdldFVzZXJBZ2VudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0VXNlckFnZW50KCkgewogICAgICByZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhcHBlbmRDaGlsZCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gYXBwZW5kQ2hpbGQoZWxlbWVudCwgdGFyZ2V0KSB7CiAgICAgIGlmICh0aGlzLmlzRWxlbWVudCh0YXJnZXQpKSB0YXJnZXQuYXBwZW5kQ2hpbGQoZWxlbWVudCk7ZWxzZSBpZiAodGFyZ2V0LmVsICYmIHRhcmdldC5lbC5uYXRpdmVFbGVtZW50KSB0YXJnZXQuZWwubmF0aXZlRWxlbWVudC5hcHBlbmRDaGlsZChlbGVtZW50KTtlbHNlIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGFwcGVuZCAnICsgdGFyZ2V0ICsgJyB0byAnICsgZWxlbWVudCk7CiAgICB9CiAgfSwgewogICAga2V5OiAic2Nyb2xsSW5WaWV3IiwKICAgIHZhbHVlOiBmdW5jdGlvbiBzY3JvbGxJblZpZXcoY29udGFpbmVyLCBpdGVtKSB7CiAgICAgIHZhciBib3JkZXJUb3BWYWx1ZSA9IGdldENvbXB1dGVkU3R5bGUoY29udGFpbmVyKS5nZXRQcm9wZXJ0eVZhbHVlKCdib3JkZXJUb3BXaWR0aCcpOwogICAgICB2YXIgYm9yZGVyVG9wID0gYm9yZGVyVG9wVmFsdWUgPyBwYXJzZUZsb2F0KGJvcmRlclRvcFZhbHVlKSA6IDA7CiAgICAgIHZhciBwYWRkaW5nVG9wVmFsdWUgPSBnZXRDb21wdXRlZFN0eWxlKGNvbnRhaW5lcikuZ2V0UHJvcGVydHlWYWx1ZSgncGFkZGluZ1RvcCcpOwogICAgICB2YXIgcGFkZGluZ1RvcCA9IHBhZGRpbmdUb3BWYWx1ZSA/IHBhcnNlRmxvYXQocGFkZGluZ1RvcFZhbHVlKSA6IDA7CiAgICAgIHZhciBjb250YWluZXJSZWN0ID0gY29udGFpbmVyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICB2YXIgaXRlbVJlY3QgPSBpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICB2YXIgb2Zmc2V0ID0gaXRlbVJlY3QudG9wICsgZG9jdW1lbnQuYm9keS5zY3JvbGxUb3AgLSAoY29udGFpbmVyUmVjdC50b3AgKyBkb2N1bWVudC5ib2R5LnNjcm9sbFRvcCkgLSBib3JkZXJUb3AgLSBwYWRkaW5nVG9wOwogICAgICB2YXIgc2Nyb2xsID0gY29udGFpbmVyLnNjcm9sbFRvcDsKICAgICAgdmFyIGVsZW1lbnRIZWlnaHQgPSBjb250YWluZXIuY2xpZW50SGVpZ2h0OwogICAgICB2YXIgaXRlbUhlaWdodCA9IHRoaXMuZ2V0T3V0ZXJIZWlnaHQoaXRlbSk7CgogICAgICBpZiAob2Zmc2V0IDwgMCkgewogICAgICAgIGNvbnRhaW5lci5zY3JvbGxUb3AgPSBzY3JvbGwgKyBvZmZzZXQ7CiAgICAgIH0gZWxzZSBpZiAob2Zmc2V0ICsgaXRlbUhlaWdodCA+IGVsZW1lbnRIZWlnaHQpIHsKICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wID0gc2Nyb2xsICsgb2Zmc2V0IC0gZWxlbWVudEhlaWdodCArIGl0ZW1IZWlnaHQ7CiAgICAgIH0KICAgIH0KICB9LCB7CiAgICBrZXk6ICJjbGVhclNlbGVjdGlvbiIsCiAgICB2YWx1ZTogZnVuY3Rpb24gY2xlYXJTZWxlY3Rpb24oKSB7CiAgICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7CiAgICAgICAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5lbXB0eSkgewogICAgICAgICAgd2luZG93LmdldFNlbGVjdGlvbigpLmVtcHR5KCk7CiAgICAgICAgfSBlbHNlIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKCkucmVtb3ZlQWxsUmFuZ2VzICYmIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yYW5nZUNvdW50ID4gMCAmJiB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKS5nZXRDbGllbnRSZWN0cygpLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5yZW1vdmVBbGxSYW5nZXMoKTsKICAgICAgICB9CiAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnRbJ3NlbGVjdGlvbiddICYmIGRvY3VtZW50WydzZWxlY3Rpb24nXS5lbXB0eSkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBkb2N1bWVudFsnc2VsZWN0aW9uJ10uZW1wdHkoKTsKICAgICAgICB9IGNhdGNoIChlcnJvcikgey8vaWdub3JlIElFIGJ1ZwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImNhbGN1bGF0ZVNjcm9sbGJhcldpZHRoIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBjYWxjdWxhdGVTY3JvbGxiYXJXaWR0aCgpIHsKICAgICAgaWYgKHRoaXMuY2FsY3VsYXRlZFNjcm9sbGJhcldpZHRoICE9IG51bGwpIHJldHVybiB0aGlzLmNhbGN1bGF0ZWRTY3JvbGxiYXJXaWR0aDsKICAgICAgdmFyIHNjcm9sbERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgICBzY3JvbGxEaXYuY2xhc3NOYW1lID0gInAtc2Nyb2xsYmFyLW1lYXN1cmUiOwogICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcm9sbERpdik7CiAgICAgIHZhciBzY3JvbGxiYXJXaWR0aCA9IHNjcm9sbERpdi5vZmZzZXRXaWR0aCAtIHNjcm9sbERpdi5jbGllbnRXaWR0aDsKICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChzY3JvbGxEaXYpOwogICAgICB0aGlzLmNhbGN1bGF0ZWRTY3JvbGxiYXJXaWR0aCA9IHNjcm9sbGJhcldpZHRoOwogICAgICByZXR1cm4gc2Nyb2xsYmFyV2lkdGg7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0QnJvd3NlciIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0QnJvd3NlcigpIHsKICAgICAgaWYgKCF0aGlzLmJyb3dzZXIpIHsKICAgICAgICB2YXIgbWF0Y2hlZCA9IHRoaXMucmVzb2x2ZVVzZXJBZ2VudCgpOwogICAgICAgIHRoaXMuYnJvd3NlciA9IHt9OwoKICAgICAgICBpZiAobWF0Y2hlZC5icm93c2VyKSB7CiAgICAgICAgICB0aGlzLmJyb3dzZXJbbWF0Y2hlZC5icm93c2VyXSA9IHRydWU7CiAgICAgICAgICB0aGlzLmJyb3dzZXJbJ3ZlcnNpb24nXSA9IG1hdGNoZWQudmVyc2lvbjsKICAgICAgICB9CgogICAgICAgIGlmICh0aGlzLmJyb3dzZXJbJ2Nocm9tZSddKSB7CiAgICAgICAgICB0aGlzLmJyb3dzZXJbJ3dlYmtpdCddID0gdHJ1ZTsKICAgICAgICB9IGVsc2UgaWYgKHRoaXMuYnJvd3Nlclsnd2Via2l0J10pIHsKICAgICAgICAgIHRoaXMuYnJvd3Nlclsnc2FmYXJpJ10gPSB0cnVlOwogICAgICAgIH0KICAgICAgfQoKICAgICAgcmV0dXJuIHRoaXMuYnJvd3NlcjsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJyZXNvbHZlVXNlckFnZW50IiwKICAgIHZhbHVlOiBmdW5jdGlvbiByZXNvbHZlVXNlckFnZW50KCkgewogICAgICB2YXIgdWEgPSBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCk7CiAgICAgIHZhciBtYXRjaCA9IC8oY2hyb21lKVsgXShbXHcuXSspLy5leGVjKHVhKSB8fCAvKHdlYmtpdClbIF0oW1x3Ll0rKS8uZXhlYyh1YSkgfHwgLyhvcGVyYSkoPzouKnZlcnNpb258KVsgXShbXHcuXSspLy5leGVjKHVhKSB8fCAvKG1zaWUpIChbXHcuXSspLy5leGVjKHVhKSB8fCB1YS5pbmRleE9mKCJjb21wYXRpYmxlIikgPCAwICYmIC8obW96aWxsYSkoPzouKj8gcnY6KFtcdy5dKyl8KS8uZXhlYyh1YSkgfHwgW107CiAgICAgIHJldHVybiB7CiAgICAgICAgYnJvd3NlcjogbWF0Y2hbMV0gfHwgIiIsCiAgICAgICAgdmVyc2lvbjogbWF0Y2hbMl0gfHwgIjAiCiAgICAgIH07CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNWaXNpYmxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc1Zpc2libGUoZWxlbWVudCkgewogICAgICByZXR1cm4gZWxlbWVudC5vZmZzZXRQYXJlbnQgIT0gbnVsbDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpbnZva2VFbGVtZW50TWV0aG9kIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpbnZva2VFbGVtZW50TWV0aG9kKGVsZW1lbnQsIG1ldGhvZE5hbWUsIGFyZ3MpIHsKICAgICAgZWxlbWVudFttZXRob2ROYW1lXS5hcHBseShlbGVtZW50LCBhcmdzKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJnZXRGb2N1c2FibGVFbGVtZW50cyIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rm9jdXNhYmxlRWxlbWVudHMoZWxlbWVudCkgewogICAgICB2YXIgZm9jdXNhYmxlRWxlbWVudHMgPSBEb21IYW5kbGVyLmZpbmQoZWxlbWVudCwgImJ1dHRvbjpub3QoW3RhYmluZGV4ID0gXCItMVwiXSk6bm90KFtkaXNhYmxlZF0pOm5vdChbc3R5bGUqPVwiZGlzcGxheTpub25lXCJdKTpub3QoW2hpZGRlbl0pLCBcbiAgICAgICAgICAgICAgICBbaHJlZl1bY2xpZW50SGVpZ2h0XVtjbGllbnRXaWR0aF06bm90KFt0YWJpbmRleCA9IFwiLTFcIl0pOm5vdChbZGlzYWJsZWRdKTpub3QoW3N0eWxlKj1cImRpc3BsYXk6bm9uZVwiXSk6bm90KFtoaWRkZW5dKSwgXG4gICAgICAgICAgICAgICAgaW5wdXQ6bm90KFt0YWJpbmRleCA9IFwiLTFcIl0pOm5vdChbZGlzYWJsZWRdKTpub3QoW3N0eWxlKj1cImRpc3BsYXk6bm9uZVwiXSk6bm90KFtoaWRkZW5dKSwgc2VsZWN0Om5vdChbdGFiaW5kZXggPSBcIi0xXCJdKTpub3QoW2Rpc2FibGVkXSk6bm90KFtzdHlsZSo9XCJkaXNwbGF5Om5vbmVcIl0pOm5vdChbaGlkZGVuXSksIFxuICAgICAgICAgICAgICAgIHRleHRhcmVhOm5vdChbdGFiaW5kZXggPSBcIi0xXCJdKTpub3QoW2Rpc2FibGVkXSk6bm90KFtzdHlsZSo9XCJkaXNwbGF5Om5vbmVcIl0pOm5vdChbaGlkZGVuXSksIFt0YWJJbmRleF06bm90KFt0YWJJbmRleCA9IFwiLTFcIl0pOm5vdChbZGlzYWJsZWRdKTpub3QoW3N0eWxlKj1cImRpc3BsYXk6bm9uZVwiXSk6bm90KFtoaWRkZW5dKSwgXG4gICAgICAgICAgICAgICAgW2NvbnRlbnRlZGl0YWJsZV06bm90KFt0YWJJbmRleCA9IFwiLTFcIl0pOm5vdChbZGlzYWJsZWRdKTpub3QoW3N0eWxlKj1cImRpc3BsYXk6bm9uZVwiXSk6bm90KFtoaWRkZW5dKSIpOwogICAgICB2YXIgdmlzaWJsZUZvY3VzYWJsZUVsZW1lbnRzID0gW107CgogICAgICB2YXIgX2l0ZXJhdG9yMyA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKGZvY3VzYWJsZUVsZW1lbnRzKSwKICAgICAgICAgIF9zdGVwMzsKCiAgICAgIHRyeSB7CiAgICAgICAgZm9yIChfaXRlcmF0b3IzLnMoKTsgIShfc3RlcDMgPSBfaXRlcmF0b3IzLm4oKSkuZG9uZTspIHsKICAgICAgICAgIHZhciBmb2N1c2FibGVFbGVtZW50ID0gX3N0ZXAzLnZhbHVlOwogICAgICAgICAgaWYgKGdldENvbXB1dGVkU3R5bGUoZm9jdXNhYmxlRWxlbWVudCkuZGlzcGxheSAhPSAibm9uZSIgJiYgZ2V0Q29tcHV0ZWRTdHlsZShmb2N1c2FibGVFbGVtZW50KS52aXNpYmlsaXR5ICE9ICJoaWRkZW4iKSB2aXNpYmxlRm9jdXNhYmxlRWxlbWVudHMucHVzaChmb2N1c2FibGVFbGVtZW50KTsKICAgICAgICB9CiAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgIF9pdGVyYXRvcjMuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvcjMuZigpOwogICAgICB9CgogICAgICByZXR1cm4gdmlzaWJsZUZvY3VzYWJsZUVsZW1lbnRzOwogICAgfQogIH0sIHsKICAgIGtleTogImdldEZpcnN0Rm9jdXNhYmxlRWxlbWVudCIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0Rmlyc3RGb2N1c2FibGVFbGVtZW50KGVsZW1lbnQpIHsKICAgICAgdmFyIGZvY3VzYWJsZUVsZW1lbnRzID0gdGhpcy5nZXRGb2N1c2FibGVFbGVtZW50cyhlbGVtZW50KTsKICAgICAgcmV0dXJuIGZvY3VzYWJsZUVsZW1lbnRzLmxlbmd0aCA+IDAgPyBmb2N1c2FibGVFbGVtZW50c1swXSA6IG51bGw7CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNDbGlja2FibGUiLAogICAgdmFsdWU6IGZ1bmN0aW9uIGlzQ2xpY2thYmxlKGVsZW1lbnQpIHsKICAgICAgdmFyIHRhcmdldE5vZGUgPSBlbGVtZW50Lm5vZGVOYW1lOwogICAgICB2YXIgcGFyZW50Tm9kZSA9IGVsZW1lbnQucGFyZW50RWxlbWVudCAmJiBlbGVtZW50LnBhcmVudEVsZW1lbnQubm9kZU5hbWU7CiAgICAgIHJldHVybiB0YXJnZXROb2RlID09ICdJTlBVVCcgfHwgdGFyZ2V0Tm9kZSA9PSAnQlVUVE9OJyB8fCB0YXJnZXROb2RlID09ICdBJyB8fCBwYXJlbnROb2RlID09ICdJTlBVVCcgfHwgcGFyZW50Tm9kZSA9PSAnQlVUVE9OJyB8fCBwYXJlbnROb2RlID09ICdBJyB8fCB0aGlzLmhhc0NsYXNzKGVsZW1lbnQsICdwLWJ1dHRvbicpIHx8IHRoaXMuaGFzQ2xhc3MoZWxlbWVudC5wYXJlbnRFbGVtZW50LCAncC1idXR0b24nKSB8fCB0aGlzLmhhc0NsYXNzKGVsZW1lbnQucGFyZW50RWxlbWVudCwgJ3AtY2hlY2tib3gnKSB8fCB0aGlzLmhhc0NsYXNzKGVsZW1lbnQucGFyZW50RWxlbWVudCwgJ3AtcmFkaW9idXR0b24nKTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJhcHBseVN0eWxlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBhcHBseVN0eWxlKGVsZW1lbnQsIHN0eWxlKSB7CiAgICAgIGlmICh0eXBlb2Ygc3R5bGUgPT09ICdzdHJpbmcnKSB7CiAgICAgICAgZWxlbWVudC5zdHlsZS5jc3NUZXh0ID0gc3R5bGU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzdHlsZSkgewogICAgICAgICAgZWxlbWVudC5zdHlsZVtwcm9wXSA9IHN0eWxlW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0sIHsKICAgIGtleTogImlzSU9TIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0lPUygpIHsKICAgICAgcmV0dXJuIC9pUGFkfGlQaG9uZXxpUG9kLy50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpICYmICF3aW5kb3dbJ01TU3RyZWFtJ107CiAgICB9CiAgfSwgewogICAga2V5OiAiaXNBbmRyb2lkIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc0FuZHJvaWQoKSB7CiAgICAgIHJldHVybiAvKGFuZHJvaWQpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJpc1RvdWNoRGV2aWNlIiwKICAgIHZhbHVlOiBmdW5jdGlvbiBpc1RvdWNoRGV2aWNlKCkgewogICAgICByZXR1cm4gJ29udG91Y2hzdGFydCcgaW4gd2luZG93IHx8IG5hdmlnYXRvci5tYXhUb3VjaFBvaW50cyA+IDAgfHwgbmF2aWdhdG9yLm1zTWF4VG91Y2hQb2ludHMgPiAwOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIERvbUhhbmRsZXI7Cn0oKTsKCmV4cG9ydCB7IERvbUhhbmRsZXIgYXMgZGVmYXVsdCB9Ow=="},{"version":3,"sources":["/home/vignesh/DIVRT/revamp-guest-webapp/src/uiComponents/Calendar/DomHandler.js"],"names":["DomHandler","el","width","offsetWidth","style","getComputedStyle","parseFloat","paddingLeft","paddingRight","doc","document","documentElement","window","pageYOffset","scrollTop","clientTop","pageXOffset","scrollLeft","clientLeft","margin","marginLeft","marginRight","height","offsetHeight","marginTop","marginBottom","clientHeight","win","d","e","g","getElementsByTagName","w","innerWidth","clientWidth","h","innerHeight","rect","getBoundingClientRect","top","body","left","zindex","element","children","parentNode","childNodes","num","i","length","nodeType","className","classList","styles","split","add","remove","replace","RegExp","join","contains","test","selector","querySelectorAll","querySelector","paddingTop","paddingBottom","borderTopWidth","borderBottomWidth","borderLeftWidth","borderRightWidth","target","elementDimensions","offsetParent","getHiddenElementDimensions","elementOuterHeight","elementOuterWidth","targetOuterHeight","targetOuterWidth","targetOffset","windowScrollTop","getWindowScrollTop","windowScrollLeft","getWindowScrollLeft","viewport","getViewport","transformOrigin","Math","max","targetHeight","parents","getParents","concat","scrollableParents","overflowRegex","overflowCheck","node","styleDeclaration","getPropertyValue","parent","scrollSelectors","dataset","selectors","findSingle","push","visibility","display","elementHeight","elementWidth","dimensions","duration","opacity","last","Date","tick","getTime","requestAnimationFrame","setTimeout","ms","interval","gap","fading","setInterval","clearInterval","navigator","userAgent","isElement","appendChild","nativeElement","Error","container","item","borderTopValue","borderTop","paddingTopValue","containerRect","itemRect","offset","scroll","itemHeight","getOuterHeight","getSelection","empty","removeAllRanges","rangeCount","getRangeAt","getClientRects","error","calculatedScrollbarWidth","scrollDiv","createElement","scrollbarWidth","removeChild","browser","matched","resolveUserAgent","version","ua","toLowerCase","match","exec","indexOf","methodName","args","apply","focusableElements","find","visibleFocusableElements","focusableElement","getFocusableElements","targetNode","nodeName","parentElement","hasClass","cssText","prop","maxTouchPoints","msMaxTouchPoints"],"mappings":"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","sourcesContent":["export default class DomHandler {\n\n    static innerWidth(el) {\n        let width = el.offsetWidth;\n        let style = getComputedStyle(el);\n\n        width += parseFloat(style.paddingLeft) + parseFloat(style.paddingRight);\n        return width;\n    }\n\n    static width(el) {\n        let width = el.offsetWidth;\n        let style = getComputedStyle(el);\n\n        width -= parseFloat(style.paddingLeft) + parseFloat(style.paddingRight);\n        return width;\n    }\n\n    static getWindowScrollTop() {\n        let doc = document.documentElement;\n        return (window.pageYOffset || doc.scrollTop) - (doc.clientTop || 0);\n    }\n\n    static getWindowScrollLeft() {\n        let doc = document.documentElement;\n        return (window.pageXOffset || doc.scrollLeft) - (doc.clientLeft || 0);\n    }\n\n    static getOuterWidth(el, margin) {\n        if (el) {\n            let width = el.offsetWidth;\n\n            if (margin) {\n                let style = getComputedStyle(el);\n                width += parseFloat(style.marginLeft) + parseFloat(style.marginRight);\n            }\n\n            return width;\n        }\n        else {\n            return 0;\n        }\n    }\n\n    static getOuterHeight(el, margin) {\n        if (el) {\n            let height = el.offsetHeight;\n\n            if (margin) {\n                let style = getComputedStyle(el);\n                height += parseFloat(style.marginTop) + parseFloat(style.marginBottom);\n            }\n\n            return height;\n        }\n        else {\n            return 0;\n        }\n    }\n\n    static getClientHeight(el, margin) {\n        if (el) {\n            let height = el.clientHeight;\n\n            if (margin) {\n                let style = getComputedStyle(el);\n                height += parseFloat(style.marginTop) + parseFloat(style.marginBottom);\n            }\n\n            return height;\n        } else {\n            return 0;\n        }\n    }\n\n    static getViewport() {\n        let win = window,\n            d = document,\n            e = d.documentElement,\n            g = d.getElementsByTagName('body')[0],\n            w = win.innerWidth || e.clientWidth || g.clientWidth,\n            h = win.innerHeight || e.clientHeight || g.clientHeight;\n\n        return {width: w, height: h};\n    }\n\n    static getOffset(el) {\n        var rect = el.getBoundingClientRect();\n\n        return {\n            top: rect.top + (window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop || 0),\n            left: rect.left + (window.pageXOffset || document.documentElement.scrollLeft || document.body.scrollLeft || 0),\n        };\n    }\n\n    static generateZIndex() {\n        this.zindex = this.zindex||999;\n        return ++this.zindex;\n    }\n\n    static getCurrentZIndex() {\n        return this.zindex;\n    }\n\n    static index(element) {\n        let children = element.parentNode.childNodes;\n        let num = 0;\n        for (var i = 0; i < children.length; i++) {\n            if (children[i] === element) return num;\n            if (children[i].nodeType === 1) num++;\n        }\n        return -1;\n    }\n\n    static addMultipleClasses(element, className) {\n        if (element.classList) {\n            let styles = className.split(' ');\n            for (let i = 0; i < styles.length; i++) {\n                element.classList.add(styles[i]);\n            }\n\n        }\n        else {\n            let styles = className.split(' ');\n            for (let i = 0; i < styles.length; i++) {\n                element.className += ' ' + styles[i];\n            }\n        }\n    }\n\n    static addClass(element, className) {\n        if (element.classList)\n            element.classList.add(className);\n        else\n            element.className += ' ' + className;\n    }\n\n    static removeClass(element, className) {\n        if (element.classList)\n            element.classList.remove(className);\n        else\n            element.className = element.className.replace(new RegExp('(^|\\\\b)' + className.split(' ').join('|') + '(\\\\b|$)', 'gi'), ' ');\n    }\n\n    static hasClass(element, className) {\n        if (element) {\n            if (element.classList)\n                return element.classList.contains(className);\n            else\n                return new RegExp('(^| )' + className + '( |$)', 'gi').test(element.className);\n        }\n\n        return false;\n    }\n\n    static find(element, selector) {\n        return element.querySelectorAll(selector);\n    }\n\n    static findSingle(element, selector) {\n        return element.querySelector(selector);\n    }\n\n    static getHeight(el) {\n        let height = el.offsetHeight;\n        let style = getComputedStyle(el);\n\n        height -= parseFloat(style.paddingTop) + parseFloat(style.paddingBottom) + parseFloat(style.borderTopWidth) + parseFloat(style.borderBottomWidth);\n\n        return height;\n    }\n\n    static getWidth(el) {\n        let width = el.offsetWidth;\n        let style = getComputedStyle(el);\n\n        width -= parseFloat(style.paddingLeft) + parseFloat(style.paddingRight) + parseFloat(style.borderLeftWidth) + parseFloat(style.borderRightWidth);\n\n        return width;\n    }\n\n    static absolutePosition(element, target) {\n        let elementDimensions = element.offsetParent ? { width: element.offsetWidth, height: element.offsetHeight } : this.getHiddenElementDimensions(element)\n        let elementOuterHeight = elementDimensions.height;\n        let elementOuterWidth = elementDimensions.width;\n        let targetOuterHeight = target.offsetHeight;\n        let targetOuterWidth = target.offsetWidth;\n        let targetOffset = target.getBoundingClientRect();\n        let windowScrollTop = this.getWindowScrollTop();\n        let windowScrollLeft = this.getWindowScrollLeft();\n        let viewport = this.getViewport();\n        let top, left;\n\n        if (targetOffset.top + targetOuterHeight + elementOuterHeight > viewport.height) {\n            top = targetOffset.top + windowScrollTop - elementOuterHeight;\n            element.style.transformOrigin = 'bottom';\n\n            if (top < 0) {\n                top = windowScrollTop;\n            }\n        }\n        else {\n            top = targetOuterHeight + targetOffset.top + windowScrollTop;\n            element.style.transformOrigin = 'top';\n        }\n\n        if (targetOffset.left + elementOuterWidth > viewport.width)\n            left = Math.max(0, targetOffset.left + windowScrollLeft + targetOuterWidth - elementOuterWidth);\n        else\n            left = targetOffset.left + windowScrollLeft;\n\n        element.style.top = top + 'px';\n        element.style.left = left + 'px';\n    }\n\n    static relativePosition(element, target) {\n        let elementDimensions = element.offsetParent ? { width: element.offsetWidth, height: element.offsetHeight } : this.getHiddenElementDimensions(element);\n        const targetHeight = target.offsetHeight;\n        const targetOffset = target.getBoundingClientRect();\n        const viewport = this.getViewport();\n        let top, left;\n\n        if ((targetOffset.top + targetHeight + elementDimensions.height) > viewport.height) {\n            top = -1 * (elementDimensions.height);\n            element.style.transformOrigin = 'bottom';\n            if (targetOffset.top + top < 0) {\n                top = -1 * targetOffset.top;\n            }\n        }\n        else {\n            top = targetHeight;\n            element.style.transformOrigin = 'top';\n        }\n\n        if (elementDimensions.width > viewport.width) {\n            // element wider then viewport and cannot fit on screen (align at left side of viewport)\n            left = targetOffset.left * -1;\n        }\n        else if ((targetOffset.left + elementDimensions.width) > viewport.width) {\n            // element wider then viewport but can be fit on screen (align at right side of viewport)\n            left = (targetOffset.left + elementDimensions.width - viewport.width) * -1;\n        }\n        else {\n            // element fits on screen (align with target)\n            left = 0;\n        }\n\n        element.style.top = top + 'px';\n        element.style.left = left + 'px';\n    }\n\n    static getParents(element, parents = []) {\n        return element['parentNode'] === null ? parents : this.getParents(element.parentNode, parents.concat([element.parentNode]));\n    }\n\n    static getScrollableParents(element) {\n        let scrollableParents = [];\n\n        if (element) {\n            let parents = this.getParents(element);\n            const overflowRegex = /(auto|scroll)/;\n            const overflowCheck = (node) => {\n                let styleDeclaration = window['getComputedStyle'](node, null);\n                return overflowRegex.test(styleDeclaration.getPropertyValue('overflow')) || overflowRegex.test(styleDeclaration.getPropertyValue('overflowX')) || overflowRegex.test(styleDeclaration.getPropertyValue('overflowY'));\n            };\n\n            for (let parent of parents) {\n                let scrollSelectors = parent.nodeType === 1 && parent.dataset['scrollselectors'];\n                if (scrollSelectors) {\n                    let selectors = scrollSelectors.split(',');\n                    for (let selector of selectors) {\n                        let el = this.findSingle(parent, selector);\n                        if (el && overflowCheck(el)) {\n                            scrollableParents.push(el);\n                        }\n                    }\n                }\n            }\n        }\n\n        return scrollableParents;\n    }\n\n    static getHiddenElementOuterHeight(element) {\n        element.style.visibility = 'hidden';\n        element.style.display = 'block';\n        let elementHeight = element.offsetHeight;\n        element.style.display = 'none';\n        element.style.visibility = 'visible';\n\n        return elementHeight;\n    }\n\n    static getHiddenElementOuterWidth(element) {\n        element.style.visibility = 'hidden';\n        element.style.display = 'block';\n        let elementWidth = element.offsetWidth;\n        element.style.display = 'none';\n        element.style.visibility = 'visible';\n\n        return elementWidth;\n    }\n\n    static getHiddenElementDimensions(element) {\n        var dimensions = {};\n        element.style.visibility = 'hidden';\n        element.style.display = 'block';\n        dimensions.width = element.offsetWidth;\n        dimensions.height = element.offsetHeight;\n        element.style.display = 'none';\n        element.style.visibility = 'visible';\n\n        return dimensions;\n    }\n\n    static fadeIn(element, duration) {\n        element.style.opacity = 0;\n\n        var last = +new Date();\n        var opacity = 0;\n        var tick = function () {\n            opacity = +element.style.opacity + (new Date().getTime() - last) / duration;\n            element.style.opacity = opacity;\n            last = +new Date();\n\n            if (+opacity < 1) {\n                (window.requestAnimationFrame && requestAnimationFrame(tick)) || setTimeout(tick, 16);\n            }\n        };\n\n        tick();\n    }\n\n    static fadeOut(element, ms) {\n        var opacity = 1,\n            interval = 50,\n            duration = ms,\n            gap = interval / duration;\n\n        let fading = setInterval(() => {\n            opacity -= gap;\n\n            if (opacity <= 0) {\n                opacity = 0;\n                clearInterval(fading);\n            }\n\n            element.style.opacity = opacity;\n        }, interval);\n    }\n\n    static getUserAgent() {\n        return navigator.userAgent;\n    }\n\n    static appendChild(element, target) {\n        if(this.isElement(target))\n            target.appendChild(element);\n        else if(target.el && target.el.nativeElement)\n            target.el.nativeElement.appendChild(element);\n        else\n            throw new Error('Cannot append ' + target + ' to ' + element);\n    }\n\n    static scrollInView(container, item) {\n        let borderTopValue = getComputedStyle(container).getPropertyValue('borderTopWidth');\n        let borderTop = borderTopValue ? parseFloat(borderTopValue) : 0;\n        let paddingTopValue = getComputedStyle(container).getPropertyValue('paddingTop');\n        let paddingTop = paddingTopValue ? parseFloat(paddingTopValue) : 0;\n        let containerRect = container.getBoundingClientRect();\n        let itemRect = item.getBoundingClientRect();\n        let offset = (itemRect.top + document.body.scrollTop) - (containerRect.top + document.body.scrollTop) - borderTop - paddingTop;\n        let scroll = container.scrollTop;\n        let elementHeight = container.clientHeight;\n        let itemHeight = this.getOuterHeight(item);\n\n        if (offset < 0) {\n            container.scrollTop = scroll + offset;\n        }\n        else if ((offset + itemHeight) > elementHeight) {\n            container.scrollTop = scroll + offset - elementHeight + itemHeight;\n        }\n    }\n\n    static clearSelection() {\n        if(window.getSelection) {\n            if(window.getSelection().empty) {\n                window.getSelection().empty();\n            } else if(window.getSelection().removeAllRanges && window.getSelection().rangeCount > 0 && window.getSelection().getRangeAt(0).getClientRects().length > 0) {\n                window.getSelection().removeAllRanges();\n            }\n        }\n        else if(document['selection'] && document['selection'].empty) {\n            try {\n                document['selection'].empty();\n            } catch(error) {\n                //ignore IE bug\n            }\n        }\n    }\n\n    static calculateScrollbarWidth() {\n        if(this.calculatedScrollbarWidth != null)\n            return this.calculatedScrollbarWidth;\n\n        let scrollDiv = document.createElement(\"div\");\n        scrollDiv.className = \"p-scrollbar-measure\";\n        document.body.appendChild(scrollDiv);\n\n        let scrollbarWidth = scrollDiv.offsetWidth - scrollDiv.clientWidth;\n        document.body.removeChild(scrollDiv);\n\n        this.calculatedScrollbarWidth = scrollbarWidth;\n\n        return scrollbarWidth;\n    }\n\n    static getBrowser() {\n        if(!this.browser) {\n            let matched = this.resolveUserAgent();\n            this.browser = {};\n\n            if (matched.browser) {\n                this.browser[matched.browser] = true;\n                this.browser['version'] = matched.version;\n            }\n\n            if (this.browser['chrome']) {\n                this.browser['webkit'] = true;\n            } else if (this.browser['webkit']) {\n                this.browser['safari'] = true;\n            }\n        }\n\n        return this.browser;\n    }\n\n    static resolveUserAgent() {\n        let ua = navigator.userAgent.toLowerCase();\n        let match = /(chrome)[ ]([\\w.]+)/.exec(ua) ||\n            /(webkit)[ ]([\\w.]+)/.exec(ua) ||\n            /(opera)(?:.*version|)[ ]([\\w.]+)/.exec(ua) ||\n            /(msie) ([\\w.]+)/.exec(ua) ||\n            (ua.indexOf(\"compatible\") < 0 && /(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(ua)) ||\n            [];\n\n        return {\n            browser: match[1] || \"\",\n            version: match[2] || \"0\"\n        };\n    }\n\n    static isVisible(element) {\n        return element.offsetParent != null;\n    }\n\n    static invokeElementMethod(element, methodName, args) {\n        (element)[methodName].apply(element, args);\n    }\n\n    static getFocusableElements(element) {\n        let focusableElements = DomHandler.find(element, `button:not([tabindex = \"-1\"]):not([disabled]):not([style*=\"display:none\"]):not([hidden]), \n                [href][clientHeight][clientWidth]:not([tabindex = \"-1\"]):not([disabled]):not([style*=\"display:none\"]):not([hidden]), \n                input:not([tabindex = \"-1\"]):not([disabled]):not([style*=\"display:none\"]):not([hidden]), select:not([tabindex = \"-1\"]):not([disabled]):not([style*=\"display:none\"]):not([hidden]), \n                textarea:not([tabindex = \"-1\"]):not([disabled]):not([style*=\"display:none\"]):not([hidden]), [tabIndex]:not([tabIndex = \"-1\"]):not([disabled]):not([style*=\"display:none\"]):not([hidden]), \n                [contenteditable]:not([tabIndex = \"-1\"]):not([disabled]):not([style*=\"display:none\"]):not([hidden])`\n            );\n\n        let visibleFocusableElements = [];\n        for (let focusableElement of focusableElements) {\n            if (getComputedStyle(focusableElement).display != \"none\" && getComputedStyle(focusableElement).visibility != \"hidden\")\n                visibleFocusableElements.push(focusableElement);\n        }\n\n        return visibleFocusableElements;\n    }\n\n    static getFirstFocusableElement(element) {\n        const focusableElements = this.getFocusableElements(element);\n        return focusableElements.length > 0 ? focusableElements[0] : null;\n    }\n\n    static isClickable(element) {\n        const targetNode = element.nodeName;\n        const parentNode = element.parentElement && element.parentElement.nodeName;\n\n        return (targetNode == 'INPUT' || targetNode == 'BUTTON' || targetNode == 'A' ||\n                parentNode == 'INPUT' || parentNode == 'BUTTON' || parentNode == 'A' ||\n                this.hasClass(element, 'p-button') || this.hasClass(element.parentElement, 'p-button') ||\n                this.hasClass(element.parentElement, 'p-checkbox') || this.hasClass(element.parentElement, 'p-radiobutton')\n        );\n    }\n\n    static applyStyle(element, style) {\n        if (typeof style === 'string') {\n            element.style.cssText = style;\n        }\n        else {\n            for (let prop in style) {\n                element.style[prop] = style[prop];\n            }\n        }\n    }\n\n    static isIOS() {\n        return /iPad|iPhone|iPod/.test(navigator.userAgent) && !window['MSStream'];\n    }\n\n    static isAndroid() {\n        return /(android)/i.test(navigator.userAgent);\n    }\n\n    static isTouchDevice() {\n        return (('ontouchstart' in window) || (navigator.maxTouchPoints > 0) || (navigator.msMaxTouchPoints > 0));\n    }\n}"]}]}