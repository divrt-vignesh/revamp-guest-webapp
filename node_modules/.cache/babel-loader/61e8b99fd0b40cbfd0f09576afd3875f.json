{"remainingRequest":"/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/thread-loader/dist/cjs.js!/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/babel-loader/lib/index.js!/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/revamp-guest-webapp/src/views/session/AddPayment.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vignesh/DIVRT/revamp-guest-webapp/src/views/session/AddPayment.vue","mtime":1688632306088},{"path":"/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/revamp-guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3ZpZ25lc2gvRElWUlQvcmV2YW1wLWd1ZXN0LXdlYmFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBfb2JqZWN0U3ByZWFkIGZyb20gIi9ob21lL3ZpZ25lc2gvRElWUlQvcmV2YW1wLWd1ZXN0LXdlYmFwcC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLnVybC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNsaWNlLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnRyaW0uanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UuanMiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBIZWFydGxhbmQgZnJvbSAiQC9wbHVnaW5zL3NlY3VyZXN1Ym1pdCI7IC8vIGltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CgppbXBvcnQgeyBmb3JtYXQgfSBmcm9tICJkYXRlLWZucyI7CmltcG9ydCBBUEkgZnJvbSAnQC9hcGknOyAvLyBpbXBvcnQgbG9nZ2VySGVscGVyIGZyb20gIi4uL2xvZ2dlckhlbHBlciI7CgppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiQWRkUGF5bWVudCIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHJlZ2V4X1VTOiAvXig/PS57MiwxMH0kKShbMC05XXsxLDl9KFstc117MX1bMC05XSspPykkLywKICAgICAgcmVnZXhfQ0E6IC8uKlthLXpBLVpdLiokLywKICAgICAgZGVmYXVsdENyZWRpdENhcmRDQjogZmFsc2UsCiAgICAgIGF1dG9DaGVja2luQ0I6IGZhbHNlLAogICAgICBocHM6ICIiLAogICAgICBwb3N0YWxDb2RlOiAiIiwKICAgICAgZW1haWw6ICIiLAogICAgICBhZGRQYXltZW50TG9hZGluZzogZmFsc2UsCiAgICAgIHNob3dQYXltZW50QnRuOiB0cnVlLAogICAgICBkdXJhdGlvbjogMzAwLAogICAgICBvZmZzZXQ6IDEwMCwKICAgICAgZWFzaW5nOiAiZWFzZUluT3V0Q3ViaWMiLAogICAgICBlcnJEaWFsb2c6IGZhbHNlLAogICAgICBlcnJNc2c6ICIiLAogICAgICBpbmZvRGlhbG9nOiBmYWxzZSwKICAgICAgaW5mb01zZzogIiIKICAgIH07CiAgfSwKICBjb21wdXRlZDogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKHsKICAgIGJvb2tpbmdJZDogImdldHRlckJvb2tpbmdJZCIsCiAgICBjYXNpbm9EZXRhaWxzOiAnZ2V0dGVyQ2FzaW5vRGV0YWlscycsCiAgICBib29raW5nRGV0YWlsczogImdldHRlckJvb2tpbmdEZXRhaWxzIiwKICAgIHpvbmVEZXRhaWxzOiAiZ2V0dGVyWm9uZURldGFpbHMiLAogICAgdGVtcGxhdGVGbGFnczogJ2dldHRlclRlbXBsYXRlRmxhZ3MnLAogICAgb2REZXRhaWxzOiAiZ2V0dGVyT2REZXRhaWxzIgogIH0pKSwge30sIHsKICAgIG9wdGlvbnM6IGZ1bmN0aW9uIG9wdGlvbnMoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgZHVyYXRpb246IHRoaXMuZHVyYXRpb24sCiAgICAgICAgb2Zmc2V0OiB0aGlzLm9mZnNldCwKICAgICAgICBlYXNpbmc6IHRoaXMuZWFzaW5nCiAgICAgIH07CiAgICB9LAogICAgY2hlY2tQb3N0YWxDb2RlOiBmdW5jdGlvbiBjaGVja1Bvc3RhbENvZGUoKSB7CiAgICAgIHJldHVybiAvKF5cZHs1fSQpfCheXGR7NX0tXGR7NH0kKS8udGVzdCh0aGlzLnBvc3RhbENvZGUpIHx8IC9eW0EtWmEtel1cZFtBLVphLXpdWyAtXT9cZFtBLVphLXpdXGQkLy50ZXN0KHRoaXMucG9zdGFsQ29kZSk7CiAgICB9CiAgfSksCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHt9LAogIGJlZm9yZVJvdXRlRW50ZXI6IGZ1bmN0aW9uIGJlZm9yZVJvdXRlRW50ZXIodG8sIGZyb20sIG5leHQpIHsKICAgIG5leHQoIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKHZtKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgdm0uJHZ1ZXRpZnkuZ29UbygwKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKTsKCiAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICB9OwogICAgfSgpKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmluaXRIUFNmb3JtKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbkZvcm1TdWJtaXQ6IGZ1bmN0aW9uIG9uRm9ybVN1Ym1pdCgpIHsKICAgICAgdmFyIF90aGlzJHpvbmVEZXRhaWxzOwoKICAgICAgdGhpcy5hZGRQYXltZW50TG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuc2hvd1BheW1lbnRCdG4gPSBmYWxzZTsgLy9jaGVjayBVUyBQb3N0YWwgY29kZSBSZWdleAoKICAgICAgdmFyIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7CgogICAgICBpZiAocGFyYW1zLmdldCgnc2Vzc2lvbnR5cGUnKSA9PSAnY2ljbycgJiYgKChfdGhpcyR6b25lRGV0YWlscyA9IHRoaXMuem9uZURldGFpbHMpID09PSBudWxsIHx8IF90aGlzJHpvbmVEZXRhaWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR6b25lRGV0YWlscy5pc1BRUkVuZFJlc2VydmF0aW9uKSA9PSAnMScgfHwgcGFyYW1zLmdldCgnc2Vzc2lvbnR5cGUnKSA9PSAnb25kZW1hbmQnKSB7CiAgICAgICAgdmFyIF90aGlzJGNhc2lub0RldGFpbHMsIF90aGlzJGNhc2lub0RldGFpbHMkdTsKCiAgICAgICAgaWYgKChfdGhpcyRjYXNpbm9EZXRhaWxzID0gdGhpcy5jYXNpbm9EZXRhaWxzKSAhPT0gbnVsbCAmJiBfdGhpcyRjYXNpbm9EZXRhaWxzICE9PSB2b2lkIDAgJiYgKF90aGlzJGNhc2lub0RldGFpbHMkdSA9IF90aGlzJGNhc2lub0RldGFpbHMudXNlckRldGFpbHMpICE9PSBudWxsICYmIF90aGlzJGNhc2lub0RldGFpbHMkdSAhPT0gdm9pZCAwICYmIF90aGlzJGNhc2lub0RldGFpbHMkdS5lc3RpbWF0ZSkgewogICAgICAgICAgdmFyIF90aGlzJGNhc2lub0RldGFpbHMyLCBfdGhpcyRjYXNpbm9EZXRhaWxzMiQsIF90aGlzJGNhc2lub0RldGFpbHMzLCBfdGhpcyRjYXNpbm9EZXRhaWxzMyQ7CgogICAgICAgICAgdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgICBwbGF0ZTogKF90aGlzJGNhc2lub0RldGFpbHMyID0gdGhpcy5jYXNpbm9EZXRhaWxzKSA9PT0gbnVsbCB8fCBfdGhpcyRjYXNpbm9EZXRhaWxzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJGNhc2lub0RldGFpbHMyJCA9IF90aGlzJGNhc2lub0RldGFpbHMyLnVzZXJEZXRhaWwpID09PSBudWxsIHx8IF90aGlzJGNhc2lub0RldGFpbHMyJCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2FzaW5vRGV0YWlsczIkLnBsYXRlLAogICAgICAgICAgICBjb250YWN0OiAoX3RoaXMkY2FzaW5vRGV0YWlsczMgPSB0aGlzLmNhc2lub0RldGFpbHMpID09PSBudWxsIHx8IF90aGlzJGNhc2lub0RldGFpbHMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkY2FzaW5vRGV0YWlsczMkID0gX3RoaXMkY2FzaW5vRGV0YWlsczMudXNlckRldGFpbCkgPT09IG51bGwgfHwgX3RoaXMkY2FzaW5vRGV0YWlsczMkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjYXNpbm9EZXRhaWxzMyQuY29udGFjdCwKICAgICAgICAgICAgc3RhdHVzVGV4dDogIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIHBvc3RhbCBjb2RlLSAiICsgdGhpcy5wb3N0YWxDb2RlICsgIi4gTGFzdCA0IGNoYXJhY3RlcnMgb2YgTUlEIC0gIiArIHRoaXMuem9uZURldGFpbHMuTUlEcy5IUFNfUFVCTElDX0tFWV9VUy5zbGljZSgtNCkKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB2YXIgX3RoaXMkb2REZXRhaWxzLCBfdGhpcyRvZERldGFpbHMkdXNlckQsIF90aGlzJG9kRGV0YWlsczIsIF90aGlzJG9kRGV0YWlsczIkdXNlcjsKCiAgICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAgIHBsYXRlOiAoX3RoaXMkb2REZXRhaWxzID0gdGhpcy5vZERldGFpbHMpID09PSBudWxsIHx8IF90aGlzJG9kRGV0YWlscyA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJG9kRGV0YWlscyR1c2VyRCA9IF90aGlzJG9kRGV0YWlscy51c2VyRGV0YWlsKSA9PT0gbnVsbCB8fCBfdGhpcyRvZERldGFpbHMkdXNlckQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJG9kRGV0YWlscyR1c2VyRC5wbGF0ZSwKICAgICAgICAgICAgY29udGFjdDogKF90aGlzJG9kRGV0YWlsczIgPSB0aGlzLm9kRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMkb2REZXRhaWxzMiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJG9kRGV0YWlsczIkdXNlciA9IF90aGlzJG9kRGV0YWlsczIudXNlckRldGFpbCkgPT09IG51bGwgfHwgX3RoaXMkb2REZXRhaWxzMiR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRvZERldGFpbHMyJHVzZXIuY29udGFjdCwKICAgICAgICAgICAgc3RhdHVzVGV4dDogIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIHBvc3RhbCBjb2RlLSAiICsgdGhpcy5wb3N0YWxDb2RlICsgIi4gTGFzdCA0IGNoYXJhY3RlcnMgb2YgTUlEIC0gIiArIHRoaXMuem9uZURldGFpbHMuTUlEcy5IUFNfUFVCTElDX0tFWV9VUy5zbGljZSgtNCkKICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgaWYgKHRoaXMucmVnZXhfVVMudGVzdCh0aGlzLnBvc3RhbENvZGUpKSB7CiAgICAgICAgICB2YXIgX3RoaXMkem9uZURldGFpbHMyLCBfdGhpcyR6b25lRGV0YWlsczIkTUksIF90aGlzJGNhc2lub0RldGFpbHM0LCBfdGhpcyRjYXNpbm9EZXRhaWxzNCQ7CgogICAgICAgICAgdGhpcy5ocHMub3B0aW9ucy5wdWJsaWNLZXkgPSAoX3RoaXMkem9uZURldGFpbHMyID0gdGhpcy56b25lRGV0YWlscykgIT09IG51bGwgJiYgX3RoaXMkem9uZURldGFpbHMyICE9PSB2b2lkIDAgJiYgKF90aGlzJHpvbmVEZXRhaWxzMiRNSSA9IF90aGlzJHpvbmVEZXRhaWxzMi5NSURzKSAhPT0gbnVsbCAmJiBfdGhpcyR6b25lRGV0YWlsczIkTUkgIT09IHZvaWQgMCAmJiBfdGhpcyR6b25lRGV0YWlsczIkTUkuSFBTX1BVQkxJQ19LRVlfVVMgPyB0aGlzLnpvbmVEZXRhaWxzLk1JRHMuSFBTX1BVQkxJQ19LRVlfVVMgOiAiIjsKCiAgICAgICAgICBpZiAoKF90aGlzJGNhc2lub0RldGFpbHM0ID0gdGhpcy5jYXNpbm9EZXRhaWxzKSAhPT0gbnVsbCAmJiBfdGhpcyRjYXNpbm9EZXRhaWxzNCAhPT0gdm9pZCAwICYmIChfdGhpcyRjYXNpbm9EZXRhaWxzNCQgPSBfdGhpcyRjYXNpbm9EZXRhaWxzNC51c2VyRGV0YWlscykgIT09IG51bGwgJiYgX3RoaXMkY2FzaW5vRGV0YWlsczQkICE9PSB2b2lkIDAgJiYgX3RoaXMkY2FzaW5vRGV0YWlsczQkLmVzdGltYXRlKSB7CiAgICAgICAgICAgIHZhciBfdGhpcyRjYXNpbm9EZXRhaWxzNSwgX3RoaXMkY2FzaW5vRGV0YWlsczUkLCBfdGhpcyRjYXNpbm9EZXRhaWxzNiwgX3RoaXMkY2FzaW5vRGV0YWlsczYkOwoKICAgICAgICAgICAgdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgICAgIHBsYXRlOiAoX3RoaXMkY2FzaW5vRGV0YWlsczUgPSB0aGlzLmNhc2lub0RldGFpbHMpID09PSBudWxsIHx8IF90aGlzJGNhc2lub0RldGFpbHM1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMkY2FzaW5vRGV0YWlsczUkID0gX3RoaXMkY2FzaW5vRGV0YWlsczUudXNlckRldGFpbCkgPT09IG51bGwgfHwgX3RoaXMkY2FzaW5vRGV0YWlsczUkID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRjYXNpbm9EZXRhaWxzNSQucGxhdGUsCiAgICAgICAgICAgICAgY29udGFjdDogKF90aGlzJGNhc2lub0RldGFpbHM2ID0gdGhpcy5jYXNpbm9EZXRhaWxzKSA9PT0gbnVsbCB8fCBfdGhpcyRjYXNpbm9EZXRhaWxzNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJGNhc2lub0RldGFpbHM2JCA9IF90aGlzJGNhc2lub0RldGFpbHM2LnVzZXJEZXRhaWwpID09PSBudWxsIHx8IF90aGlzJGNhc2lub0RldGFpbHM2JCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkY2FzaW5vRGV0YWlsczYkLmNvbnRhY3QsCiAgICAgICAgICAgICAgc3RhdHVzVGV4dDogIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIHBvc3RhbCBjb2RlLSAiICsgdGhpcy5wb3N0YWxDb2RlICsgIi4gTGFzdCA0IGNoYXJhY3RlcnMgb2YgTUlEIC0gIiArIHRoaXMuem9uZURldGFpbHMuTUlEcy5IUFNfUFVCTElDX0tFWV9VUy5zbGljZSgtNCkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB2YXIgX3RoaXMkb2REZXRhaWxzMywgX3RoaXMkb2REZXRhaWxzMyR1c2VyLCBfdGhpcyRvZERldGFpbHM0LCBfdGhpcyRvZERldGFpbHM0JHVzZXI7CgogICAgICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAgICAgcGxhdGU6IChfdGhpcyRvZERldGFpbHMzID0gdGhpcy5vZERldGFpbHMpID09PSBudWxsIHx8IF90aGlzJG9kRGV0YWlsczMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpcyRvZERldGFpbHMzJHVzZXIgPSBfdGhpcyRvZERldGFpbHMzLnVzZXJEZXRhaWwpID09PSBudWxsIHx8IF90aGlzJG9kRGV0YWlsczMkdXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkb2REZXRhaWxzMyR1c2VyLnBsYXRlLAogICAgICAgICAgICAgIGNvbnRhY3Q6IChfdGhpcyRvZERldGFpbHM0ID0gdGhpcy5vZERldGFpbHMpID09PSBudWxsIHx8IF90aGlzJG9kRGV0YWlsczQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpcyRvZERldGFpbHM0JHVzZXIgPSBfdGhpcyRvZERldGFpbHM0LnVzZXJEZXRhaWwpID09PSBudWxsIHx8IF90aGlzJG9kRGV0YWlsczQkdXNlciA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMkb2REZXRhaWxzNCR1c2VyLmNvbnRhY3QsCiAgICAgICAgICAgICAgc3RhdHVzVGV4dDogIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIHBvc3RhbCBjb2RlLSAiICsgdGhpcy5wb3N0YWxDb2RlICsgIi4gTGFzdCA0IGNoYXJhY3RlcnMgb2YgTUlEIC0gIiArIHRoaXMuem9uZURldGFpbHMuTUlEcy5IUFNfUFVCTElDX0tFWV9VUy5zbGljZSgtNCkKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CgogICAgICAgICAgY29uc29sZS5sb2coIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIHBvc3RhbCBjb2RlLSAiICsgdGhpcy5wb3N0YWxDb2RlKTsKICAgICAgICAgIHRoaXMuaHBzLnRva2VuaXplKCk7CiAgICAgICAgfSAvL2NoZWNrIENBIFBvc3RhbCBjb2RlIFJlZ2V4CiAgICAgICAgZWxzZSBpZiAodGhpcy5yZWdleF9DQS50ZXN0KHRoaXMucG9zdGFsQ29kZSkpIHsKICAgICAgICAgICAgdmFyIF90aGlzJHpvbmVEZXRhaWxzMywgX3RoaXMkem9uZURldGFpbHMzJE1JLCBfdGhpcyRvZERldGFpbHM1LCBfdGhpcyRvZERldGFpbHM1JHVzZXIsIF90aGlzJG9kRGV0YWlsczYsIF90aGlzJG9kRGV0YWlsczYkdXNlcjsKCiAgICAgICAgICAgIHRoaXMuaHBzLm9wdGlvbnMucHVibGljS2V5ID0gKF90aGlzJHpvbmVEZXRhaWxzMyA9IHRoaXMuem9uZURldGFpbHMpICE9PSBudWxsICYmIF90aGlzJHpvbmVEZXRhaWxzMyAhPT0gdm9pZCAwICYmIChfdGhpcyR6b25lRGV0YWlsczMkTUkgPSBfdGhpcyR6b25lRGV0YWlsczMuTUlEcykgIT09IG51bGwgJiYgX3RoaXMkem9uZURldGFpbHMzJE1JICE9PSB2b2lkIDAgJiYgX3RoaXMkem9uZURldGFpbHMzJE1JLkhQU19QVUJMSUNfS0VZX0NBID8gdGhpcy56b25lRGV0YWlscy5NSURzLkhQU19QVUJMSUNfS0VZX0NBIDogIiI7CiAgICAgICAgICAgIHRoaXMucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgICBwbGF0ZTogKF90aGlzJG9kRGV0YWlsczUgPSB0aGlzLm9kRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMkb2REZXRhaWxzNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJG9kRGV0YWlsczUkdXNlciA9IF90aGlzJG9kRGV0YWlsczUudXNlckRldGFpbCkgPT09IG51bGwgfHwgX3RoaXMkb2REZXRhaWxzNSR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRvZERldGFpbHM1JHVzZXIucGxhdGUsCiAgICAgICAgICAgICAgY29udGFjdDogKF90aGlzJG9kRGV0YWlsczYgPSB0aGlzLm9kRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMkb2REZXRhaWxzNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzJG9kRGV0YWlsczYkdXNlciA9IF90aGlzJG9kRGV0YWlsczYudXNlckRldGFpbCkgPT09IG51bGwgfHwgX3RoaXMkb2REZXRhaWxzNiR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyRvZERldGFpbHM2JHVzZXIuY29udGFjdCwKICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAiUGFya2VyIGNsaWNrZWQgb24gQUREIFBBWU1FTlQgYnRuIHdpdGggcG9zdGFsIGNvZGUtICIgKyB0aGlzLnBvc3RhbENvZGUgKyAiLiBMYXN0IDQgY2hhcmFjdGVycyBvZiBNSUQgLSAiICsgdGhpcy56b25lRGV0YWlscy5NSURzLkhQU19QVUJMSUNfS0VZX0NBLnNsaWNlKC00KQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgY29uc29sZS5sb2coIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIHBvc3RhbCBjb2RlLSAiICsgdGhpcy5wb3N0YWxDb2RlKTsKICAgICAgICAgICAgdGhpcy5ocHMudG9rZW5pemUoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuYWRkUGF5bWVudExvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuZXJyRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5lcnJNc2cgPSB0aGlzLnBvc3RhbENvZGUubGVuZ3RoID4gMCA/ICJJbnZhbGlkIHBvc3RhbCBjb2RlIiA6ICJQb3N0YWwgY29kZSBjYW5ub3QgYmUgZW1wdHkiOwogICAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIGlmICh0aGlzLnJlZ2V4X1VTLnRlc3QodGhpcy5wb3N0YWxDb2RlKSkgewogICAgICAgICAgdmFyIF90aGlzJGJvb2tpbmdEZXRhaWxzLCBfdGhpcyRib29raW5nRGV0YWlscyQsIF90aGlzJGJvb2tpbmdEZXRhaWxzJDI7CgogICAgICAgICAgdGhpcy5ocHMub3B0aW9ucy5wdWJsaWNLZXkgPSAoX3RoaXMkYm9va2luZ0RldGFpbHMgPSB0aGlzLmJvb2tpbmdEZXRhaWxzKSAhPT0gbnVsbCAmJiBfdGhpcyRib29raW5nRGV0YWlscyAhPT0gdm9pZCAwICYmIChfdGhpcyRib29raW5nRGV0YWlscyQgPSBfdGhpcyRib29raW5nRGV0YWlscy5ib29raW5nKSAhPT0gbnVsbCAmJiBfdGhpcyRib29raW5nRGV0YWlscyQgIT09IHZvaWQgMCAmJiAoX3RoaXMkYm9va2luZ0RldGFpbHMkMiA9IF90aGlzJGJvb2tpbmdEZXRhaWxzJC5NSURzKSAhPT0gbnVsbCAmJiBfdGhpcyRib29raW5nRGV0YWlscyQyICE9PSB2b2lkIDAgJiYgX3RoaXMkYm9va2luZ0RldGFpbHMkMi5IUFNfUFVCTElDX0tFWV9VUyA/IHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5NSURzLkhQU19QVUJMSUNfS0VZX1VTIDogIiI7CiAgICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAgIHBob25lOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgICAgcmVmSWQ6IHRoaXMuYm9va2luZ0lkLAogICAgICAgICAgICBzdGF0dXNUZXh0OiAiUGFya2VyIGNsaWNrZWQgb24gQUREIFBBWU1FTlQgYnRuIHdpdGggcG9zdGFsIGNvZGUtICIgKyB0aGlzLnBvc3RhbENvZGUgKyAiLiBMYXN0IDQgY2hhcmFjdGVycyBvZiBNSUQgLSAiICsgdGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLk1JRHMuSFBTX1BVQkxJQ19LRVlfVVMuc2xpY2UoLTQpCiAgICAgICAgICB9KTsKICAgICAgICAgIHRoaXMuaHBzLnRva2VuaXplKCk7CiAgICAgICAgfSAvL2NoZWNrIENBIFBvc3RhbCBjb2RlIFJlZ2V4CiAgICAgICAgZWxzZSBpZiAodGhpcy5yZWdleF9DQS50ZXN0KHRoaXMucG9zdGFsQ29kZSkpIHsKICAgICAgICAgICAgdmFyIF90aGlzJGJvb2tpbmdEZXRhaWxzMiwgX3RoaXMkYm9va2luZ0RldGFpbHMzLCBfdGhpcyRib29raW5nRGV0YWlsczQ7CgogICAgICAgICAgICB0aGlzLmhwcy5vcHRpb25zLnB1YmxpY0tleSA9IChfdGhpcyRib29raW5nRGV0YWlsczIgPSB0aGlzLmJvb2tpbmdEZXRhaWxzKSAhPT0gbnVsbCAmJiBfdGhpcyRib29raW5nRGV0YWlsczIgIT09IHZvaWQgMCAmJiAoX3RoaXMkYm9va2luZ0RldGFpbHMzID0gX3RoaXMkYm9va2luZ0RldGFpbHMyLmJvb2tpbmcpICE9PSBudWxsICYmIF90aGlzJGJvb2tpbmdEZXRhaWxzMyAhPT0gdm9pZCAwICYmIChfdGhpcyRib29raW5nRGV0YWlsczQgPSBfdGhpcyRib29raW5nRGV0YWlsczMuTUlEcykgIT09IG51bGwgJiYgX3RoaXMkYm9va2luZ0RldGFpbHM0ICE9PSB2b2lkIDAgJiYgX3RoaXMkYm9va2luZ0RldGFpbHM0LkhQU19QVUJMSUNfS0VZX0NBID8gdGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLk1JRHMuSFBTX1BVQkxJQ19LRVlfQ0EgOiAiIjsKICAgICAgICAgICAgdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgICAgIHBob25lOiB0aGlzLmJvb2tpbmdEZXRhaWxzLnVzZXIuY29udGFjdCwKICAgICAgICAgICAgICByZWZJZDogdGhpcy5ib29raW5nSWQsCiAgICAgICAgICAgICAgc3RhdHVzVGV4dDogIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIHBvc3RhbCBjb2RlLSAiICsgdGhpcy5wb3N0YWxDb2RlICsgIi4gTGFzdCA0IGNoYXJhY3RlcnMgb2YgTUlEIC0gIiArIHRoaXMuYm9va2luZ0RldGFpbHMuYm9va2luZy5NSURzLkhQU19QVUJMSUNfS0VZX0NBLnNsaWNlKC00KQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgdGhpcy5ocHMudG9rZW5pemUoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuYWRkUGF5bWVudExvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgICAgIHRoaXMuZXJyRGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgdGhpcy5lcnJNc2cgPSB0aGlzLnBvc3RhbENvZGUubGVuZ3RoID4gMCA/ICJJbnZhbGlkIHBvc3RhbCBjb2RlIiA6ICJQb3N0YWwgY29kZSBjYW5ub3QgYmUgZW1wdHkiOwogICAgICAgICAgICB0aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAgICAgcGhvbmU6IHRoaXMuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgICAgICAgIHJlZklkOiB0aGlzLmJvb2tpbmdJZCwKICAgICAgICAgICAgICBlcnJvcjogdGhpcy5lcnJNc2csCiAgICAgICAgICAgICAgc3RhdHVzVGV4dDogIlBhcmtlciBjbGlja2VkIG9uIEFERCBQQVlNRU5UIGJ0biB3aXRoIGludmFsaWQgcG9zdGFsIGNvZGUgLSIgKyB0aGlzLnBvc3RhbENvZGUKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBpbml0SFBTZm9ybTogZnVuY3Rpb24gaW5pdEhQU2Zvcm0oKSB7CiAgICAgIHZhciBzZWxmID0gdGhpczsKICAgICAgdGhpcy5ocHMgPSBuZXcgSGVhcnRsYW5kLkhQUyh7CiAgICAgICAgdHlwZTogImlmcmFtZSIsCiAgICAgICAgZmllbGRzOiB7CiAgICAgICAgICBjYXJkTnVtYmVyOiB7CiAgICAgICAgICAgIHRhcmdldDogImlmcmFtZXNDYXJkTnVtYmVyIiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJFbnRlciBDYXJkIE51bWJlciIKICAgICAgICAgIH0sCiAgICAgICAgICBjYXJkRXhwaXJhdGlvbjogewogICAgICAgICAgICB0YXJnZXQ6ICJpZnJhbWVzQ2FyZEV4cGlyYXRpb24iLAogICAgICAgICAgICBwbGFjZWhvbGRlcjogIk1NIC8gWVlZWSIKICAgICAgICAgIH0sCiAgICAgICAgICBjYXJkQ3Z2OiB7CiAgICAgICAgICAgIHRhcmdldDogImlmcmFtZXNDYXJkQ3Z2IiwKICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICJleCAtIDEyMyIKICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIC8vIENvbGxlY3Rpb24gb2YgQ1NTIHRvIGluamVjdCBpbnRvIHRoZSBpZnJhbWVzLgogICAgICAgIC8vIFRoZXNlIHByb3BlcnRpZXMgY2FuIG1hdGNoIHRoZSBzaXRlJ3Mgc3R5bGVzCiAgICAgICAgLy8gdG8gY3JlYXRlIGEgc2VhbWxlc3MgZXhwZXJpZW5jZS4KICAgICAgICBzdHlsZTogewogICAgICAgICAgaW5wdXQ6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogIiNmZmYiLAogICAgICAgICAgICBib3JkZXI6ICIxcHggc29saWQiLAogICAgICAgICAgICAiYm9yZGVyLWNvbG9yIjogIiNiYmIzYjkgI2M3YzFjNiAjYzdjMWM2IiwKICAgICAgICAgICAgImJveC1zaXppbmciOiAiYm9yZGVyLWJveCIsCiAgICAgICAgICAgICJmb250LWZhbWlseSI6ICJzZXJpZiIsCiAgICAgICAgICAgICJmb250LXNpemUiOiAiMTZweCIsCiAgICAgICAgICAgICJsaW5lLWhlaWdodCI6ICIxIiwKICAgICAgICAgICAgbWFyZ2luOiAiMCAuNWVtIDAgMCIsCiAgICAgICAgICAgICJtYXgtd2lkdGgiOiAiMTAwJSIsCiAgICAgICAgICAgIG91dGxpbmU6ICIwIiwKICAgICAgICAgICAgcGFkZGluZzogIjAuNTI3OGVtIiwKICAgICAgICAgICAgInZlcnRpY2FsLWFsaWduIjogImJhc2VsaW5lIiwKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIsCiAgICAgICAgICAgIHdpZHRoOiAiMTAwJSAhaW1wb3J0YW50IgogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkIjogewogICAgICAgICAgICAiZm9udC1mYW1pbHkiOiAic2Fucy1zZXJpZiIsCiAgICAgICAgICAgICJib3gtc2l6aW5nIjogImJvcmRlci1ib3giLAogICAgICAgICAgICBkaXNwbGF5OiAiYmxvY2siLAogICAgICAgICAgICBoZWlnaHQ6ICI1MHB4IiwKICAgICAgICAgICAgcGFkZGluZzogIjZweCA2cHgiLAogICAgICAgICAgICAiZm9udC1zaXplIjogIjE0cHgiLAogICAgICAgICAgICAibGluZS1oZWlnaHQiOiAiMS40Mjg1NzE0MyIsCiAgICAgICAgICAgIGNvbG9yOiAiIzU1NSIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLWNvbG9yIjogIiNmZmYiLAogICAgICAgICAgICAiYm9yZGVyLWJvdHRvbSI6ICIxcHggc29saWQgI2NjYyIsCiAgICAgICAgICAgICJib3JkZXItdG9wIjogIjBweCIsCiAgICAgICAgICAgICJib3JkZXItbGVmdCI6ICIwcHgiLAogICAgICAgICAgICAiYm9yZGVyLXJpZ2h0IjogIjBweCIsCiAgICAgICAgICAgICJib3JkZXItcmFkaXVzIjogIjBweCIsCiAgICAgICAgICAgIC8vICItd2Via2l0LWJveC1zaGFkb3ciOiAiaW5zZXQgMCAxcHggMXB4IHJnYmEoMCwwLDAsLjA3NSkiLAogICAgICAgICAgICAvLyAiYm94LXNoYWRvdyI6ICJpbnNldCAwIDFweCAxcHggcmdiYSgwLDAsMCwuMDc1KSIsCiAgICAgICAgICAgICItd2Via2l0LXRyYW5zaXRpb24iOiAiYm9yZGVyLWNvbG9yIGVhc2UtaW4tb3V0IC4xNXMsLXdlYmtpdC1ib3gtc2hhZG93IGVhc2UtaW4tb3V0IC4xNXMiLAogICAgICAgICAgICAiLW8tdHJhbnNpdGlvbiI6ICJib3JkZXItY29sb3IgZWFzZS1pbi1vdXQgLjE1cyxib3gtc2hhZG93IGVhc2UtaW4tb3V0IC4xNXMiLAogICAgICAgICAgICB0cmFuc2l0aW9uOiAiYm9yZGVyLWNvbG9yIGVhc2UtaW4tb3V0IC4xNXMsYm94LXNoYWRvdyBlYXNlLWluLW91dCAuMTVzIiwKICAgICAgICAgICAgd2lkdGg6ICIxMDAlIgogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkW25hbWU9c3VibWl0XSI6IHsKICAgICAgICAgICAgImJhY2tncm91bmQtY29sb3IiOiAiI0YxNTU1QyIsCiAgICAgICAgICAgICJmb250LWZhbWlseSI6ICJzYW5zLXNlcmlmIiwKICAgICAgICAgICAgInRleHQtdHJhbnNmb3JtIjogInVwcGVyY2FzZSIsCiAgICAgICAgICAgIGhlaWdodDogIjUwcHgiLAogICAgICAgICAgICBjb2xvcjogIiNmZmZmZmYiLAogICAgICAgICAgICBib3JkZXI6ICIwcHggc29saWQgdHJhbnNwYXJlbnQiLAogICAgICAgICAgICAiYm9yZGVyLXJhZGl1cyI6ICIycHgiLAogICAgICAgICAgICAiZm9udC13ZWlnaHQiOiAiYm9sZGVyIiwKICAgICAgICAgICAgImZvbnQtc2l6ZSI6ICJtZWRpdW0iCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGRbbmFtZT1zdWJtaXRdOmZvY3VzIjogewogICAgICAgICAgICAiYmFja2dyb3VuZC1jb2xvciI6ICIjRjE1NTVDIiwKICAgICAgICAgICAgImZvbnQtZmFtaWx5IjogInNhbnMtc2VyaWYiLAogICAgICAgICAgICAidGV4dC10cmFuc2Zvcm0iOiAidXBwZXJjYXNlIiwKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIsCiAgICAgICAgICAgIGNvbG9yOiAiI2ZmZmZmZiIsCiAgICAgICAgICAgIGJvcmRlcjogIjBweCBzb2xpZCB0cmFuc3BhcmVudCAhaW1wb3J0YW50IiwKICAgICAgICAgICAgImJvcmRlci1yYWRpdXMiOiAiMnB4IiwKICAgICAgICAgICAgImZvbnQtd2VpZ2h0IjogImJvbGRlciIsCiAgICAgICAgICAgICJmb250LXNpemUiOiAibWVkaXVtIgogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkW25hbWU9c3VibWl0XTpob3ZlciI6IHsKICAgICAgICAgICAgImJhY2tncm91bmQtY29sb3IiOiAiI0YxNTU1QyIsCiAgICAgICAgICAgICJmb250LWZhbWlseSI6ICJzYW5zLXNlcmlmIiwKICAgICAgICAgICAgInRleHQtdHJhbnNmb3JtIjogInVwcGVyY2FzZSIsCiAgICAgICAgICAgIGhlaWdodDogIjUwcHgiLAogICAgICAgICAgICBjb2xvcjogIiNmZmZmZmYiLAogICAgICAgICAgICBib3JkZXI6ICIwcHggc29saWQgdHJhbnNwYXJlbnQgIWltcG9ydGFudCIsCiAgICAgICAgICAgICJib3JkZXItcmFkaXVzIjogIjJweCIsCiAgICAgICAgICAgICJmb250LXdlaWdodCI6ICJib2xkZXIiLAogICAgICAgICAgICAiZm9udC1zaXplIjogIm1lZGl1bSIKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC13cmFwcGVyICNoZWFydGxhbmQtZmllbGQ6Zm9jdXMiOiB7CiAgICAgICAgICAgICJib3JkZXItbGVmdCI6ICIwcHgiLAogICAgICAgICAgICAiYm9yZGVyLXRvcCI6ICIwcHgiLAogICAgICAgICAgICAiYm9yZGVyLXJpZ2h0IjogIjBweCIsCiAgICAgICAgICAgICJib3JkZXItYm90dG9tIjogIjFweCBzb2xpZCAjMzk4OWUzIiwKICAgICAgICAgICAgb3V0bGluZTogIm5vbmUiLAogICAgICAgICAgICAiYm94LXNoYWRvdyI6ICJub25lIiwKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIKICAgICAgICAgIH0sCiAgICAgICAgICAiaGVhcnRsYW5kLWZpZWxkLXdyYXBwZXIgI2hlYXJ0bGFuZC1maWVsZCI6IHsKICAgICAgICAgICAgaGVpZ2h0OiAiNTBweCIKICAgICAgICAgIH0sCiAgICAgICAgICAiaW5wdXRbdHlwZT1zdWJtaXRdIjogewogICAgICAgICAgICAiYm94LXNpemluZyI6ICJib3JkZXItYm94IiwKICAgICAgICAgICAgZGlzcGxheTogImlubGluZS1ibG9jayIsCiAgICAgICAgICAgIHBhZGRpbmc6ICI2cHggMTJweCIsCiAgICAgICAgICAgICJtYXJnaW4tYm90dG9tIjogIjAiLAogICAgICAgICAgICAiZm9udC1zaXplIjogIjE0cHgiLAogICAgICAgICAgICAiZm9udC13ZWlnaHQiOiAiNDAwIiwKICAgICAgICAgICAgImxpbmUtaGVpZ2h0IjogIjEuNDI4NTcxNDMiLAogICAgICAgICAgICAidGV4dC1hbGlnbiI6ICJjZW50ZXIiLAogICAgICAgICAgICAid2hpdGUtc3BhY2UiOiAibm93cmFwIiwKICAgICAgICAgICAgInZlcnRpY2FsLWFsaWduIjogIm1pZGRsZSIsCiAgICAgICAgICAgICItbXMtdG91Y2gtYWN0aW9uIjogIm1hbmlwdWxhdGlvbiIsCiAgICAgICAgICAgICJ0b3VjaC1hY3Rpb24iOiAibWFuaXB1bGF0aW9uIiwKICAgICAgICAgICAgY3Vyc29yOiAicG9pbnRlciIsCiAgICAgICAgICAgICItd2Via2l0LXVzZXItc2VsZWN0IjogIm5vbmUiLAogICAgICAgICAgICAiLW1vei11c2VyLXNlbGVjdCI6ICJub25lIiwKICAgICAgICAgICAgIi1tcy11c2VyLXNlbGVjdCI6ICJub25lIiwKICAgICAgICAgICAgInVzZXItc2VsZWN0IjogIm5vbmUiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1pbWFnZSI6ICJub25lIiwKICAgICAgICAgICAgYm9yZGVyOiAiMXB4IHNvbGlkIHRyYW5zcGFyZW50IiwKICAgICAgICAgICAgImJvcmRlci1yYWRpdXMiOiAiNHB4IiwKICAgICAgICAgICAgY29sb3I6ICIjZmZmIiwKICAgICAgICAgICAgImJhY2tncm91bmQtY29sb3IiOiAiIzMzN2FiNyIsCiAgICAgICAgICAgICJib3JkZXItY29sb3IiOiAiIzJlNmRhNCIKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZFtwbGFjZWhvbGRlcl0iOiB7CiAgICAgICAgICAgICJsZXR0ZXItc3BhY2luZyI6ICIxcHgiCiAgICAgICAgICB9LAogICAgICAgICAgIjo6cGxhY2Vob2xkZXIiOiB7CiAgICAgICAgICAgIGNvbG9yOiAiIzhDQTJBRCIKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZFtuYW1lPWNhcmRDdnZdIjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvY3Z2MS5wbmc/cmF3PXRydWUpIG5vLXJlcGVhdCByaWdodCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXNpemUiOiAiNjNweCA0MHB4IgogICAgICAgICAgfSwKICAgICAgICAgICJpbnB1dCNoZWFydGxhbmQtZmllbGRbbmFtZT1jYXJkTnVtYmVyXSI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLWlucHV0Y2FyZC1ibGFua0AyeC5wbmc/cmF3PXRydWUpIG5vLXJlcGVhdCByaWdodCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXNpemUiOiAiNTVweCAzNXB4IgogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLmludmFsaWQuY2FyZC10eXBlLXZpc2EiOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZC12aXNhQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI4M3B4IDg4cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi00NHB4IgogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLnZhbGlkLmNhcmQtdHlwZS12aXNhIjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWQtdmlzYUAyeC5wbmc/cmF3PXRydWUpIG5vLXJlcGVhdCByaWdodCB0b3AiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjgycHggODZweCIKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC5pbnZhbGlkLmNhcmQtdHlwZS1kaXNjb3ZlciI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLXNhdmVkLWRpc2NvdmVyQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI4NXB4IDkwcHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi00NHB4IgogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLnZhbGlkLmNhcmQtdHlwZS1kaXNjb3ZlciI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLXNhdmVkLWRpc2NvdmVyQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI4NXB4IDkwcHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIjFweCIKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC5pbnZhbGlkLmNhcmQtdHlwZS1hbWV4IjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWRjYXJkcy1hbWV4QDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI1MHB4IDkwcHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi00NHB4IgogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLnZhbGlkLmNhcmQtdHlwZS1hbWV4IjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWRjYXJkcy1hbWV4QDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IHRvcCIsCiAgICAgICAgICAgICJiYWNrZ3JvdW5kLXNpemUiOiAiNTBweCA5MHB4IgogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLmludmFsaWQuY2FyZC10eXBlLW1hc3RlcmNhcmQiOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZC1tYXN0ZXJjYXJkLnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI2MnB4IDEwNXB4IiwKICAgICAgICAgICAgImJhY2tncm91bmQtcG9zaXRpb24teSI6ICItNTJweCIKICAgICAgICAgIH0sCiAgICAgICAgICAiI2hlYXJ0bGFuZC1maWVsZC52YWxpZC5jYXJkLXR5cGUtbWFzdGVyY2FyZCI6IHsKICAgICAgICAgICAgYmFja2dyb3VuZDogInRyYW5zcGFyZW50IHVybChodHRwczovL2dpdGh1Yi5jb20vaHBzL2hlYXJ0bGFuZC1waHAvYmxvYi9tYXN0ZXIvZXhhbXBsZXMvZW5kLXRvLWVuZC9hc3NldHMvaW1hZ2VzL3NzLXNhdmVkLW1hc3RlcmNhcmQucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1zaXplIjogIjYycHggMTA1cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi0xcHgiCiAgICAgICAgICB9LAogICAgICAgICAgIiNoZWFydGxhbmQtZmllbGQuaW52YWxpZC5jYXJkLXR5cGUtamNiIjogewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAidHJhbnNwYXJlbnQgdXJsKGh0dHBzOi8vZ2l0aHViLmNvbS9ocHMvaGVhcnRsYW5kLXBocC9ibG9iL21hc3Rlci9leGFtcGxlcy9lbmQtdG8tZW5kL2Fzc2V0cy9pbWFnZXMvc3Mtc2F2ZWQtamNiQDJ4LnBuZz9yYXc9dHJ1ZSkgbm8tcmVwZWF0IHJpZ2h0IiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI1NXB4IDk0cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIi00NHB4IgogICAgICAgICAgfSwKICAgICAgICAgICIjaGVhcnRsYW5kLWZpZWxkLnZhbGlkLmNhcmQtdHlwZS1qY2IiOiB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICJ0cmFuc3BhcmVudCB1cmwoaHR0cHM6Ly9naXRodWIuY29tL2hwcy9oZWFydGxhbmQtcGhwL2Jsb2IvbWFzdGVyL2V4YW1wbGVzL2VuZC10by1lbmQvYXNzZXRzL2ltYWdlcy9zcy1zYXZlZC1qY2JAMngucG5nP3Jhdz10cnVlKSBuby1yZXBlYXQgcmlnaHQgdG9wIiwKICAgICAgICAgICAgImJhY2tncm91bmQtc2l6ZSI6ICI1NXB4IDk0cHgiLAogICAgICAgICAgICAiYmFja2dyb3VuZC1wb3NpdGlvbi15IjogIjJweCIKICAgICAgICAgIH0sCiAgICAgICAgICAiaW5wdXQjaGVhcnRsYW5kLWZpZWxkW25hbWU9Y2FyZE51bWJlcl06Oi1tcy1jbGVhciI6IHsKICAgICAgICAgICAgZGlzcGxheTogIm5vbmUiCiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICAvLyBDYWxsYmFjayB3aGVuIGEgdG9rZW4gaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmljZQogICAgICAgIG9uVG9rZW5TdWNjZXNzOiBmdW5jdGlvbiBvblRva2VuU3VjY2VzcyhyZXNwKSB7CiAgICAgICAgICAvLyBzZWxmLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAvLyAgICAgcGhvbmU6IHNlbGYuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgICAgLy8gICAgIHJlZklkOiBzZWxmLmJvb2tpbmdJZCwKICAgICAgICAgIC8vICAgICBzdGF0dXNUZXh0OiAiSFBTIHRva2VuIGdlbmVyYXRlZCBzdWNjZXNzZnVsbHkiLAogICAgICAgICAgLy8gfSk7CiAgICAgICAgICBzZWxmLm9uU3VibWl0KHJlc3ApOwogICAgICAgIH0sCiAgICAgICAgLy8gQ2FsbGJhY2sgd2hlbiBhbiBlcnJvciBpcyByZWNlaXZlZCBmcm9tIHRoZSBzZXJ2aWNlCiAgICAgICAgb25Ub2tlbkVycm9yOiBmdW5jdGlvbiBvblRva2VuRXJyb3IocmVzcCkgewogICAgICAgICAgc2VsZi5hZGRQYXltZW50TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgc2VsZi5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgICBzZWxmLmVyckRpYWxvZyA9IHRydWU7CiAgICAgICAgICBzZWxmLmVyck1zZyA9IHJlc3AuZXJyb3IubWVzc2FnZTsKICAgICAgICAgIHNlbGYucG9zdFRvTG9nZ2VyQVBJKHsKICAgICAgICAgICAgcGhvbmU6IHNlbGYuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgICAgICByZWZJZDogc2VsZi5ib29raW5nSWQsCiAgICAgICAgICAgIGVycm9yOiByZXNwLmVycm9yLm1lc3NhZ2UsCiAgICAgICAgICAgIHN0YXR1c1RleHQ6ICJFcnJvciBpbiBnZW5lcmF0aW5nIEhQUyB0b2tlbi4iCiAgICAgICAgICB9KTsgLy8gYWxlcnQoIlRoZXJlIHdhcyBhbiBlcnJvcjogIiArIHJlc3AuZXJyb3IubWVzc2FnZSk7CiAgICAgICAgfSwKICAgICAgICAvLyBDYWxsYmFjayB3aGVuIGFuIGV2ZW50IGlzIGZpcmVkIHdpdGhpbiBhbiBpRnJhbWUKICAgICAgICBvbkV2ZW50OiBmdW5jdGlvbiBvbkV2ZW50KCkge30KICAgICAgfSk7CiAgICB9LAogICAgbmF2aWdhdGVUb0NoZWNrSW46IGZ1bmN0aW9uIG5hdmlnYXRlVG9DaGVja0luKCkgewogICAgICBpZiAodGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLnR5cGUgPT09ICIxNCIpIHsKICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICBuYW1lOiAncHJvbWlzZXRvcGF5JywKICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgIGJpZDogdGhpcy5ib29raW5nSWQsCiAgICAgICAgICAgIHN0YXRlOiAnY2hlY2tvdXQnCiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CgogICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgbmFtZTogJ2NoZWNrZWRpbicsCiAgICAgICAgcXVlcnk6IHsKICAgICAgICAgIGJpZDogdGhpcy5ib29raW5nSWQsCiAgICAgICAgICBzZXNzaW9udHlwZTogJ3Byb21pc2V0b3BheScKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIG9uU3VibWl0OiBmdW5jdGlvbiBvblN1Ym1pdChyZXNwKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgICB2YXIgZW1haWxfdmFsdWUsIHBvc3RhbENvZGVfdmFsdWUsIF90aGlzJHpvbmVEZXRhaWxzNCwgY2FyZERhdGEsIHBhcmFtcywgcGF5bWVudERhdGEsIF90aGlzJHpvbmVEZXRhaWxzNSwgX3BheW1lbnREYXRhLCBfYWRkQ2FyZCRkYXRhLCBfYWRkQ2FyZCRkYXRhMiwgYWRkQ2FyZCwgX2FkZENhcmQkZGF0YTM7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Mi5wcmV2ID0gX2NvbnRleHQyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfdGhpcy5hZGRQYXltZW50TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpcy5zaG93UGF5bWVudEJ0biA9IGZhbHNlOwogICAgICAgICAgICAgICAgZW1haWxfdmFsdWUgPSBfdGhpcy5lbWFpbC50cmltKCk7IC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJlbWFpbF9hZGRyZXNzIikudmFsdWU7CgogICAgICAgICAgICAgICAgcG9zdGFsQ29kZV92YWx1ZSA9IF90aGlzLnBvc3RhbENvZGUudHJpbSgpOyAvL2RvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJwb3N0YWxfY29kZSIpLnZhbHVlOwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLnZhbGlkYXRlRW1haWwoZW1haWxfdmFsdWUpICYmIF90aGlzLnZhbGlkYXRlUG9zdGFsQ29kZShwb3N0YWxDb2RlX3ZhbHVlKSAmJiBfdGhpcy52YWxpZGF0ZUV4cERhdGUocmVzcC5leHBfbW9udGgsIHJlc3AuZXhwX3llYXIpKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShyZXNwICE9PSBudWxsICYmIHJlc3AgIT09IHZvaWQgMCAmJiByZXNwLnRva2VuX3ZhbHVlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBjYXJkRGF0YSA9IHt9OwoKICAgICAgICAgICAgICAgIGlmICgoKF90aGlzJHpvbmVEZXRhaWxzNCA9IF90aGlzLnpvbmVEZXRhaWxzKSA9PT0gbnVsbCB8fCBfdGhpcyR6b25lRGV0YWlsczQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzJHpvbmVEZXRhaWxzNC5pc1BRUkVuZFJlc2VydmF0aW9uKSAhPSAnMScpIHsKICAgICAgICAgICAgICAgICAgY2FyZERhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgY2FyZFR5cGU6IHJlc3AuY2FyZF90eXBlLAogICAgICAgICAgICAgICAgICAgIHVzZXJEZXZpY2U6ICIyIiwKICAgICAgICAgICAgICAgICAgICBvcmRlclR5cGU6ICIzIiwKICAgICAgICAgICAgICAgICAgICBlbnRyeTogW3sKICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uQ29kZTogX3RoaXMuYm9va2luZ0RldGFpbHMuem9uZS5sb2NhdGlvbkNvZGUsCiAgICAgICAgICAgICAgICAgICAgICBzdGFydEF0OiBfdGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLnN0YXJ0QXQsCiAgICAgICAgICAgICAgICAgICAgICBxdWFudGl0eTogIjEiCiAgICAgICAgICAgICAgICAgICAgfV0sCiAgICAgICAgICAgICAgICAgICAgcGF5bWVudDogewogICAgICAgICAgICAgICAgICAgICAgbGFzdEZvdXJEaWdpdHM6IHJlc3AubGFzdF9mb3VyLAogICAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbk1vbnRoOiByZXNwLmV4cF9tb250aCwKICAgICAgICAgICAgICAgICAgICAgIGV4cGlyYXRpb25ZZWFyOiByZXNwLmV4cF95ZWFyLAogICAgICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogcG9zdGFsQ29kZV92YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Ub2tlbjogcmVzcC50b2tlbl92YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbF92YWx1ZSwKICAgICAgICAgICAgICAgICAgICAgIHNhdmVDYXJkOiBfdGhpcy5kZWZhdWx0Q3JlZGl0Q2FyZENCLnRvU3RyaW5nKCksCiAgICAgICAgICAgICAgICAgICAgICBpc0RlZmF1bHQ6IF90aGlzLmRlZmF1bHRDcmVkaXRDYXJkQ0IsCiAgICAgICAgICAgICAgICAgICAgICBwcmVBdXRob3JpemVkT25seTogX3RoaXMuYXV0b0NoZWNraW5DQgogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgIF90aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgY2FyZERhdGEgPSB7CiAgICAgICAgICAgICAgICAgICAgY2FyZFR5cGU6IHJlc3AuY2FyZF90eXBlLAogICAgICAgICAgICAgICAgICAgIHVzZXJEZXZpY2U6ICIyIiwKICAgICAgICAgICAgICAgICAgICBvcmRlclR5cGU6ICIzIiwKICAgICAgICAgICAgICAgICAgICBlbnRyeTogW3sKICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uQ29kZTogX3RoaXMuem9uZURldGFpbHMuemNvZGUsCiAgICAgICAgICAgICAgICAgICAgICBzdGFydEF0OiAnJywKICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAiMSIKICAgICAgICAgICAgICAgICAgICB9XQogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHBhcmFtcyA9IG5ldyBVUkxTZWFyY2hQYXJhbXMod2luZG93LmxvY2F0aW9uLnNlYXJjaCk7CgogICAgICAgICAgICAgICAgaWYgKCEocGFyYW1zLmdldCgnc2Vzc2lvbnR5cGUnKSA9PSAnb25kZW1hbmQnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBwYXltZW50RGF0YSA9IHsKICAgICAgICAgICAgICAgICAgbGFzdEZvdXJEaWdpdHM6IHJlc3AubGFzdF9mb3VyLAogICAgICAgICAgICAgICAgICBleHBpcmF0aW9uTW9udGg6IHJlc3AuZXhwX21vbnRoLAogICAgICAgICAgICAgICAgICBleHBpcmF0aW9uWWVhcjogcmVzcC5leHBfeWVhciwKICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogcG9zdGFsQ29kZV92YWx1ZSwKICAgICAgICAgICAgICAgICAgYXV0aG9yaXphdGlvblRva2VuOiByZXNwLnRva2VuX3ZhbHVlLAogICAgICAgICAgICAgICAgICBlbWFpbDogZW1haWxfdmFsdWUsCiAgICAgICAgICAgICAgICAgIHNhdmVDYXJkOiBfdGhpcy5kZWZhdWx0Q3JlZGl0Q2FyZENCLnRvU3RyaW5nKCksCiAgICAgICAgICAgICAgICAgIGlzRGVmYXVsdDogX3RoaXMuZGVmYXVsdENyZWRpdENhcmRDQiwKICAgICAgICAgICAgICAgICAgcHJlQXV0aG9yaXplZE9ubHk6IF90aGlzLmF1dG9DaGVja2luQ0IKICAgICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX09OREVNQU5EX0NBUkRERVRBSUxTJywgY2FyZERhdGEpOwoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ1NFVF9PTkRFTUFORF9QQVlNRU5UJywgcGF5bWVudERhdGEpOwoKICAgICAgICAgICAgICAgIGlmIChfdGhpcy50ZW1wbGF0ZUZsYWdzID09PSAnb25kZW1hbmQtZmxhZycpIHsKICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oIm9kQ0NEZXRhaWxzIiwgSlNPTi5zdHJpbmdpZnkoewogICAgICAgICAgICAgICAgICAgIGVtYWlsOiBlbWFpbF92YWx1ZSwKICAgICAgICAgICAgICAgICAgICBwb3N0YWxDb2RlOiBwb3N0YWxDb2RlX3ZhbHVlCiAgICAgICAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5jcmVhdGVPRFNlc3Npb24oKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBpZiAoIShwYXJhbXMuZ2V0KCdzZXNzaW9udHlwZScpID09ICdjaWNvJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1NTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoKChfdGhpcyR6b25lRGV0YWlsczUgPSBfdGhpcy56b25lRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMkem9uZURldGFpbHM1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpcyR6b25lRGV0YWlsczUuaXNQUVJFbmRSZXNlcnZhdGlvbikgPT0gJzEnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfcGF5bWVudERhdGEgPSB7CiAgICAgICAgICAgICAgICAgIGxhc3RGb3VyRGlnaXRzOiByZXNwLmxhc3RfZm91ciwKICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvbk1vbnRoOiByZXNwLmV4cF9tb250aCwKICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvblllYXI6IHJlc3AuZXhwX3llYXIsCiAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IHBvc3RhbENvZGVfdmFsdWUsCiAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Ub2tlbjogcmVzcC50b2tlbl92YWx1ZSwKICAgICAgICAgICAgICAgICAgZW1haWw6IGVtYWlsX3ZhbHVlLAogICAgICAgICAgICAgICAgICBzYXZlQ2FyZDogX3RoaXMuZGVmYXVsdENyZWRpdENhcmRDQi50b1N0cmluZygpLAogICAgICAgICAgICAgICAgICBpc0RlZmF1bHQ6IF90aGlzLmRlZmF1bHRDcmVkaXRDYXJkQ0IsCiAgICAgICAgICAgICAgICAgIHByZUF1dGhvcml6ZWRPbmx5OiBfdGhpcy5hdXRvQ2hlY2tpbkNCCiAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgIF90aGlzLiRzdG9yZS5jb21taXQoJ1NFVF9DQVNJTk9fQ0FSRERFVEFJTFMnLCBjYXJkRGF0YSk7CgogICAgICAgICAgICAgICAgX3RoaXMuJHN0b3JlLmNvbW1pdCgnU0VUX0NBU0lOT19QQVlNRU5UJywgX3BheW1lbnREYXRhKTsKCiAgICAgICAgICAgICAgICBfdGhpcy5jYXNpbm9TZXNzaW9uKCk7CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1NTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLnByZXYgPSAyNTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjg7CiAgICAgICAgICAgICAgICByZXR1cm4gQVBJLmFkZENhcmQoY2FyZERhdGEsIF90aGlzLmJvb2tpbmdJZCk7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBhZGRDYXJkID0gX2NvbnRleHQyLnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKCEoYWRkQ2FyZCAhPT0gbnVsbCAmJiBhZGRDYXJkICE9PSB2b2lkIDAgJiYgKF9hZGRDYXJkJGRhdGEgPSBhZGRDYXJkLmRhdGEpICE9PSBudWxsICYmIF9hZGRDYXJkJGRhdGEgIT09IHZvaWQgMCAmJiBfYWRkQ2FyZCRkYXRhLnN0YXR1cyAmJiBfdGhpcy5ib29raW5nRGV0YWlscy5ib29raW5nLnR5cGUgPT09ICIxNCIpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgICAgIG5hbWU6ICdjaGVja291dCcsCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgYmlkOiBfdGhpcy5ib29raW5nSWQsCiAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICdjaGVja291dCcKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5hYnJ1cHQoInJldHVybiIpOwoKICAgICAgICAgICAgICBjYXNlIDMyOgogICAgICAgICAgICAgICAgaWYgKCEoYWRkQ2FyZCAhPT0gbnVsbCAmJiBhZGRDYXJkICE9PSB2b2lkIDAgJiYgKF9hZGRDYXJkJGRhdGEyID0gYWRkQ2FyZC5kYXRhKSAhPT0gbnVsbCAmJiBfYWRkQ2FyZCRkYXRhMiAhPT0gdm9pZCAwICYmIF9hZGRDYXJkJGRhdGEyLnN0YXR1cykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA0MTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAzNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5nZXRCb29raW5nU3RhdGUoX3RoaXMuYm9va2luZ0lkKTsKCiAgICAgICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgICAgIF90aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gZmFsc2U7CgogICAgICAgICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgICAgICAgbmFtZTogJ2NoZWNrZWRpbicsCiAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgYmlkOiBfdGhpcy5ib29raW5nSWQsCiAgICAgICAgICAgICAgICAgICAgc3RhdGU6ICdjaGVja2VkaW4nCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF90aGlzLnNob3dQYXltZW50QnRuID0gdHJ1ZTsKCiAgICAgICAgICAgICAgICBfdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgICAgICAgICBwaG9uZTogX3RoaXMuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgICAgICAgICAgICByZWZJZDogX3RoaXMuYm9va2luZ0lkLAogICAgICAgICAgICAgICAgICBpY29uOiAiY3JlZGl0X3Njb3JlIiwKICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogIkNhcmQgYWRkZWQgc3VjY2Vzc2Z1bGx5LiIKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIF90aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBfdGhpcy5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXMuZXJyTXNnID0gYWRkQ2FyZCAhPT0gbnVsbCAmJiBhZGRDYXJkICE9PSB2b2lkIDAgJiYgKF9hZGRDYXJkJGRhdGEzID0gYWRkQ2FyZC5kYXRhKSAhPT0gbnVsbCAmJiBfYWRkQ2FyZCRkYXRhMyAhPT0gdm9pZCAwICYmIF9hZGRDYXJkJGRhdGEzLm1lc3NhZ2UgPyBhZGRDYXJkLmRhdGEubWVzc2FnZSA6ICJQbGVhc2UgdHJ5IGFnYWluIjsKCiAgICAgICAgICAgICAgICBfdGhpcy5wb3N0VG9Mb2dnZXJBUEkoewogICAgICAgICAgICAgICAgICBwaG9uZTogX3RoaXMuYm9va2luZ0RldGFpbHMudXNlci5jb250YWN0LAogICAgICAgICAgICAgICAgICByZWZJZDogX3RoaXMuYm9va2luZ0lkLAogICAgICAgICAgICAgICAgICBlcnJvcjogX3RoaXMuZXJyTXNnLAogICAgICAgICAgICAgICAgICBpY29uOiAiY3JlZGl0X3Njb3JlIiwKICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogIkVycm9yIGluIGFkZGluZyB0aGUgY3JlZGl0IGNhcmQuIgogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgNDY6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDU1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIucHJldiA9IDQ4OwogICAgICAgICAgICAgICAgX2NvbnRleHQyLnQwID0gX2NvbnRleHQyWyJjYXRjaCJdKDI1KTsKICAgICAgICAgICAgICAgIF90aGlzLmVyckRpYWxvZyA9IHRydWU7CiAgICAgICAgICAgICAgICBfdGhpcy5lcnJNc2cgPSAiUGxlYXNlIHRyeSBhZ2Fpbi4iOwoKICAgICAgICAgICAgICAgIF90aGlzLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAgICAgICAgIHBob25lOiBfdGhpcy5ib29raW5nRGV0YWlscy51c2VyLmNvbnRhY3QsCiAgICAgICAgICAgICAgICAgIHJlZklkOiBfdGhpcy5ib29raW5nSWQsCiAgICAgICAgICAgICAgICAgIGVycm9yOiBfY29udGV4dDIudDAsCiAgICAgICAgICAgICAgICAgIGljb246ICJjcmVkaXRfc2NvcmUiLAogICAgICAgICAgICAgICAgICBzdGF0dXNUZXh0OiAiRXJyb3IgaW4gYWRkaW5nIHRoZSBjcmVkaXQgY2FyZC4iCiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICBfdGhpcy5hZGRQYXltZW50TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXMuc2hvd1BheW1lbnRCdG4gPSB0cnVlOwoKICAgICAgICAgICAgICBjYXNlIDU1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyLCBudWxsLCBbWzI1LCA0OF1dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy9BdGxhbnRpYyBmbG93IGNyZWF0ZSBzZXNzaW9uCiAgICBjYXNpbm9TZXNzaW9uOiBmdW5jdGlvbiBjYXNpbm9TZXNzaW9uKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBfdGhpczIkY2FzaW5vRGV0YWlsczsKCiAgICAgICAgdmFyIF90aGlzMiRjYXNpbm9EZXRhaWxzMiwgX3RoaXMyJGNhc2lub0RldGFpbHMzLCBfdGhpczIkY2FzaW5vRGV0YWlsczQsIF90aGlzMiRjYXNpbm9EZXRhaWxzNSwgX3RoaXMyJGNhc2lub0RldGFpbHM2LCBfdGhpczIkY2FzaW5vRGV0YWlsczcsIF90aGlzMiRjYXNpbm9EZXRhaWxzOCwgX3RoaXMyJGNhc2lub0RldGFpbHM5LCBfdGhpczIkY2FzaW5vRGV0YWlsczEwLCBfdGhpczIkY2FzaW5vRGV0YWlsczExLCBfdGhpczIkem9uZURldGFpbHMsIF90aGlzMiRjYXNpbm9EZXRhaWxzMTIsIF90aGlzMiRjYXNpbm9EZXRhaWxzMTMsIF90aGlzMiRjYXNpbm9EZXRhaWxzMTQsIF90aGlzMiRjYXNpbm9EZXRhaWxzMTUsIF90aGlzMiRjYXNpbm9EZXRhaWxzMTYsIF90aGlzMiRjYXNpbm9EZXRhaWxzMTcsIF90aGlzMiRjYXNpbm9EZXRhaWxzMTgsIF90aGlzMiRjYXNpbm9EZXRhaWxzMTksIF90aGlzMiRjYXNpbm9EZXRhaWxzMjAsIF90aGlzMiRjYXNpbm9EZXRhaWxzMjEsIF90aGlzMiRjYXNpbm9EZXRhaWxzMjIsIF90aGlzMiRjYXNpbm9EZXRhaWxzMjMsIF90aGlzMiRjYXNpbm9EZXRhaWxzMjQsIF90aGlzMiRjYXNpbm9EZXRhaWxzMjUsIF90aGlzMiRjYXNpbm9EZXRhaWxzMjYsIF90aGlzMiRjYXNpbm9EZXRhaWxzMjcsIF90aGlzMiRjYXNpbm9EZXRhaWxzMjgsIF90aGlzMiRjYXNpbm9EZXRhaWxzMjksIF90aGlzMiRjYXNpbm9EZXRhaWxzMzAsIF90aGlzMiRjYXNpbm9EZXRhaWxzMzEsIF9hZGRDYXJkJGRhdGE0LCBfYWRkQ2FyZCRkYXRhNiwgZXhpdERhdGVUaW1lLCBlbnRyeURhdGVUaW1lLCBwb3N0RGF0YSwgYWRkQ2FyZCwgX2FkZENhcmQkZGF0YTUsIF9hZGRDYXJkJGRhdGE1JGRhdGEsIF9hZGRDYXJkJGRhdGE3OwoKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coKF90aGlzMiRjYXNpbm9EZXRhaWxzID0gX3RoaXMyLmNhc2lub0RldGFpbHMpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczIkY2FzaW5vRGV0YWlscy51c2VyRGV0YWlsLmV4aXRUaW1lKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF90aGlzMi5hZGRQYXltZW50TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBleGl0RGF0ZVRpbWUgPSBmb3JtYXQobmV3IERhdGUoKF90aGlzMiRjYXNpbm9EZXRhaWxzMiA9IF90aGlzMi5jYXNpbm9EZXRhaWxzKSA9PT0gbnVsbCB8fCBfdGhpczIkY2FzaW5vRGV0YWlsczIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpczIkY2FzaW5vRGV0YWlsczMgPSBfdGhpczIkY2FzaW5vRGV0YWlsczIudXNlckRldGFpbCkgPT09IG51bGwgfHwgX3RoaXMyJGNhc2lub0RldGFpbHMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczIkY2FzaW5vRGV0YWlsczMuZXhpdFRpbWUucmVwbGFjZUFsbCgiLSIsICIvIikpLCAieXl5eS1NTS1kZCBISDptbTpzcyIpOwogICAgICAgICAgICAgICAgZW50cnlEYXRlVGltZSA9IGZvcm1hdChuZXcgRGF0ZSgoX3RoaXMyJGNhc2lub0RldGFpbHM0ID0gX3RoaXMyLmNhc2lub0RldGFpbHMpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzMiRjYXNpbm9EZXRhaWxzNSA9IF90aGlzMiRjYXNpbm9EZXRhaWxzNC51c2VyRGV0YWlsKSA9PT0gbnVsbCB8fCBfdGhpczIkY2FzaW5vRGV0YWlsczUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMiRjYXNpbm9EZXRhaWxzNS5lbnRyeVRpbWUucmVwbGFjZUFsbCgiLSIsICIvIikpLCAieXl5eS1NTS1kZCBISDptbTpzcyIpOwogICAgICAgICAgICAgICAgcG9zdERhdGEgPSB7CiAgICAgICAgICAgICAgICAgIG1pZDogX3RoaXMyLnpvbmVEZXRhaWxzLm1pZCwKICAgICAgICAgICAgICAgICAgdXNlckRldGFpbDogewogICAgICAgICAgICAgICAgICAgIHBsYXRlOiAoX3RoaXMyJGNhc2lub0RldGFpbHM2ID0gX3RoaXMyLmNhc2lub0RldGFpbHMpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzNiA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzMiRjYXNpbm9EZXRhaWxzNyA9IF90aGlzMiRjYXNpbm9EZXRhaWxzNi51c2VyRGV0YWlsKSA9PT0gbnVsbCB8fCBfdGhpczIkY2FzaW5vRGV0YWlsczcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMiRjYXNpbm9EZXRhaWxzNy5wbGF0ZSwKICAgICAgICAgICAgICAgICAgICBjb250YWN0OiAoX3RoaXMyJGNhc2lub0RldGFpbHM4ID0gX3RoaXMyLmNhc2lub0RldGFpbHMpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzMiRjYXNpbm9EZXRhaWxzOSA9IF90aGlzMiRjYXNpbm9EZXRhaWxzOC51c2VyRGV0YWlsKSA9PT0gbnVsbCB8fCBfdGhpczIkY2FzaW5vRGV0YWlsczkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMiRjYXNpbm9EZXRhaWxzOS5jb250YWN0LAogICAgICAgICAgICAgICAgICAgIGV4aXRUaW1lOiBleGl0RGF0ZVRpbWUsCiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiAiUGFpZEhvc3RQYXNzIgogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBjYXJkRGV0YWlsOiB7CiAgICAgICAgICAgICAgICAgICAgY2FyZFR5cGU6IChfdGhpczIkY2FzaW5vRGV0YWlsczEwID0gX3RoaXMyLmNhc2lub0RldGFpbHMpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzMTAgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpczIkY2FzaW5vRGV0YWlsczExID0gX3RoaXMyJGNhc2lub0RldGFpbHMxMC5jYXJkRGV0YWlsKSA9PT0gbnVsbCB8fCBfdGhpczIkY2FzaW5vRGV0YWlsczExID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczIkY2FzaW5vRGV0YWlsczExLmNhcmRUeXBlLAogICAgICAgICAgICAgICAgICAgIHVzZXJEZXZpY2U6ICIyIiwKICAgICAgICAgICAgICAgICAgICBvcmRlclR5cGU6ICIzIiwKICAgICAgICAgICAgICAgICAgICBlbnRyeTogW3sKICAgICAgICAgICAgICAgICAgICAgIGxvY2F0aW9uQ29kZTogKF90aGlzMiR6b25lRGV0YWlscyA9IF90aGlzMi56b25lRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMyJHpvbmVEZXRhaWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczIkem9uZURldGFpbHMuemNvZGUsCiAgICAgICAgICAgICAgICAgICAgICBzdGFydEF0OiBlbnRyeURhdGVUaW1lLAogICAgICAgICAgICAgICAgICAgICAgcXVhbnRpdHk6ICIxIgogICAgICAgICAgICAgICAgICAgIH1dLAogICAgICAgICAgICAgICAgICAgIHBheW1lbnQ6IHsKICAgICAgICAgICAgICAgICAgICAgIGxhc3RGb3VyRGlnaXRzOiAoX3RoaXMyJGNhc2lub0RldGFpbHMxMiA9IF90aGlzMi5jYXNpbm9EZXRhaWxzKSA9PT0gbnVsbCB8fCBfdGhpczIkY2FzaW5vRGV0YWlsczEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMyJGNhc2lub0RldGFpbHMxMyA9IF90aGlzMiRjYXNpbm9EZXRhaWxzMTIucGF5bWVudCkgPT09IG51bGwgfHwgX3RoaXMyJGNhc2lub0RldGFpbHMxMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMyJGNhc2lub0RldGFpbHMxMy5sYXN0Rm91ckRpZ2l0cywKICAgICAgICAgICAgICAgICAgICAgIGV4cGlyYXRpb25Nb250aDogKF90aGlzMiRjYXNpbm9EZXRhaWxzMTQgPSBfdGhpczIuY2FzaW5vRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMyJGNhc2lub0RldGFpbHMxNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzMiRjYXNpbm9EZXRhaWxzMTUgPSBfdGhpczIkY2FzaW5vRGV0YWlsczE0LnBheW1lbnQpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzMTUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMiRjYXNpbm9EZXRhaWxzMTUuZXhwaXJhdGlvbk1vbnRoLAogICAgICAgICAgICAgICAgICAgICAgZXhwaXJhdGlvblllYXI6IChfdGhpczIkY2FzaW5vRGV0YWlsczE2ID0gX3RoaXMyLmNhc2lub0RldGFpbHMpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzMTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpczIkY2FzaW5vRGV0YWlsczE3ID0gX3RoaXMyJGNhc2lub0RldGFpbHMxNi5wYXltZW50KSA9PT0gbnVsbCB8fCBfdGhpczIkY2FzaW5vRGV0YWlsczE3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczIkY2FzaW5vRGV0YWlsczE3LmV4cGlyYXRpb25ZZWFyLAogICAgICAgICAgICAgICAgICAgICAgcG9zdGFsQ29kZTogKF90aGlzMiRjYXNpbm9EZXRhaWxzMTggPSBfdGhpczIuY2FzaW5vRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMyJGNhc2lub0RldGFpbHMxOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzMiRjYXNpbm9EZXRhaWxzMTkgPSBfdGhpczIkY2FzaW5vRGV0YWlsczE4LnBheW1lbnQpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzMTkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMiRjYXNpbm9EZXRhaWxzMTkucG9zdGFsQ29kZSwKICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Ub2tlbjogKF90aGlzMiRjYXNpbm9EZXRhaWxzMjAgPSBfdGhpczIuY2FzaW5vRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMyJGNhc2lub0RldGFpbHMyMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzMiRjYXNpbm9EZXRhaWxzMjEgPSBfdGhpczIkY2FzaW5vRGV0YWlsczIwLnBheW1lbnQpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzMjEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMiRjYXNpbm9EZXRhaWxzMjEuYXV0aG9yaXphdGlvblRva2VuLAogICAgICAgICAgICAgICAgICAgICAgZW1haWw6IChfdGhpczIkY2FzaW5vRGV0YWlsczIyID0gX3RoaXMyLmNhc2lub0RldGFpbHMpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzMjIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpczIkY2FzaW5vRGV0YWlsczIzID0gX3RoaXMyJGNhc2lub0RldGFpbHMyMi5wYXltZW50KSA9PT0gbnVsbCB8fCBfdGhpczIkY2FzaW5vRGV0YWlsczIzID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczIkY2FzaW5vRGV0YWlsczIzLmVtYWlsLAogICAgICAgICAgICAgICAgICAgICAgc2F2ZUNhcmQ6IChfdGhpczIkY2FzaW5vRGV0YWlsczI0ID0gX3RoaXMyLmNhc2lub0RldGFpbHMpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzMjQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpczIkY2FzaW5vRGV0YWlsczI1ID0gX3RoaXMyJGNhc2lub0RldGFpbHMyNC5wYXltZW50KSA9PT0gbnVsbCB8fCBfdGhpczIkY2FzaW5vRGV0YWlsczI1ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczIkY2FzaW5vRGV0YWlsczI1LnNhdmVDYXJkLAogICAgICAgICAgICAgICAgICAgICAgaXNEZWZhdWx0OiAoX3RoaXMyJGNhc2lub0RldGFpbHMyNiA9IF90aGlzMi5jYXNpbm9EZXRhaWxzKSA9PT0gbnVsbCB8fCBfdGhpczIkY2FzaW5vRGV0YWlsczI2ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMyJGNhc2lub0RldGFpbHMyNyA9IF90aGlzMiRjYXNpbm9EZXRhaWxzMjYucGF5bWVudCkgPT09IG51bGwgfHwgX3RoaXMyJGNhc2lub0RldGFpbHMyNyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMyJGNhc2lub0RldGFpbHMyNy5pc0RlZmF1bHQsCiAgICAgICAgICAgICAgICAgICAgICBwcmVBdXRob3JpemVkT25seTogKF90aGlzMiRjYXNpbm9EZXRhaWxzMjggPSBfdGhpczIuY2FzaW5vRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMyJGNhc2lub0RldGFpbHMyOCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzMiRjYXNpbm9EZXRhaWxzMjkgPSBfdGhpczIkY2FzaW5vRGV0YWlsczI4LnBheW1lbnQpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzMjkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMiRjYXNpbm9EZXRhaWxzMjkucHJlQXV0aG9yaXplZE9ubHkKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGJpZDogKF90aGlzMiRjYXNpbm9EZXRhaWxzMzAgPSBfdGhpczIuY2FzaW5vRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMyJGNhc2lub0RldGFpbHMzMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzMiRjYXNpbm9EZXRhaWxzMzEgPSBfdGhpczIkY2FzaW5vRGV0YWlsczMwLnVzZXJEZXRhaWwpID09PSBudWxsIHx8IF90aGlzMiRjYXNpbm9EZXRhaWxzMzEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMiRjYXNpbm9EZXRhaWxzMzEuYmlkCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIEFQSS5wcmVwYWlkQWRkQ2FyZChwb3N0RGF0YSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGFkZENhcmQgPSBfY29udGV4dDMuc2VudDsKCiAgICAgICAgICAgICAgICBpZiAoKGFkZENhcmQgPT09IG51bGwgfHwgYWRkQ2FyZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9hZGRDYXJkJGRhdGE0ID0gYWRkQ2FyZC5kYXRhKSA9PT0gbnVsbCB8fCBfYWRkQ2FyZCRkYXRhNCA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FkZENhcmQkZGF0YTQuc3RhdHVzKSA9PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnB1c2goewogICAgICAgICAgICAgICAgICAgIHF1ZXJ5OiB7CiAgICAgICAgICAgICAgICAgICAgICBiaWQ6IGFkZENhcmQgPT09IG51bGwgfHwgYWRkQ2FyZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9hZGRDYXJkJGRhdGE1ID0gYWRkQ2FyZC5kYXRhKSA9PT0gbnVsbCB8fCBfYWRkQ2FyZCRkYXRhNSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9hZGRDYXJkJGRhdGE1JGRhdGEgPSBfYWRkQ2FyZCRkYXRhNS5kYXRhKSA9PT0gbnVsbCB8fCBfYWRkQ2FyZCRkYXRhNSRkYXRhID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWRkQ2FyZCRkYXRhNSRkYXRhLmJpZAogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7CiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKChhZGRDYXJkID09PSBudWxsIHx8IGFkZENhcmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfYWRkQ2FyZCRkYXRhNiA9IGFkZENhcmQuZGF0YSkgPT09IG51bGwgfHwgX2FkZENhcmQkZGF0YTYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hZGRDYXJkJGRhdGE2LnN0YXR1cykgPT0gZmFsc2UpIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmFsZXJ0RGlhbG9nID0gdHJ1ZTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLmFsZXJ0TXNnID0gYWRkQ2FyZCA9PT0gbnVsbCB8fCBhZGRDYXJkID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX2FkZENhcmQkZGF0YTcgPSBhZGRDYXJkLmRhdGEpID09PSBudWxsIHx8IF9hZGRDYXJkJGRhdGE3ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYWRkQ2FyZCRkYXRhNy5tZXNzYWdlOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzMi5hZGRQYXltZW50TG9hZGluZyA9IGZhbHNlOyAvLyB0aGlzLiRyb3V0ZXIucmVwbGFjZSh7IHBhdGg6ICdvZEV4dGVuc2lvbicgfSkKCiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDEzOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLnQwID0gX2NvbnRleHQzWyJjYXRjaCJdKDEpOwogICAgICAgICAgICAgICAgX3RoaXMyLmFkZFBheW1lbnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDMudDApOwoKICAgICAgICAgICAgICBjYXNlIDE3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzEsIDEzXV0pOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBjcmVhdGVPRFNlc3Npb246IGZ1bmN0aW9uIGNyZWF0ZU9EU2Vzc2lvbigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICB2YXIgX3RoaXMzJG9kRGV0YWlscywgX3RoaXMzJG9kRGV0YWlscyR1c2VyLCBfdGhpczMkb2REZXRhaWxzMiwgX3RoaXMzJG9kRGV0YWlsczIkdXNlLCBfdGhpczMkb2REZXRhaWxzMywgX3RoaXMzJG9kRGV0YWlsczMkdXNlLCBfdGhpczMkb2REZXRhaWxzNCwgX3RoaXMzJG9kRGV0YWlsczQkdXNlLCBfdGhpczMkb2REZXRhaWxzNSwgX3RoaXMzJG9kRGV0YWlsczUkY2FyLCBfdGhpczMkem9uZURldGFpbHMsIF90aGlzMyRvZERldGFpbHM2LCBfdGhpczMkb2REZXRhaWxzNiRwYXksIF90aGlzMyRvZERldGFpbHM3LCBfdGhpczMkb2REZXRhaWxzNyRwYXksIF90aGlzMyRvZERldGFpbHM4LCBfdGhpczMkb2REZXRhaWxzOCRwYXksIF90aGlzMyRvZERldGFpbHM5LCBfdGhpczMkb2REZXRhaWxzOSRwYXksIF90aGlzMyRvZERldGFpbHMxMCwgX3RoaXMzJG9kRGV0YWlsczEwJHBhLCBfdGhpczMkb2REZXRhaWxzMTEsIF90aGlzMyRvZERldGFpbHMxMSRwYSwgX3RoaXMzJG9kRGV0YWlsczEyLCBfdGhpczMkb2REZXRhaWxzMTIkcGEsIF90aGlzMyRvZERldGFpbHMxMywgX3RoaXMzJG9kRGV0YWlsczEzJHBhLCBfdGhpczMkb2REZXRhaWxzMTQsIF90aGlzMyRvZERldGFpbHMxNCRwYSwgX29kQWRkQ2FyZCRkYXRhLCBfb2RBZGRDYXJkJGRhdGEzLCBleGl0RGF0ZVRpbWUsIGVudHJ5RGF0ZVRpbWUsIHBvc3REYXRhLCBvZEFkZENhcmQsIF9vZEFkZENhcmQkZGF0YTIsIF9vZEFkZENhcmQkZGF0YTIkZGF0YSwgX29kQWRkQ2FyZCRkYXRhNDsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU0JChfY29udGV4dDQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ0LnByZXYgPSBfY29udGV4dDQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF90aGlzMy5hZGRQYXltZW50TG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgICBleGl0RGF0ZVRpbWUgPSBmb3JtYXQobmV3IERhdGUoKF90aGlzMyRvZERldGFpbHMgPSBfdGhpczMub2REZXRhaWxzKSA9PT0gbnVsbCB8fCBfdGhpczMkb2REZXRhaWxzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMzJG9kRGV0YWlscyR1c2VyID0gX3RoaXMzJG9kRGV0YWlscy51c2VyRGV0YWlsKSA9PT0gbnVsbCB8fCBfdGhpczMkb2REZXRhaWxzJHVzZXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMyRvZERldGFpbHMkdXNlci5leGl0VGltZS5yZXBsYWNlQWxsKCItIiwgIi8iKSksICJ5eXl5LU1NLWRkIEhIOm1tOnNzIik7CiAgICAgICAgICAgICAgICBlbnRyeURhdGVUaW1lID0gZm9ybWF0KG5ldyBEYXRlKChfdGhpczMkb2REZXRhaWxzMiA9IF90aGlzMy5vZERldGFpbHMpID09PSBudWxsIHx8IF90aGlzMyRvZERldGFpbHMyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMzJG9kRGV0YWlsczIkdXNlID0gX3RoaXMzJG9kRGV0YWlsczIudXNlckRldGFpbCkgPT09IG51bGwgfHwgX3RoaXMzJG9kRGV0YWlsczIkdXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczMkb2REZXRhaWxzMiR1c2UuZW50cnlUaW1lLnJlcGxhY2VBbGwoIi0iLCAiLyIpKSwgInl5eXktTU0tZGQgSEg6bW06c3MiKTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdocmUnKTsKICAgICAgICAgICAgICAgIHBvc3REYXRhID0gewogICAgICAgICAgICAgICAgICB1c2VyRGV0YWlsOiB7CiAgICAgICAgICAgICAgICAgICAgcGxhdGU6IChfdGhpczMkb2REZXRhaWxzMyA9IF90aGlzMy5vZERldGFpbHMpID09PSBudWxsIHx8IF90aGlzMyRvZERldGFpbHMzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMzJG9kRGV0YWlsczMkdXNlID0gX3RoaXMzJG9kRGV0YWlsczMudXNlckRldGFpbCkgPT09IG51bGwgfHwgX3RoaXMzJG9kRGV0YWlsczMkdXNlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczMkb2REZXRhaWxzMyR1c2UucGxhdGUsCiAgICAgICAgICAgICAgICAgICAgY29udGFjdDogKF90aGlzMyRvZERldGFpbHM0ID0gX3RoaXMzLm9kRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMzJG9kRGV0YWlsczQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpczMkb2REZXRhaWxzNCR1c2UgPSBfdGhpczMkb2REZXRhaWxzNC51c2VyRGV0YWlsKSA9PT0gbnVsbCB8fCBfdGhpczMkb2REZXRhaWxzNCR1c2UgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMyRvZERldGFpbHM0JHVzZS5jb250YWN0LAogICAgICAgICAgICAgICAgICAgIGV4aXRUaW1lOiBleGl0RGF0ZVRpbWUsCiAgICAgICAgICAgICAgICAgICAgZXZlbnRUeXBlOiAiT0QiCiAgICAgICAgICAgICAgICAgIH0sCiAgICAgICAgICAgICAgICAgIGNhcmREZXRhaWw6IHsKICAgICAgICAgICAgICAgICAgICBjYXJkVHlwZTogKF90aGlzMyRvZERldGFpbHM1ID0gX3RoaXMzLm9kRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMzJG9kRGV0YWlsczUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpczMkb2REZXRhaWxzNSRjYXIgPSBfdGhpczMkb2REZXRhaWxzNS5jYXJkRGV0YWlsKSA9PT0gbnVsbCB8fCBfdGhpczMkb2REZXRhaWxzNSRjYXIgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMyRvZERldGFpbHM1JGNhci5jYXJkVHlwZSwKICAgICAgICAgICAgICAgICAgICB1c2VyRGV2aWNlOiAiMiIsCiAgICAgICAgICAgICAgICAgICAgb3JkZXJUeXBlOiAiMyIsCiAgICAgICAgICAgICAgICAgICAgZW50cnk6IFt7CiAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbkNvZGU6IChfdGhpczMkem9uZURldGFpbHMgPSBfdGhpczMuem9uZURldGFpbHMpID09PSBudWxsIHx8IF90aGlzMyR6b25lRGV0YWlscyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMzJHpvbmVEZXRhaWxzLnpjb2RlLAogICAgICAgICAgICAgICAgICAgICAgc3RhcnRBdDogZW50cnlEYXRlVGltZSwKICAgICAgICAgICAgICAgICAgICAgIHF1YW50aXR5OiAiMSIKICAgICAgICAgICAgICAgICAgICB9XSwKICAgICAgICAgICAgICAgICAgICBwYXltZW50OiB7CiAgICAgICAgICAgICAgICAgICAgICBsYXN0Rm91ckRpZ2l0czogKF90aGlzMyRvZERldGFpbHM2ID0gX3RoaXMzLm9kRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMzJG9kRGV0YWlsczYgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpczMkb2REZXRhaWxzNiRwYXkgPSBfdGhpczMkb2REZXRhaWxzNi5wYXltZW50KSA9PT0gbnVsbCB8fCBfdGhpczMkb2REZXRhaWxzNiRwYXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMyRvZERldGFpbHM2JHBheS5sYXN0Rm91ckRpZ2l0cywKICAgICAgICAgICAgICAgICAgICAgIGV4cGlyYXRpb25Nb250aDogKF90aGlzMyRvZERldGFpbHM3ID0gX3RoaXMzLm9kRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMzJG9kRGV0YWlsczcgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpczMkb2REZXRhaWxzNyRwYXkgPSBfdGhpczMkb2REZXRhaWxzNy5wYXltZW50KSA9PT0gbnVsbCB8fCBfdGhpczMkb2REZXRhaWxzNyRwYXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMyRvZERldGFpbHM3JHBheS5leHBpcmF0aW9uTW9udGgsCiAgICAgICAgICAgICAgICAgICAgICBleHBpcmF0aW9uWWVhcjogKF90aGlzMyRvZERldGFpbHM4ID0gX3RoaXMzLm9kRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMzJG9kRGV0YWlsczggPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfdGhpczMkb2REZXRhaWxzOCRwYXkgPSBfdGhpczMkb2REZXRhaWxzOC5wYXltZW50KSA9PT0gbnVsbCB8fCBfdGhpczMkb2REZXRhaWxzOCRwYXkgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMyRvZERldGFpbHM4JHBheS5leHBpcmF0aW9uWWVhciwKICAgICAgICAgICAgICAgICAgICAgIHBvc3RhbENvZGU6IChfdGhpczMkb2REZXRhaWxzOSA9IF90aGlzMy5vZERldGFpbHMpID09PSBudWxsIHx8IF90aGlzMyRvZERldGFpbHM5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMzJG9kRGV0YWlsczkkcGF5ID0gX3RoaXMzJG9kRGV0YWlsczkucGF5bWVudCkgPT09IG51bGwgfHwgX3RoaXMzJG9kRGV0YWlsczkkcGF5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfdGhpczMkb2REZXRhaWxzOSRwYXkucG9zdGFsQ29kZSwKICAgICAgICAgICAgICAgICAgICAgIGF1dGhvcml6YXRpb25Ub2tlbjogKF90aGlzMyRvZERldGFpbHMxMCA9IF90aGlzMy5vZERldGFpbHMpID09PSBudWxsIHx8IF90aGlzMyRvZERldGFpbHMxMCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzMyRvZERldGFpbHMxMCRwYSA9IF90aGlzMyRvZERldGFpbHMxMC5wYXltZW50KSA9PT0gbnVsbCB8fCBfdGhpczMkb2REZXRhaWxzMTAkcGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMyRvZERldGFpbHMxMCRwYS5hdXRob3JpemF0aW9uVG9rZW4sCiAgICAgICAgICAgICAgICAgICAgICBlbWFpbDogKF90aGlzMyRvZERldGFpbHMxMSA9IF90aGlzMy5vZERldGFpbHMpID09PSBudWxsIHx8IF90aGlzMyRvZERldGFpbHMxMSA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF90aGlzMyRvZERldGFpbHMxMSRwYSA9IF90aGlzMyRvZERldGFpbHMxMS5wYXltZW50KSA9PT0gbnVsbCB8fCBfdGhpczMkb2REZXRhaWxzMTEkcGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF90aGlzMyRvZERldGFpbHMxMSRwYS5lbWFpbCwKICAgICAgICAgICAgICAgICAgICAgIHNhdmVDYXJkOiAoX3RoaXMzJG9kRGV0YWlsczEyID0gX3RoaXMzLm9kRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMzJG9kRGV0YWlsczEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMzJG9kRGV0YWlsczEyJHBhID0gX3RoaXMzJG9kRGV0YWlsczEyLnBheW1lbnQpID09PSBudWxsIHx8IF90aGlzMyRvZERldGFpbHMxMiRwYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMzJG9kRGV0YWlsczEyJHBhLnNhdmVDYXJkLAogICAgICAgICAgICAgICAgICAgICAgaXNEZWZhdWx0OiAoX3RoaXMzJG9kRGV0YWlsczEzID0gX3RoaXMzLm9kRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMzJG9kRGV0YWlsczEzID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMzJG9kRGV0YWlsczEzJHBhID0gX3RoaXMzJG9kRGV0YWlsczEzLnBheW1lbnQpID09PSBudWxsIHx8IF90aGlzMyRvZERldGFpbHMxMyRwYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMzJG9kRGV0YWlsczEzJHBhLmlzRGVmYXVsdCwKICAgICAgICAgICAgICAgICAgICAgIHByZUF1dGhvcml6ZWRPbmx5OiAoX3RoaXMzJG9kRGV0YWlsczE0ID0gX3RoaXMzLm9kRGV0YWlscykgPT09IG51bGwgfHwgX3RoaXMzJG9kRGV0YWlsczE0ID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX3RoaXMzJG9kRGV0YWlsczE0JHBhID0gX3RoaXMzJG9kRGV0YWlsczE0LnBheW1lbnQpID09PSBudWxsIHx8IF90aGlzMyRvZERldGFpbHMxNCRwYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX3RoaXMzJG9kRGV0YWlsczE0JHBhLnByZUF1dGhvcml6ZWRPbmx5CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICBtaWQ6IF90aGlzMy56b25lRGV0YWlscy5taWQsCiAgICAgICAgICAgICAgICAgIHNvdXJjZTogIndlYiIKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDg7CiAgICAgICAgICAgICAgICByZXR1cm4gQVBJLnByZXBhaWRBZGRDYXJkKHBvc3REYXRhKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgb2RBZGRDYXJkID0gX2NvbnRleHQ0LnNlbnQ7CgogICAgICAgICAgICAgICAgaWYgKChvZEFkZENhcmQgPT09IG51bGwgfHwgb2RBZGRDYXJkID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29kQWRkQ2FyZCRkYXRhID0gb2RBZGRDYXJkLmRhdGEpID09PSBudWxsIHx8IF9vZEFkZENhcmQkZGF0YSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29kQWRkQ2FyZCRkYXRhLnN0YXR1cykgPT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICBfdGhpczMuJHJvdXRlci5yZXBsYWNlKHsKICAgICAgICAgICAgICAgICAgICBxdWVyeTogewogICAgICAgICAgICAgICAgICAgICAgYmlkOiBvZEFkZENhcmQgPT09IG51bGwgfHwgb2RBZGRDYXJkID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29kQWRkQ2FyZCRkYXRhMiA9IG9kQWRkQ2FyZC5kYXRhKSA9PT0gbnVsbCB8fCBfb2RBZGRDYXJkJGRhdGEyID09PSB2b2lkIDAgPyB2b2lkIDAgOiAoX29kQWRkQ2FyZCRkYXRhMiRkYXRhID0gX29kQWRkQ2FyZCRkYXRhMi5kYXRhKSA9PT0gbnVsbCB8fCBfb2RBZGRDYXJkJGRhdGEyJGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vZEFkZENhcmQkZGF0YTIkZGF0YS5iaWQKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmICgob2RBZGRDYXJkID09PSBudWxsIHx8IG9kQWRkQ2FyZCA9PT0gdm9pZCAwID8gdm9pZCAwIDogKF9vZEFkZENhcmQkZGF0YTMgPSBvZEFkZENhcmQuZGF0YSkgPT09IG51bGwgfHwgX29kQWRkQ2FyZCRkYXRhMyA9PT0gdm9pZCAwID8gdm9pZCAwIDogX29kQWRkQ2FyZCRkYXRhMy5zdGF0dXMpID09IGZhbHNlKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5hbGVydERpYWxvZyA9IHRydWU7CiAgICAgICAgICAgICAgICAgIF90aGlzMy5hbGVydE1zZyA9IG9kQWRkQ2FyZCA9PT0gbnVsbCB8fCBvZEFkZENhcmQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IChfb2RBZGRDYXJkJGRhdGE0ID0gb2RBZGRDYXJkLmRhdGEpID09PSBudWxsIHx8IF9vZEFkZENhcmQkZGF0YTQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9vZEFkZENhcmQkZGF0YTQubWVzc2FnZTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpczMuYWRkUGF5bWVudExvYWRpbmcgPSBmYWxzZTsgLy8gdGhpcy4kcm91dGVyLnJlcGxhY2UoeyBwYXRoOiAnb2RFeHRlbnNpb24nIH0pCgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgICAgX2NvbnRleHQ0LnByZXYgPSAxMzsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC50MCA9IF9jb250ZXh0NFsiY2F0Y2giXSgwKTsKICAgICAgICAgICAgICAgIF90aGlzMy5hZGRQYXltZW50TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgY29uc29sZS5sb2coX2NvbnRleHQ0LnQwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCwgbnVsbCwgW1swLCAxM11dKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdmFsaWRhdGVFeHBEYXRlOiBmdW5jdGlvbiB2YWxpZGF0ZUV4cERhdGUobW9udGgsIHllYXIpIHsKICAgICAgaWYgKG1vbnRoLmxlbmd0aCA+IDAgJiYgeWVhci5sZW5ndGggPiAwKSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5lcnJEaWFsb2cgPSB0cnVlOwogICAgICAgIHRoaXMuZXJyTXNnID0gIkV4cGlyYXRpb24gZGF0ZSBjYW5ub3QgYmUgZW1wdHkuIjsKICAgICAgICB0aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgdmFsaWRhdGVFbWFpbDogZnVuY3Rpb24gdmFsaWRhdGVFbWFpbChlbWFpbCkgewogICAgICB2YXIgcmUgPSAvXigoW148PigpW1xdXFwuLDs6XHNAIl0rKFwuW148PigpW1xdXFwuLDs6XHNAIl0rKSopfCgiLisiKSlAKChcW1swLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cLlswLTldezEsM31cXSl8KChbYS16QS1aXC0wLTldK1wuKStbYS16QS1aXXsyLH0pKSQvOwoKICAgICAgaWYgKHJlLnRlc3QoU3RyaW5nKGVtYWlsKS50b0xvd2VyQ2FzZSgpKSkgewogICAgICAgIHJldHVybiB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuZXJyRGlhbG9nID0gdHJ1ZTsKICAgICAgICB0aGlzLmVyck1zZyA9IGVtYWlsLmxlbmd0aCA+IDAgPyAiSW52YWxpZCBlbWFpbCIgOiAiRW1haWwgY2Fubm90IGJlIGVtcHR5IjsKICAgICAgICB0aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgdmFsaWRhdGVQb3N0YWxDb2RlOiBmdW5jdGlvbiB2YWxpZGF0ZVBvc3RhbENvZGUoY29kZSkgewogICAgICBpZiAoKHRoaXMucmVnZXhfVVMudGVzdChjb2RlKSB8fCB0aGlzLnJlZ2V4X0NBLnRlc3QoY29kZSkpICYmIFN0cmluZyhjb2RlKS5sZW5ndGggPD0gMTApIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmVyckRpYWxvZyA9IHRydWU7CiAgICAgICAgdGhpcy5lcnJNc2cgPSBjb2RlLmxlbmd0aCA+IDAgPyAiSW52YWxpZCBwb3N0YWwgY29kZSIgOiAiUG9zdGFsIGNvZGUgY2Fubm90IGJlIGVtcHR5IjsKICAgICAgICB0aGlzLmFkZFBheW1lbnRMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgdGhpcy5zaG93UGF5bWVudEJ0biA9IHRydWU7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9LAogICAgZ2V0Qm9va2luZ1N0YXRlOiBmdW5jdGlvbiBnZXRCb29raW5nU3RhdGUoYm9va2luZ0lkKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgdmFyIF9ib29raW5nRGV0YWlscyRkYXRhLCBfYm9va2luZ0RldGFpbHMkZGF0YTIsIF9ib29raW5nRGV0YWlscyRkYXRhMywgX2Jvb2tpbmdEZXRhaWxzJGRhdGE0LCBib29raW5nRGV0YWlsczsKCiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5wcmV2ID0gMDsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBBUEkuZ2V0Qm9va2luZ1N0YXRlKGJvb2tpbmdJZCk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIGJvb2tpbmdEZXRhaWxzID0gX2NvbnRleHQ1LnNlbnQ7CgogICAgICAgICAgICAgICAgLy8gYm9va2luZ0RldGFpbHMuZGF0YS5zZXJ2ZXJOYW1lID09ICdkZXYnID8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWV0YVtuYW1lPSJ0aGVtZS1jb2xvciJdJykuc2V0QXR0cmlidXRlKCJjb250ZW50IiwgIiM0M0EwNDciKSA6ICIiOwogICAgICAgICAgICAgICAgX3RoaXM0LiRzdG9yZS5jb21taXQoIlNFVF9CT09LSU5HX0RFVEFJTFMiLCAoX2Jvb2tpbmdEZXRhaWxzJGRhdGEgPSBib29raW5nRGV0YWlscy5kYXRhKSAhPT0gbnVsbCAmJiBfYm9va2luZ0RldGFpbHMkZGF0YSAhPT0gdm9pZCAwICYmIF9ib29raW5nRGV0YWlscyRkYXRhLmRhdGEgPyBib29raW5nRGV0YWlscy5kYXRhLmRhdGEgOiBudWxsKTsKCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LmFicnVwdCgicmV0dXJuIiwgKF9ib29raW5nRGV0YWlscyRkYXRhMiA9IGJvb2tpbmdEZXRhaWxzLmRhdGEpICE9PSBudWxsICYmIF9ib29raW5nRGV0YWlscyRkYXRhMiAhPT0gdm9pZCAwICYmIChfYm9va2luZ0RldGFpbHMkZGF0YTMgPSBfYm9va2luZ0RldGFpbHMkZGF0YTIuZGF0YSkgIT09IG51bGwgJiYgX2Jvb2tpbmdEZXRhaWxzJGRhdGEzICE9PSB2b2lkIDAgJiYgKF9ib29raW5nRGV0YWlscyRkYXRhNCA9IF9ib29raW5nRGV0YWlscyRkYXRhMy5ib29raW5nKSAhPT0gbnVsbCAmJiBfYm9va2luZ0RldGFpbHMkZGF0YTQgIT09IHZvaWQgMCAmJiBfYm9va2luZ0RldGFpbHMkZGF0YTQuc3RhdGUgPyBib29raW5nRGV0YWlscy5kYXRhLmRhdGEuYm9va2luZy5zdGF0ZSA6IG51bGwpOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dDUucHJldiA9IDg7CiAgICAgICAgICAgICAgICBfY29udGV4dDUudDAgPSBfY29udGV4dDVbImNhdGNoIl0oMCk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDUudDApOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1LCBudWxsLCBbWzAsIDhdXSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIG9wZW5JbmZvRGlhbG9nOiBmdW5jdGlvbiBvcGVuSW5mb0RpYWxvZygpIHsKICAgICAgdGhpcy5pbmZvRGlhbG9nID0gdHJ1ZTsKICAgICAgdGhpcy5pbmZvTXNnID0gIkJ5IGNoZWNraW5nIHRoaXMgYm94IHlvdSBhZ3JlZSB0byBsZXQgdXMgdG8gc2VjdXJlbHkgc2F2ZSB5b3VyIGNyZWRpdCBjYXJkIGRldGFpbHMgc28geW91IGRvbid0IGhhdmUgdG8gZW50ZXIgdGhlbSBldmVyeSB0aW1lIHlvdSB2aXNpdC4iOwogICAgfSwKICAgIG9wZW5BdXRvQ2hlY2tpbkluZm9EaWFsb2c6IGZ1bmN0aW9uIG9wZW5BdXRvQ2hlY2tpbkluZm9EaWFsb2coKSB7CiAgICAgIHRoaXMuaW5mb0RpYWxvZyA9IHRydWU7CiAgICAgIHRoaXMuaW5mb01zZyA9ICJCeSBjaGVja2luZyB0aGlzIGJveCB5b3UgYWdyZWUgdG8gbGV0IHVzIHNlY3VyZWx5IHNhdmUgeW91ciBsaWNlbnNlIHBsYXRlIG51bWJlciBhbmQgYXV0b21hdGljYWxseSBsZXQgeW91IGluIGFuZCBvdXQgZWFjaCB0aW1lIHlvdSB2aXNpdC4iOwogICAgfQogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuaHBzLmRpc3Bvc2UoKTsKICB9Cn07"},{"version":3,"sources":["AddPayment.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <v-container class=\"pa-0 fill-height\" fluid>\n        <v-card elevation=\"0\" class=\"pa-0 fill-height fit-width\">\n            <v-card-title class=\"justify-center add_payment_title\">\n                <v-spacer></v-spacer>\n                <span>Add Payment</span>\n                <v-spacer></v-spacer>\n                <v-icon @click=\"navigateToCheckIn\">mdi-close</v-icon>\n            </v-card-title>\n            <v-divider style=\"background-color: #a0c5d8\"></v-divider>\n            <v-card-text class=\"pa-2\">\n                <v-dialog v-model=\"addPaymentLoading\" persistent>\n                    <v-card class=\"pa-4\">\n                        <v-progress-circular indeterminate color=\"red\"></v-progress-circular>\n                        <span class=\"ml-4\" style=\"font-size: 14px\">Please wait...</span>\n                    </v-card>\n                </v-dialog>\n\n                <div class=\"form-wrapper\">\n                    <form id=\"iframes\" action method=\"GET\">\n                        <v-container class=\"pa-2\" fluid>\n                            <v-row no-gutters>\n                                <v-col cols=\"12\" class=\"pa-0\">\n                                    <label for=\"iframesCardNumber\">CREDIT CARD*</label>\n                                    <div id=\"iframesCardNumber\" style=\"width: 100%\"></div>\n                                </v-col>\n                                <v-col cols=\"6\" class=\"pa-0\">\n                                    <label for=\"iframesCardExpiration\">EXP DATE*</label>\n                                    <div id=\"iframesCardExpiration\"></div>\n                                </v-col>\n                                <v-divider vertical class=\"mx-2 my-4\"></v-divider>\n                                <v-col class=\"pa-0\">\n                                    <label for=\"iframesCardCvv\">CVV*</label>\n                                    <div id=\"iframesCardCvv\"></div>\n                                </v-col>\n                                <v-col cols=\"12\" class=\"pa-0 mb-2\">\n                                    <label class=\"hps_label\" for=\"postalCode\">POSTAL CODE*</label>\n                                    <div>\n                                        <input ref=\"postalCodeInput\" v-model=\"postalCode\" class=\"hps_input\" type=\"text\"\n                                            id=\"postal_code\" maxlength=\"10\" placeholder=\"Enter Postal Code\"\n                                            name=\"postalCode\" @focus=\"$vuetify.goTo($refs.postalCodeInput, options)\"\n                                            @mouseup=\"$vuetify.goTo($refs.postalCodeInput, options)\" />\n                                    </div>\n                                </v-col>\n                                <!-- <v-col cols=\"12\" v-show=\"!checkPostalCode\">\n                      <p\n                        style=\"\n                          color: #d3838d;\n                          font-weight: bolder;\n                          font-size: smaller;\n                        \"\n                      >\n                        *This payment method applies for [US | CANADIAN] locations\n                        only.\n                      </p>\n                    </v-col> -->\n                                <v-col cols=\"12\" class=\"pa-0\">\n                                    <label class=\"hps_label\" for=\"email\">EMAIL*</label>\n                                    <div>\n                                        <input ref=\"emailInput\" v-model=\"email\" class=\"hps_input\" id=\"email_address\"\n                                            placeholder=\"Enter Email\" name=\"email\" v-on:keyup.enter=\"onFormSubmit()\"\n                                            @focus=\"$vuetify.goTo($refs.emailInput, options)\"\n                                            @mouseup=\"$vuetify.goTo($refs.emailInput, options)\" />\n                                    </div>\n                                </v-col>\n                                <v-col cols=\"10\" class=\"pa-0\" v-show=\"bookingDetails.hasOwnProperty('booking') &&\n                                    bookingDetails.booking.hasOwnProperty('accountType') &&\n                                    (bookingDetails.booking.accountType == '2' ||\n                                        bookingDetails.booking.accountType == '1' ||\n                                        bookingDetails.booking.accountType == '0') &&\n                                    bookingDetails.booking.guestSaveCard == '1'\n                                    \">\n                                    <v-checkbox v-model=\"defaultCreditCardCB\"\n                                        label=\"Save my card for faster checkout next time\" hide-details=\"auto\"></v-checkbox>\n                                </v-col>\n                                <v-col cols=\"2\" class=\"pa-0 text-left pl-10 align-self-end\" v-show=\"bookingDetails.hasOwnProperty('booking') &&\n                                    bookingDetails.booking.hasOwnProperty('accountType') &&\n                                    (bookingDetails.booking.accountType == '2' ||\n                                        bookingDetails.booking.accountType == '1' ||\n                                        bookingDetails.booking.accountType == '0') &&\n                                    bookingDetails.booking.guestSaveCard == '1'\n                                    \">\n                                    <v-icon @click=\"openInfoDialog()\" color=\"primary\">mdi-information</v-icon>\n                                </v-col>\n                                <v-col cols=\"10\" class=\"pa-0\" v-show=\"defaultCreditCardCB == true &&\n                                    bookingDetails.booking.isLPRAutocheckInEnabled == '1'\n                                    \">\n                                    <v-checkbox v-model=\"autoCheckinCB\" hide-details=\"auto\"\n                                        label=\"Save my license plate and automatically let me in next time\"></v-checkbox>\n                                </v-col>\n                                <v-col cols=\"2\" class=\"pa-0 text-left align-self-center pl-10\" v-show=\"defaultCreditCardCB == true &&\n                                    bookingDetails.booking.isLPRAutocheckInEnabled == '1'\n                                    \">\n                                    <v-icon @click=\"openAutoCheckinInfoDialog()\" color=\"primary\">mdi-information</v-icon>\n                                </v-col>\n                                <p v-show=\"defaultCreditCardCB == true &&\n                                    bookingDetails.booking.isLPRAutocheckInEnabled == '1'\n                                    \" class=\"px-8 font-weight-bold text-decoration-underline\" style=\"font-size: 11px;\">\n                                    (Do not check this\n                                    box for a car you don't own, like a rental)\n                                </p>\n\n                                <v-col cols=\"12\" class=\"mt-10 text-center\" v-show=\"showPaymentBtn\">\n                                    <v-btn ref=\"submitBtn\" rounded block elevation=\"20\" class=\"white--text exit_dialog_btn\"\n                                        @click=\"onFormSubmit()\">Submit</v-btn>\n                                </v-col>\n                                <!-- <v-col cols=\"12\" class=\"mt-10 text-center\">\n                      <div id=\"iframesSubmit\" v-show=\"showPaymentBtn\"></div>\n                    </v-col>-->\n                            </v-row>\n                        </v-container>\n                    </form>\n                </div>\n            </v-card-text>\n        </v-card>\n        <v-dialog v-model=\"errDialog\" max-width=\"fit-content\">\n            <v-card class=\"pa-0\">\n                <v-card-title class=\"justify-center\">\n                    <v-icon x-large color=\"red accent-2\">mdi-alert-outline</v-icon>\n                </v-card-title>\n                <v-card-text class=\"text-center mt-5\">\n                    <span style=\"font-size: 20px\">\n                        {{ errMsg }}\n                    </span>\n                </v-card-text>\n                <v-card-actions class=\"text-center pb-6\">\n                    <v-container pa-0 fluid>\n                        <v-row no-gutters>\n                            <v-col cols=\"12\">\n                                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                                    @click=\"errDialog = false\">OK</v-btn>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n        <v-dialog v-model=\"infoDialog\" max-width=\"fit-content\">\n            <v-card class=\"pa-0\">\n                <v-card-title class=\"justify-center\">\n                    <v-icon x-large color=\"red accent-2\">mdi-information</v-icon>\n                </v-card-title>\n                <v-card-text class=\"text-center mt-5\">\n                    <span style=\"font-size: 20px\">\n                        {{ infoMsg }}\n                    </span>\n                </v-card-text>\n                <v-card-actions class=\"text-center pb-6\">\n                    <v-container pa-0 fluid>\n                        <v-row no-gutters>\n                            <v-col cols=\"12\">\n                                <v-btn rounded block elevation=\"0\" class=\"white--text exit_dialog_btn\"\n                                    @click=\"infoDialog = false\">OK</v-btn>\n                            </v-col>\n                        </v-row>\n                    </v-container>\n                </v-card-actions>\n            </v-card>\n        </v-dialog>\n    </v-container>\n</template>\n  \n<script>\nimport Heartland from \"@/plugins/securesubmit\";\n// import axios from \"axios\";\nimport { format } from \"date-fns\";\n\nimport API from '@/api';\n// import loggerHelper from \"../loggerHelper\";\nimport { mapGetters } from \"vuex\";\nexport default {\n    name: \"AddPayment\",\n    data: () => ({\n        regex_US: /^(?=.{2,10}$)([0-9]{1,9}([-s]{1}[0-9]+)?)$/,\n        regex_CA: /.*[a-zA-Z].*$/,\n        defaultCreditCardCB: false,\n        autoCheckinCB: false,\n        hps: \"\",\n        postalCode: \"\",\n        email: \"\",\n        addPaymentLoading: false,\n        showPaymentBtn: true,\n        duration: 300,\n        offset: 100,\n        easing: \"easeInOutCubic\",\n        errDialog: false,\n        errMsg: \"\",\n        infoDialog: false,\n        infoMsg: \"\",\n    }),\n    computed: {\n        ...mapGetters({\n            bookingId: \"getterBookingId\",\n            casinoDetails: 'getterCasinoDetails',\n            bookingDetails: \"getterBookingDetails\",\n            zoneDetails: \"getterZoneDetails\",\n            templateFlags: 'getterTemplateFlags',\n            odDetails: \"getterOdDetails\",\n        }),\n        options() {\n            return {\n                duration: this.duration,\n                offset: this.offset,\n                easing: this.easing,\n            };\n        },\n        checkPostalCode() {\n            return (\n                /(^\\d{5}$)|(^\\d{5}-\\d{4}$)/.test(this.postalCode) ||\n                /^[A-Za-z]\\d[A-Za-z][ -]?\\d[A-Za-z]\\d$/.test(this.postalCode)\n            );\n        },\n    },\n    created() { },\n    beforeRouteEnter(to, from, next) {\n        next(async (vm) => {\n            vm.$vuetify.goTo(0);\n        });\n    },\n    mounted: function () {\n        this.initHPSform();\n    },\n    methods: {\n        onFormSubmit() {\n            this.addPaymentLoading = true;\n            this.showPaymentBtn = false;\n            //check US Postal code Regex\n            const params = new URLSearchParams(window.location.search);\n            if ((params.get('sessiontype') == 'cico' && this.zoneDetails?.isPQREndReservation == '1') || params.get('sessiontype') == 'ondemand') {\n                if (this.casinoDetails?.userDetails?.estimate) {\n                    this.postToLoggerAPI({\n                        plate: this.casinoDetails?.userDetail?.plate,\n                        contact: this.casinoDetails?.userDetail?.contact,\n                        statusText: \"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode + \". Last 4 characters of MID - \" + this.zoneDetails.MIDs.HPS_PUBLIC_KEY_US.slice(-4),\n                    });\n                }\n                else {\n                    this.postToLoggerAPI({\n                        plate: this.odDetails?.userDetail?.plate,\n                        contact: this.odDetails?.userDetail?.contact,\n                        statusText: \"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode + \". Last 4 characters of MID - \" + this.zoneDetails.MIDs.HPS_PUBLIC_KEY_US.slice(-4),\n                    });\n                }\n                if (this.regex_US.test(this.postalCode)) {\n                    this.hps.options.publicKey = this.zoneDetails?.MIDs\n                        ?.HPS_PUBLIC_KEY_US\n                        ? this.zoneDetails.MIDs.HPS_PUBLIC_KEY_US\n                        : \"\";\n                    if (this.casinoDetails?.userDetails?.estimate) {\n                        this.postToLoggerAPI({\n                            plate: this.casinoDetails?.userDetail?.plate,\n                            contact: this.casinoDetails?.userDetail?.contact,\n                            statusText: \"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode + \". Last 4 characters of MID - \" + this.zoneDetails.MIDs.HPS_PUBLIC_KEY_US.slice(-4),\n                        });\n                    }\n                    else {\n                        this.postToLoggerAPI({\n                            plate: this.odDetails?.userDetail?.plate,\n                            contact: this.odDetails?.userDetail?.contact,\n                            statusText: \"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode + \". Last 4 characters of MID - \" + this.zoneDetails.MIDs.HPS_PUBLIC_KEY_US.slice(-4),\n                        });\n                    }\n                    console.log(\"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode)\n                    this.hps.tokenize();\n                }\n                //check CA Postal code Regex\n                else if (this.regex_CA.test(this.postalCode)) {\n                    this.hps.options.publicKey = this.zoneDetails?.MIDs\n                        ?.HPS_PUBLIC_KEY_CA\n                        ? this.zoneDetails.MIDs.HPS_PUBLIC_KEY_CA\n                        : \"\";\n                    this.postToLoggerAPI({\n                        plate: this.odDetails?.userDetail?.plate,\n                        contact: this.odDetails?.userDetail?.contact,\n                        statusText: \"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode + \". Last 4 characters of MID - \" + this.zoneDetails.MIDs.HPS_PUBLIC_KEY_CA.slice(-4),\n                    });\n                    console.log(\"Parker clicked on ADD PAYMENT btn with postal code- \" + this.postalCode)\n                    this.hps.tokenize();\n                } else {\n                    this.addPaymentLoading = false;\n                    this.showPaymentBtn = true;\n                    this.errDialog = true;\n                    this.errMsg =\n                        this.postalCode.length > 0\n                            ? \"Invalid postal code\"\n                            : \"Postal code cannot be empty\";\n                }\n            }\n            else {\n                if (this.regex_US.test(this.postalCode)) {\n                    this.hps.options.publicKey = this.bookingDetails?.booking?.MIDs\n                        ?.HPS_PUBLIC_KEY_US\n                        ? this.bookingDetails.booking.MIDs.HPS_PUBLIC_KEY_US\n                        : \"\";\n                    this.postToLoggerAPI({\n                        phone: this.bookingDetails.user.contact,\n                        refId: this.bookingId,\n                        statusText:\n                            \"Parker clicked on ADD PAYMENT btn with postal code- \" +\n                            this.postalCode + \". Last 4 characters of MID - \" + this.bookingDetails.booking.MIDs.HPS_PUBLIC_KEY_US.slice(-4),\n                    });\n                    this.hps.tokenize();\n                }\n                //check CA Postal code Regex\n                else if (this.regex_CA.test(this.postalCode)) {\n                    this.hps.options.publicKey = this.bookingDetails?.booking?.MIDs\n                        ?.HPS_PUBLIC_KEY_CA\n                        ? this.bookingDetails.booking.MIDs.HPS_PUBLIC_KEY_CA\n                        : \"\";\n                    this.postToLoggerAPI({\n                        phone: this.bookingDetails.user.contact,\n                        refId: this.bookingId,\n                        statusText:\n                            \"Parker clicked on ADD PAYMENT btn with postal code- \" +\n                            this.postalCode + \". Last 4 characters of MID - \" + this.bookingDetails.booking.MIDs.HPS_PUBLIC_KEY_CA.slice(-4),\n                    });\n                    this.hps.tokenize();\n                } else {\n                    this.addPaymentLoading = false;\n                    this.showPaymentBtn = true;\n                    this.errDialog = true;\n                    this.errMsg =\n                        this.postalCode.length > 0\n                            ? \"Invalid postal code\"\n                            : \"Postal code cannot be empty\";\n                    this.postToLoggerAPI({\n                        phone: this.bookingDetails.user.contact,\n                        refId: this.bookingId,\n                        error: this.errMsg,\n                        statusText:\n                            \"Parker clicked on ADD PAYMENT btn with invalid postal code -\" +\n                            this.postalCode,\n                    });\n                }\n            }\n        },\n        initHPSform() {\n            var self = this;\n            this.hps = new Heartland.HPS({\n                type: \"iframe\",\n                fields: {\n                    cardNumber: {\n                        target: \"iframesCardNumber\",\n                        placeholder: \"Enter Card Number\",\n                    },\n                    cardExpiration: {\n                        target: \"iframesCardExpiration\",\n                        placeholder: \"MM / YYYY\",\n                    },\n                    cardCvv: {\n                        target: \"iframesCardCvv\",\n                        placeholder: \"ex - 123\",\n                    },\n                },\n                // Collection of CSS to inject into the iframes.\n                // These properties can match the site's styles\n                // to create a seamless experience.\n                style: {\n                    input: {\n                        background: \"#fff\",\n                        border: \"1px solid\",\n                        \"border-color\": \"#bbb3b9 #c7c1c6 #c7c1c6\",\n                        \"box-sizing\": \"border-box\",\n                        \"font-family\": \"serif\",\n                        \"font-size\": \"16px\",\n                        \"line-height\": \"1\",\n                        margin: \"0 .5em 0 0\",\n                        \"max-width\": \"100%\",\n                        outline: \"0\",\n                        padding: \"0.5278em\",\n                        \"vertical-align\": \"baseline\",\n                        height: \"50px\",\n                        width: \"100% !important\",\n                    },\n                    \"#heartland-field\": {\n                        \"font-family\": \"sans-serif\",\n                        \"box-sizing\": \"border-box\",\n                        display: \"block\",\n                        height: \"50px\",\n                        padding: \"6px 6px\",\n                        \"font-size\": \"14px\",\n                        \"line-height\": \"1.42857143\",\n                        color: \"#555\",\n                        \"background-color\": \"#fff\",\n                        \"border-bottom\": \"1px solid #ccc\",\n                        \"border-top\": \"0px\",\n                        \"border-left\": \"0px\",\n                        \"border-right\": \"0px\",\n                        \"border-radius\": \"0px\",\n                        // \"-webkit-box-shadow\": \"inset 0 1px 1px rgba(0,0,0,.075)\",\n                        // \"box-shadow\": \"inset 0 1px 1px rgba(0,0,0,.075)\",\n                        \"-webkit-transition\":\n                            \"border-color ease-in-out .15s,-webkit-box-shadow ease-in-out .15s\",\n                        \"-o-transition\":\n                            \"border-color ease-in-out .15s,box-shadow ease-in-out .15s\",\n                        transition:\n                            \"border-color ease-in-out .15s,box-shadow ease-in-out .15s\",\n                        width: \"100%\",\n                    },\n                    \"#heartland-field[name=submit]\": {\n                        \"background-color\": \"#F1555C\",\n                        \"font-family\": \"sans-serif\",\n                        \"text-transform\": \"uppercase\",\n                        height: \"50px\",\n                        color: \"#ffffff\",\n                        border: \"0px solid transparent\",\n                        \"border-radius\": \"2px\",\n                        \"font-weight\": \"bolder\",\n                        \"font-size\": \"medium\",\n                    },\n                    \"#heartland-field[name=submit]:focus\": {\n                        \"background-color\": \"#F1555C\",\n                        \"font-family\": \"sans-serif\",\n                        \"text-transform\": \"uppercase\",\n                        height: \"50px\",\n                        color: \"#ffffff\",\n                        border: \"0px solid transparent !important\",\n                        \"border-radius\": \"2px\",\n                        \"font-weight\": \"bolder\",\n                        \"font-size\": \"medium\",\n                    },\n                    \"#heartland-field[name=submit]:hover\": {\n                        \"background-color\": \"#F1555C\",\n                        \"font-family\": \"sans-serif\",\n                        \"text-transform\": \"uppercase\",\n                        height: \"50px\",\n                        color: \"#ffffff\",\n                        border: \"0px solid transparent !important\",\n                        \"border-radius\": \"2px\",\n                        \"font-weight\": \"bolder\",\n                        \"font-size\": \"medium\",\n                    },\n                    \"#heartland-field-wrapper #heartland-field:focus\": {\n                        \"border-left\": \"0px\",\n                        \"border-top\": \"0px\",\n                        \"border-right\": \"0px\",\n                        \"border-bottom\": \"1px solid #3989e3\",\n                        outline: \"none\",\n                        \"box-shadow\": \"none\",\n                        height: \"50px\",\n                    },\n                    \"heartland-field-wrapper #heartland-field\": {\n                        height: \"50px\",\n                    },\n                    \"input[type=submit]\": {\n                        \"box-sizing\": \"border-box\",\n                        display: \"inline-block\",\n                        padding: \"6px 12px\",\n                        \"margin-bottom\": \"0\",\n                        \"font-size\": \"14px\",\n                        \"font-weight\": \"400\",\n                        \"line-height\": \"1.42857143\",\n                        \"text-align\": \"center\",\n                        \"white-space\": \"nowrap\",\n                        \"vertical-align\": \"middle\",\n                        \"-ms-touch-action\": \"manipulation\",\n                        \"touch-action\": \"manipulation\",\n                        cursor: \"pointer\",\n                        \"-webkit-user-select\": \"none\",\n                        \"-moz-user-select\": \"none\",\n                        \"-ms-user-select\": \"none\",\n                        \"user-select\": \"none\",\n                        \"background-image\": \"none\",\n                        border: \"1px solid transparent\",\n                        \"border-radius\": \"4px\",\n                        color: \"#fff\",\n                        \"background-color\": \"#337ab7\",\n                        \"border-color\": \"#2e6da4\",\n                    },\n                    \"#heartland-field[placeholder]\": {\n                        \"letter-spacing\": \"1px\",\n                    },\n                    \"::placeholder\": {\n                        color: \"#8CA2AD\",\n                    },\n                    \"#heartland-field[name=cardCvv]\": {\n                        background:\n                            \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/cvv1.png?raw=true) no-repeat right\",\n                        \"background-size\": \"63px 40px\",\n                    },\n                    \"input#heartland-field[name=cardNumber]\": {\n                        background:\n                            \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-inputcard-blank@2x.png?raw=true) no-repeat right\",\n                        \"background-size\": \"55px 35px\",\n                    },\n                    \"#heartland-field.invalid.card-type-visa\": {\n                        background:\n                            \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-visa@2x.png?raw=true) no-repeat right\",\n                        \"background-size\": \"83px 88px\",\n                        \"background-position-y\": \"-44px\",\n                    },\n                    \"#heartland-field.valid.card-type-visa\": {\n                        background:\n                            \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-visa@2x.png?raw=true) no-repeat right top\",\n                        \"background-size\": \"82px 86px\",\n                    },\n                    \"#heartland-field.invalid.card-type-discover\": {\n                        background:\n                            \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-discover@2x.png?raw=true) no-repeat right\",\n                        \"background-size\": \"85px 90px\",\n                        \"background-position-y\": \"-44px\",\n                    },\n                    \"#heartland-field.valid.card-type-discover\": {\n                        background:\n                            \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-discover@2x.png?raw=true) no-repeat right\",\n                        \"background-size\": \"85px 90px\",\n                        \"background-position-y\": \"1px\",\n                    },\n                    \"#heartland-field.invalid.card-type-amex\": {\n                        background:\n                            \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-savedcards-amex@2x.png?raw=true) no-repeat right\",\n                        \"background-size\": \"50px 90px\",\n                        \"background-position-y\": \"-44px\",\n                    },\n                    \"#heartland-field.valid.card-type-amex\": {\n                        background:\n                            \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-savedcards-amex@2x.png?raw=true) no-repeat right top\",\n                        \"background-size\": \"50px 90px\",\n                    },\n                    \"#heartland-field.invalid.card-type-mastercard\": {\n                        background:\n                            \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-mastercard.png?raw=true) no-repeat right\",\n                        \"background-size\": \"62px 105px\",\n                        \"background-position-y\": \"-52px\",\n                    },\n                    \"#heartland-field.valid.card-type-mastercard\": {\n                        background:\n                            \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-mastercard.png?raw=true) no-repeat right\",\n                        \"background-size\": \"62px 105px\",\n                        \"background-position-y\": \"-1px\",\n                    },\n                    \"#heartland-field.invalid.card-type-jcb\": {\n                        background:\n                            \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-jcb@2x.png?raw=true) no-repeat right\",\n                        \"background-size\": \"55px 94px\",\n                        \"background-position-y\": \"-44px\",\n                    },\n                    \"#heartland-field.valid.card-type-jcb\": {\n                        background:\n                            \"transparent url(https://github.com/hps/heartland-php/blob/master/examples/end-to-end/assets/images/ss-saved-jcb@2x.png?raw=true) no-repeat right top\",\n                        \"background-size\": \"55px 94px\",\n                        \"background-position-y\": \"2px\",\n                    },\n                    \"input#heartland-field[name=cardNumber]::-ms-clear\": {\n                        display: \"none\",\n                    },\n                },\n                // Callback when a token is received from the service\n                onTokenSuccess: function (resp) {\n                    // self.postToLoggerAPI({\n                    //     phone: self.bookingDetails.user.contact,\n                    //     refId: self.bookingId,\n                    //     statusText: \"HPS token generated successfully\",\n                    // });\n                    self.onSubmit(resp);\n                },\n                // Callback when an error is received from the service\n                onTokenError: function (resp) {\n                    self.addPaymentLoading = false;\n                    self.showPaymentBtn = true;\n                    self.errDialog = true;\n                    self.errMsg = resp.error.message;\n                    self.postToLoggerAPI({\n                        phone: self.bookingDetails.user.contact,\n                        refId: self.bookingId,\n                        error: resp.error.message,\n                        statusText: \"Error in generating HPS token.\",\n                    });\n                    // alert(\"There was an error: \" + resp.error.message);\n                },\n                // Callback when an event is fired within an iFrame\n                onEvent: function () { },\n            });\n        },\n        navigateToCheckIn() {\n            if (this.bookingDetails.booking.type === \"14\") {\n                this.$router.push({ name: 'promisetopay', query: { bid: this.bookingId, state: 'checkout' } });\n                return;\n            }\n            this.$router.push({ name: 'checkedin', query: { bid: this.bookingId, sessiontype: 'promisetopay' } });\n        },\n        async onSubmit(resp) {\n            this.addPaymentLoading = true;\n            this.showPaymentBtn = false;\n            let email_value = this.email.trim(); // document.getElementById(\"email_address\").value;\n            let postalCode_value = this.postalCode.trim(); //document.getElementById(\"postal_code\").value;\n            if (\n                this.validateEmail(email_value) &&\n                this.validatePostalCode(postalCode_value) &&\n                this.validateExpDate(resp.exp_month, resp.exp_year)\n            ) {\n                if (resp?.token_value) {\n                    let cardData = {};\n                    if (this.zoneDetails?.isPQREndReservation != '1') {\n                        cardData = {\n                            cardType: resp.card_type,\n                            userDevice: \"2\",\n                            orderType: \"3\",\n                            entry: [\n                                {\n                                    locationCode: this.bookingDetails.zone.locationCode,\n                                    startAt: this.bookingDetails.booking.startAt,\n                                    quantity: \"1\",\n                                },\n                            ],\n                            payment: {\n                                lastFourDigits: resp.last_four,\n                                expirationMonth: resp.exp_month,\n                                expirationYear: resp.exp_year,\n                                postalCode: postalCode_value,\n                                authorizationToken: resp.token_value,\n                                email: email_value,\n                                saveCard: this.defaultCreditCardCB.toString(),\n                                isDefault: this.defaultCreditCardCB,\n                                preAuthorizedOnly: this.autoCheckinCB,\n                            },\n                        }\n                    }\n                    else {\n                        this.addPaymentLoading = true;\n                        cardData = {\n                            cardType: resp.card_type,\n                            userDevice: \"2\",\n                            orderType: \"3\",\n                            entry: [\n                                {\n                                    locationCode: this.zoneDetails.zcode,\n                                    startAt: '',\n                                    quantity: \"1\",\n                                },\n                            ],\n                        };\n                    }\n                    const params = new URLSearchParams(window.location.search);\n                    if (params.get('sessiontype') == 'ondemand') {\n                        let paymentData = {\n                            lastFourDigits: resp.last_four,\n                            expirationMonth: resp.exp_month,\n                            expirationYear: resp.exp_year,\n                            postalCode: postalCode_value,\n                            authorizationToken: resp.token_value,\n                            email: email_value,\n                            saveCard: this.defaultCreditCardCB.toString(),\n                            isDefault: this.defaultCreditCardCB,\n                            preAuthorizedOnly: this.autoCheckinCB\n                        };\n                        this.$store.commit('SET_ONDEMAND_CARDDETAILS', cardData)\n                        this.$store.commit('SET_ONDEMAND_PAYMENT', paymentData);\n                        if (this.templateFlags === 'ondemand-flag') {\n                            localStorage.setItem(\"odCCDetails\", JSON.stringify({ email: email_value, postalCode: postalCode_value }));\n                        }\n                        this.createODSession();\n                    }\n                    else if (params.get('sessiontype') == 'cico') {\n                        if (this.zoneDetails?.isPQREndReservation == '1') {\n                            let paymentData = {\n                                lastFourDigits: resp.last_four,\n                                expirationMonth: resp.exp_month,\n                                expirationYear: resp.exp_year,\n                                postalCode: postalCode_value,\n                                authorizationToken: resp.token_value,\n                                email: email_value,\n                                saveCard: this.defaultCreditCardCB.toString(),\n                                isDefault: this.defaultCreditCardCB,\n                                preAuthorizedOnly: this.autoCheckinCB\n                            };\n                            this.$store.commit('SET_CASINO_CARDDETAILS', cardData)\n                            this.$store.commit('SET_CASINO_PAYMENT', paymentData)\n                            this.casinoSession()\n                        }\n                        else {\n                            try {\n                                var addCard = await API.addCard(cardData, this.bookingId);\n                                if (\n                                    addCard?.data?.status &&\n                                    this.bookingDetails.booking.type === \"14\"\n                                ) {\n                                    this.$router.push({ name: 'checkout', query: { bid: this.bookingId, state: 'checkout' } });\n                                    return;\n                                }\n                                if (addCard?.data?.status) {\n                                    await this.getBookingState(this.bookingId);\n                                    this.addPaymentLoading = false;\n                                    this.$router.push({ name: 'checkedin', query: { bid: this.bookingId, state: 'checkedin' } });\n                                    this.showPaymentBtn = true;\n                                    this.postToLoggerAPI({\n                                        phone: this.bookingDetails.user.contact,\n                                        refId: this.bookingId,\n                                        icon: \"credit_score\",\n                                        statusText: \"Card added successfully.\",\n                                    });\n                                } else {\n                                    this.addPaymentLoading = false;\n                                    this.showPaymentBtn = true;\n                                    this.errDialog = true;\n                                    this.errMsg = addCard?.data?.message\n                                        ? addCard.data.message\n                                        : \"Please try again\";\n                                    this.postToLoggerAPI({\n                                        phone: this.bookingDetails.user.contact,\n                                        refId: this.bookingId,\n                                        error: this.errMsg,\n                                        icon: \"credit_score\",\n                                        statusText: \"Error in adding the credit card.\",\n                                    });\n                                }\n                            } catch (error) {\n                                this.errDialog = true;\n                                this.errMsg = \"Please try again.\";\n                                this.postToLoggerAPI({\n                                    phone: this.bookingDetails.user.contact,\n                                    refId: this.bookingId,\n                                    error: error,\n                                    icon: \"credit_score\",\n                                    statusText: \"Error in adding the credit card.\",\n                                });\n                                this.addPaymentLoading = false;\n                                this.showPaymentBtn = true;\n                            }\n                        }\n                    }\n                }\n            }\n        },\n        //Atlantic flow create session\n\n        async casinoSession() {\n            console.log(this.casinoDetails?.userDetail.exitTime)\n            try {\n                this.addPaymentLoading = true;\n                let exitDateTime = format(\n                    new Date(\n                        this.casinoDetails?.userDetail?.exitTime.replaceAll(\"-\", \"/\")\n                    ),\n                    \"yyyy-MM-dd HH:mm:ss\"\n                );\n                let entryDateTime = format(\n                    new Date(\n                        this.casinoDetails?.userDetail?.entryTime.replaceAll(\"-\", \"/\")\n                    ),\n                    \"yyyy-MM-dd HH:mm:ss\"\n                );\n                let postData = {\n                    mid: this.zoneDetails.mid,\n                    userDetail: {\n                        plate: this.casinoDetails?.userDetail?.plate,\n                        contact: this.casinoDetails?.userDetail?.contact,\n                        exitTime: exitDateTime,\n                        eventType: \"PaidHostPass\",\n                    },\n\n                    cardDetail: {\n                        cardType: this.casinoDetails?.cardDetail?.cardType,\n                        userDevice: \"2\",\n                        orderType: \"3\",\n                        entry: [\n                            {\n                                locationCode: this.zoneDetails?.zcode,\n                                startAt: entryDateTime,\n                                quantity: \"1\",\n                            },\n                        ],\n                        payment: {\n                            lastFourDigits: this.casinoDetails?.payment?.lastFourDigits,\n                            expirationMonth: this.casinoDetails?.payment?.expirationMonth,\n                            expirationYear: this.casinoDetails?.payment?.expirationYear,\n                            postalCode: this.casinoDetails?.payment?.postalCode,\n                            authorizationToken:\n                                this.casinoDetails?.payment?.authorizationToken,\n                            email: this.casinoDetails?.payment?.email,\n                            saveCard: this.casinoDetails?.payment?.saveCard,\n                            isDefault: this.casinoDetails?.payment?.isDefault,\n                            preAuthorizedOnly: this.casinoDetails?.payment?.preAuthorizedOnly,\n                        },\n\n                    },\n                    bid: this.casinoDetails?.userDetail?.bid,\n                };\n                var addCard = await API.prepaidAddCard(postData)\n                if (addCard?.data?.status == true) {\n                    this.$router.push({ query: { bid: addCard?.data?.data?.bid } });\n                    window.location.reload();\n\n                } else if (addCard?.data?.status == false) {\n                    this.alertDialog = true;\n                    this.alertMsg = addCard?.data?.message;\n                }\n                this.addPaymentLoading = false;\n                // this.$router.replace({ path: 'odExtension' })\n            } catch (error) {\n                this.addPaymentLoading = false;\n                console.log(error);\n            }\n        },\n        async createODSession() {\n            try {\n                this.addPaymentLoading = true;\n                let exitDateTime = format(\n                    new Date(this.odDetails?.userDetail?.exitTime.replaceAll(\"-\", \"/\")),\n                    \"yyyy-MM-dd HH:mm:ss\"\n                );\n                let entryDateTime = format(\n                    new Date(this.odDetails?.userDetail?.entryTime.replaceAll(\"-\", \"/\")),\n                    \"yyyy-MM-dd HH:mm:ss\"\n                );\n                console.log('hre')\n                let postData = {\n                    userDetail: {\n                        plate: this.odDetails?.userDetail?.plate,\n                        contact: this.odDetails?.userDetail?.contact,\n                        exitTime: exitDateTime,\n                        eventType: \"OD\",\n                    },\n                    cardDetail: {\n                        cardType: this.odDetails?.cardDetail?.cardType,\n                        userDevice: \"2\",\n                        orderType: \"3\",\n                        entry: [\n                            {\n                                locationCode: this.zoneDetails?.zcode,\n                                startAt: entryDateTime,\n                                quantity: \"1\",\n                            },\n                        ],\n                        payment: {\n                            lastFourDigits: this.odDetails?.payment?.lastFourDigits,\n                            expirationMonth: this.odDetails?.payment?.expirationMonth,\n                            expirationYear: this.odDetails?.payment?.expirationYear,\n                            postalCode: this.odDetails?.payment?.postalCode,\n                            authorizationToken: this.odDetails?.payment?.authorizationToken,\n                            email: this.odDetails?.payment?.email,\n                            saveCard: this.odDetails?.payment?.saveCard,\n                            isDefault: this.odDetails?.payment?.isDefault,\n                            preAuthorizedOnly: this.odDetails?.payment?.preAuthorizedOnly,\n                        },\n                    },\n                    mid: this.zoneDetails.mid,\n                    source: \"web\"\n                };\n                var odAddCard = await API.prepaidAddCard(postData)\n                if (odAddCard?.data?.status == true) {\n                    this.$router.replace({ query: { bid: odAddCard?.data?.data?.bid } });\n\n                } else if (odAddCard?.data?.status == false) {\n                    this.alertDialog = true;\n                    this.alertMsg = odAddCard?.data?.message;\n                }\n                this.addPaymentLoading = false;\n                // this.$router.replace({ path: 'odExtension' })\n            } catch (error) {\n                this.addPaymentLoading = false;\n                console.log(error);\n            }\n        },\n        validateExpDate(month, year) {\n            if (month.length > 0 && year.length > 0) {\n                return true;\n            } else {\n                this.errDialog = true;\n                this.errMsg = \"Expiration date cannot be empty.\";\n                this.addPaymentLoading = false;\n                this.showPaymentBtn = true;\n                return false;\n            }\n        },\n        validateEmail(email) {\n            const re =\n                /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n            if (re.test(String(email).toLowerCase())) {\n                return true;\n            } else {\n                this.errDialog = true;\n                this.errMsg =\n                    email.length > 0 ? \"Invalid email\" : \"Email cannot be empty\";\n                this.addPaymentLoading = false;\n                this.showPaymentBtn = true;\n                return false;\n            }\n        },\n        validatePostalCode(code) {\n            if ((this.regex_US.test(code) || this.regex_CA.test(code)) && String(code).length <= 10) {\n                return true;\n            } else {\n                this.errDialog = true;\n                this.errMsg =\n                    code.length > 0\n                        ? \"Invalid postal code\"\n                        : \"Postal code cannot be empty\";\n                this.addPaymentLoading = false;\n                this.showPaymentBtn = true;\n                return false;\n            }\n        },\n        async getBookingState(bookingId) {\n            try {\n                var bookingDetails = await API.getBookingState(bookingId)\n                // bookingDetails.data.serverName == 'dev' ? document.querySelector('meta[name=\"theme-color\"]').setAttribute(\"content\", \"#43A047\") : \"\";\n                this.$store.commit(\n                    \"SET_BOOKING_DETAILS\",\n                    bookingDetails.data?.data ? bookingDetails.data.data : null\n                );\n                return bookingDetails.data?.data?.booking?.state\n                    ? bookingDetails.data.data.booking.state\n                    : null;\n            } catch (error) {\n                console.log(error);\n            }\n        },\n        openInfoDialog() {\n            this.infoDialog = true;\n            this.infoMsg =\n                \"By checking this box you agree to let us to securely save your credit card details so you don't have to enter them every time you visit.\";\n        },\n        openAutoCheckinInfoDialog() {\n            this.infoDialog = true;\n            this.infoMsg =\n                \"By checking this box you agree to let us securely save your license plate number and automatically let you in and out each time you visit.\";\n        },\n    },\n    beforeDestroy: function () {\n        this.hps.dispose();\n    },\n};\n</script>\n<style lang=\"less\">\ninput {\n    background: \"#fff\";\n    border: \"1px solid\";\n    border-color: \"#bbb3b9 #c7c1c6 #c7c1c6\";\n    box-sizing: \"border-box\";\n    font-family: \"serif\";\n    font-size: \"16px\";\n    line-height: \"1\";\n    margin: \"0 .5em 0 0\";\n    max-width: \"100%\";\n    outline: \"0\";\n    padding: \"0.5278em\";\n    vertical-align: \"baseline\";\n    height: \"50px\";\n    width: \"100% !important\";\n}\n\n#heartland-frame-cardNumber {\n    width: 100% !important;\n}\n\n#heartland-frame-cardExpiration,\n#heartland-frame-cardCvv {\n    width: 100% !important;\n}\n\nbody {\n    font-family: sans-serif;\n}\n\nlabel[for=\"iframesCardNumber\"],\nlabel[for=\"iframesCardExpiration\"],\nlabel[for=\"iframesCardCvv\"],\nlabel[for=\"postalCode\"] {\n    text-transform: uppercase;\n    font-weight: bold;\n    font-size: 13px;\n    color: #8ca2ad;\n    line-height: 1.5;\n}\n\nuser agent stylesheet div {\n    display: block;\n}\n\n.form-row {\n    margin-top: 10px;\n}\n\n.form-wrapper {\n    display: block;\n    width: 100%;\n    margin: 10px auto;\n}\n\n.hps_input {\n    font-family: sans-serif;\n    box-sizing: border-box;\n    display: block;\n    height: 50px;\n    padding: 6px 6px;\n    font-size: 14px;\n    line-height: 1.42857143;\n    color: #555;\n    background-color: #fff;\n    border-bottom: 1px solid #ccc;\n    border-top: 0px;\n    border-left: 0px;\n    border-right: 0px;\n    border-radius: 0px;\n    -webkit-transition: border-color ease-in-out 0.15s,\n        -webkit-box-shadow ease-in-out 0.15s;\n    -o-transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n    transition: border-color ease-in-out 0.15s, box-shadow ease-in-out 0.15s;\n    width: 100%;\n}\n\n.add_payment_title {\n    background-color: #f7f9fa;\n\n    span {\n        font-weight: 600;\n        color: #44515a;\n    }\n}\n\n.v-label {\n    font-size: 10px;\n}\n\n.hps_label {\n    text-transform: uppercase;\n    font-weight: bold;\n    font-size: 13px;\n    color: #8ca2ad;\n    line-height: 1.5;\n}\n\n.hps_input[placeholder] {\n    letter-spacing: 1px;\n}\n\n.hps_input:focus {\n    border-top: 0px;\n    border-left: 0px;\n    border-right: 0px;\n    border-bottom: 1px solid #3989e3;\n    outline: none;\n    box-shadow: none;\n    height: 50px;\n}\n\n#heartland-frame-submit {\n    border-radius: 40px;\n    height: 50px !important;\n    width: 100%;\n}\n\n::placeholder {\n    color: #8ca2ad;\n}\n\n:-ms-input-placeholder {\n    /* Internet Explorer 10-11 */\n    color: #8ca2ad;\n}\n\n::-ms-input-placeholder {\n    /* Microsoft Edge */\n    color: #8ca2ad;\n}\n</style>"],"sourceRoot":"src/views/session"}]}