{"remainingRequest":"/home/vignesh/DIVRT/guest-webapp/node_modules/thread-loader/dist/cjs.js!/home/vignesh/DIVRT/guest-webapp/node_modules/babel-loader/lib/index.js!/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/vignesh/DIVRT/guest-webapp/src/views/SuccessPedestrianAccess.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/vignesh/DIVRT/guest-webapp/src/views/SuccessPedestrianAccess.vue","mtime":1673262692534},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/vignesh/DIVRT/guest-webapp/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9ob21lL3ZpZ25lc2gvRElWUlQvZ3Vlc3Qtd2ViYXBwL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IF9vYmplY3RTcHJlYWQgZnJvbSAiL2hvbWUvdmlnbmVzaC9ESVZSVC9ndWVzdC13ZWJhcHAvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL29iamVjdFNwcmVhZDIiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnN0cmluZy5yZXBsYWNlLmpzIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgeyBtYXBHZXR0ZXJzIH0gZnJvbSAidnVleCI7CmltcG9ydCBBUElIZWxwZXIgZnJvbSAiLi4vYXBpSGVscGVyIjsgLy8gaW1wb3J0IGxvZ2dlckhlbHBlciBmcm9tICIuLi9sb2dnZXJIZWxwZXIiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJTdWNjZXNzUGVkZXN0cmlhbkFjY2VzcyIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIGNvbXB1dGVkOiBfb2JqZWN0U3ByZWFkKHt9LCBtYXBHZXR0ZXJzKHsKICAgIGJvb2tpbmdJZDogImdldHRlckJvb2tpbmdJZCIsCiAgICBib29raW5nRGV0YWlsczogImdldHRlckJvb2tpbmdEZXRhaWxzIgogIH0pKSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBzZXRUaW1lb3V0KCAvKiNfX1BVUkVfXyovX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLmdldEJvb2tpbmdTdGF0ZSgpOwoKICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSwgNDAwMCk7CiAgfSwKICB1bm1vdW50ZWQ6IGZ1bmN0aW9uIHVubW91bnRlZCgpIHt9LAogIG1ldGhvZHM6IHsKICAgIGdldEJvb2tpbmdTdGF0ZTogZnVuY3Rpb24gZ2V0Qm9va2luZ1N0YXRlKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUzKCkgewogICAgICAgIHZhciBfYkRldGFpbHMkZGF0YSwgX2JEZXRhaWxzJGRhdGEkZGF0YSwgX2JEZXRhaWxzJGRhdGEkZGF0YSRiLCBiRGV0YWlscywgYm9va2luZ1N0YXRlLCBfYkRldGFpbHMkZGF0YTI7CgogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczIuYm9va2luZ0lkICE9IG51bGwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5wcmV2ID0gMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBBUElIZWxwZXIoIkdFVCIsICIvYXBpL3YxL2Jvb2tpbmcvY29uZmlnLyIgKyBfdGhpczIuYm9va2luZ0lkKTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgYkRldGFpbHMgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIGJvb2tpbmdTdGF0ZSA9IChfYkRldGFpbHMkZGF0YSA9IGJEZXRhaWxzLmRhdGEpICE9PSBudWxsICYmIF9iRGV0YWlscyRkYXRhICE9PSB2b2lkIDAgJiYgKF9iRGV0YWlscyRkYXRhJGRhdGEgPSBfYkRldGFpbHMkZGF0YS5kYXRhKSAhPT0gbnVsbCAmJiBfYkRldGFpbHMkZGF0YSRkYXRhICE9PSB2b2lkIDAgJiYgKF9iRGV0YWlscyRkYXRhJGRhdGEkYiA9IF9iRGV0YWlscyRkYXRhJGRhdGEuYm9va2luZykgIT09IG51bGwgJiYgX2JEZXRhaWxzJGRhdGEkZGF0YSRiICE9PSB2b2lkIDAgJiYgX2JEZXRhaWxzJGRhdGEkZGF0YSRiLnN0YXRlID8gYkRldGFpbHMuZGF0YS5kYXRhLmJvb2tpbmcuc3RhdGUgOiBudWxsOwoKICAgICAgICAgICAgICAgIGlmIChib29raW5nU3RhdGUgPT0gOCB8fCBib29raW5nU3RhdGUgPT0gMTApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnBvc3RUb0xvZ2dlckFQSSh7CiAgICAgICAgICAgICAgICAgICAgcGhvbmU6IGJEZXRhaWxzLmRhdGEuZGF0YS51c2VyLmNvbnRhY3QsCiAgICAgICAgICAgICAgICAgICAgcmVmSWQ6IF90aGlzMi5ib29raW5nSWQsCiAgICAgICAgICAgICAgICAgICAgc3RhdHVzVGV4dDogIkxvYWRlZCBwZWRlc3RyaWFuIGFjY2VzcyBzdWNjZXNzIHBhZ2UuIgogICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgIF90aGlzMi4kcm91dGVyLnJlcGxhY2UoewogICAgICAgICAgICAgICAgICAgIHBhdGg6ICIvY2hlY2tvdXQiCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIGlmIChib29raW5nU3RhdGUgPT0gMikgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHN0b3JlLmNvbW1pdCgiU0VUX0JPT0tJTkdfREVUQUlMUyIsIChfYkRldGFpbHMkZGF0YTIgPSBiRGV0YWlscy5kYXRhKSAhPT0gbnVsbCAmJiBfYkRldGFpbHMkZGF0YTIgIT09IHZvaWQgMCAmJiBfYkRldGFpbHMkZGF0YTIuZGF0YSA/IGJEZXRhaWxzLmRhdGEuZGF0YSA6IG51bGwpOwoKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRyb3V0ZXIucmVwbGFjZSh7CiAgICAgICAgICAgICAgICAgICAgcGF0aDogIi9jaGVja2VkaW4iCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCggLyojX19QVVJFX18qL19hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuZ2V0Qm9va2luZ1N0YXRlKCk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgIH0pKSwgNDAwMCk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSAxMjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBfY29udGV4dDMucHJldiA9IDk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMudDAgPSBfY29udGV4dDNbImNhdGNoIl0oMSk7CiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhfY29udGV4dDMudDApOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzLCBudWxsLCBbWzEsIDldXSk7CiAgICAgIH0pKSgpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["SuccessPedestrianAccess.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,SAAA,UAAA,QAAA,MAAA;AACA,OAAA,SAAA,MAAA,cAAA,C,CACA;;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,yBADA;AAEA,EAAA,IAAA,EAAA;AAAA,WAAA,EAAA;AAAA,GAFA;AAGA,EAAA,QAAA,oBACA,UAAA,CAAA;AACA,IAAA,SAAA,EAAA,iBADA;AAEA,IAAA,cAAA,EAAA;AAFA,GAAA,CADA,CAHA;AAUA,EAAA,OAVA,qBAUA;AAAA;;AACA,IAAA,UAAA,uEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACA,KAAA,CAAA,eAAA,EADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAA,IAEA,IAFA,CAAA;AAGA,GAdA;AAeA,EAAA,SAfA,uBAeA,CAEA,CAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AAAA;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,sBACA,MAAA,CAAA,SAAA,IAAA,IADA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,uBAGA,SAAA,CACA,KADA,EAEA,4BAAA,MAAA,CAAA,SAFA,CAHA;;AAAA;AAGA,gBAAA,QAHA;AAOA,gBAAA,YAPA,GAOA,kBAAA,QAAA,CAAA,IAAA,iFAAA,IAAA,6FAAA,OAAA,wEAAA,KAAA,GACA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OAAA,CAAA,KADA,GAEA,IATA;;AAUA,oBAAA,YAAA,IAAA,CAAA,IAAA,YAAA,IAAA,EAAA,EAAA;AACA,kBAAA,MAAA,CAAA,eAAA,CAAA;AACA,oBAAA,KAAA,EAAA,QAAA,CAAA,IAAA,CAAA,IAAA,CAAA,IAAA,CAAA,OADA;AAEA,oBAAA,KAAA,EAAA,MAAA,CAAA,SAFA;AAGA,oBAAA,UAAA,EAAA;AAHA,mBAAA;;AAKA,kBAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AAAA,oBAAA,IAAA,EAAA;AAAA,mBAAA;AACA,iBAPA,MAOA,IAAA,YAAA,IAAA,CAAA,EAAA;AACA,kBAAA,MAAA,CAAA,MAAA,CAAA,MAAA,CACA,qBADA,EAEA,mBAAA,QAAA,CAAA,IAAA,4DAAA,IAAA,GAAA,QAAA,CAAA,IAAA,CAAA,IAAA,GAAA,IAFA;;AAIA,kBAAA,MAAA,CAAA,OAAA,CAAA,OAAA,CAAA;AAAA,oBAAA,IAAA,EAAA;AAAA,mBAAA;AACA,iBANA,MAMA;AACA,kBAAA,UAAA,uEAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCACA,MAAA,CAAA,eAAA,EADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAA,IAEA,IAFA,CAAA;AAGA;;AA3BA;AAAA;;AAAA;AAAA;AAAA;AA6BA,gBAAA,OAAA,CAAA,GAAA;;AA7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgCA;AAjCA;AAlBA,CAAA","sourcesContent":["<template>\n  <v-container class=\"pa-0 text-center fill-height\" fluid>\n    <v-row\n      class=\"white fill-height\"\n      align-content=\"center\"\n      justify=\"center\"\n      no-gutters\n    >\n      <v-col cols=\"12\" >\n        <v-img\n          alt=\"Success\"\n          contain\n          height=\"175\"\n          src=\"../assets/success_check.gif\"\n        />\n      </v-col>\n         <v-col cols=\"12\" >\n        <p class=\"font-weight-bold\" style=\"color: #3d3f3c\">Opening door</p>\n      </v-col>\n        <v-col cols=\"12\" >\n        <p class=\"color-black caption px-2\" style=\"color: #3d3f3c\">Please enter within 10 secs after which the door would get locked again</p>\n      </v-col>\n    </v-row>\n  </v-container>\n</template>\n\n<script>\nimport { mapGetters } from \"vuex\";\nimport APIHelper from \"../apiHelper\";\n// import loggerHelper from \"../loggerHelper\";\n\nexport default {\n  name: \"SuccessPedestrianAccess\",\n  data: () => ({}),\n  computed: {\n    ...mapGetters({\n      bookingId: \"getterBookingId\",\n      bookingDetails: \"getterBookingDetails\",\n    }),\n  },\n\n  mounted() {\n    setTimeout(async () => {\n      await this.getBookingState();\n    }, 4000);\n  },\n  unmounted(){\n    \n  },\n  methods: {\n    async getBookingState() {\n      if (this.bookingId != null) {\n        try {\n          var bDetails = await APIHelper(\n            \"GET\",\n            \"/api/v1/booking/config/\" + this.bookingId\n          );\n          let bookingState = bDetails.data?.data?.booking?.state\n            ? bDetails.data.data.booking.state\n            : null;\n          if (bookingState == 8 || bookingState == 10) {\n            this.postToLoggerAPI({\n                phone: bDetails.data.data.user.contact,\n                refId: this.bookingId,\n                statusText: \"Loaded pedestrian access success page.\",\n              })\n            this.$router.replace({ path: \"/checkout\" });\n          } else if (bookingState == 2) {\n            this.$store.commit(\n          \"SET_BOOKING_DETAILS\",\n          bDetails.data?.data ? bDetails.data.data : null\n        );\n            this.$router.replace({ path: \"/checkedin\" });\n          } else {\n            setTimeout(async () => {\n              await this.getBookingState();\n            }, 4000);\n          }\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    },\n  },\n};\n</script>\n<style lang=\"less\">\n</style>\n"],"sourceRoot":"src/views"}]}